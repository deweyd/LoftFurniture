function xE(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function bE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t_={exports:{}},Cu={},n_={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ua=Symbol.for("react.element"),LE=Symbol.for("react.portal"),kE=Symbol.for("react.fragment"),TE=Symbol.for("react.strict_mode"),IE=Symbol.for("react.profiler"),PE=Symbol.for("react.provider"),ME=Symbol.for("react.context"),NE=Symbol.for("react.forward_ref"),RE=Symbol.for("react.suspense"),OE=Symbol.for("react.memo"),AE=Symbol.for("react.lazy"),xg=Symbol.iterator;function DE(t){return t===null||typeof t!="object"?null:(t=xg&&t[xg]||t["@@iterator"],typeof t=="function"?t:null)}var i_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r_=Object.assign,s_={};function Ns(t,e,n){this.props=t,this.context=e,this.refs=s_,this.updater=n||i_}Ns.prototype.isReactComponent={};Ns.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ns.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function o_(){}o_.prototype=Ns.prototype;function uh(t,e,n){this.props=t,this.context=e,this.refs=s_,this.updater=n||i_}var ch=uh.prototype=new o_;ch.constructor=uh;r_(ch,Ns.prototype);ch.isPureReactComponent=!0;var bg=Array.isArray,a_=Object.prototype.hasOwnProperty,dh={current:null},l_={key:!0,ref:!0,__self:!0,__source:!0};function u_(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)a_.call(e,i)&&!l_.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:ua,type:t,key:s,ref:o,props:r,_owner:dh.current}}function jE(t,e){return{$$typeof:ua,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ua}function FE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Lg=/\/+/g;function Pc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FE(""+t.key):e.toString(36)}function ul(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ua:case LE:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Pc(o,0):i,bg(r)?(n="",t!=null&&(n=t.replace(Lg,"$&/")+"/"),ul(r,e,n,"",function(u){return u})):r!=null&&(fh(r)&&(r=jE(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Lg,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",bg(t))for(var l=0;l<t.length;l++){s=t[l];var a=i+Pc(s,l);o+=ul(s,e,n,a,r)}else if(a=DE(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=i+Pc(s,l++),o+=ul(s,e,n,a,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ja(t,e,n){if(t==null)return t;var i=[],r=0;return ul(t,i,"","",function(s){return e.call(n,s,r++)}),i}function UE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},cl={transition:null},zE={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:cl,ReactCurrentOwner:dh};_e.Children={map:ja,forEach:function(t,e,n){ja(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ja(t,function(){e++}),e},toArray:function(t){return ja(t,function(e){return e})||[]},only:function(t){if(!fh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Ns;_e.Fragment=kE;_e.Profiler=IE;_e.PureComponent=uh;_e.StrictMode=TE;_e.Suspense=RE;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zE;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=r_({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=dh.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)a_.call(e,a)&&!l_.hasOwnProperty(a)&&(i[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:ua,type:t.type,key:r,ref:s,props:i,_owner:o}};_e.createContext=function(t){return t={$$typeof:ME,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PE,_context:t},t.Consumer=t};_e.createElement=u_;_e.createFactory=function(t){var e=u_.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:NE,render:t}};_e.isValidElement=fh;_e.lazy=function(t){return{$$typeof:AE,_payload:{_status:-1,_result:t},_init:UE}};_e.memo=function(t,e){return{$$typeof:OE,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=cl.transition;cl.transition={};try{t()}finally{cl.transition=e}};_e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_e.useCallback=function(t,e){return Dt.current.useCallback(t,e)};_e.useContext=function(t){return Dt.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};_e.useEffect=function(t,e){return Dt.current.useEffect(t,e)};_e.useId=function(){return Dt.current.useId()};_e.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return Dt.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};_e.useRef=function(t){return Dt.current.useRef(t)};_e.useState=function(t){return Dt.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return Dt.current.useTransition()};_e.version="18.2.0";n_.exports=_e;var f=n_.exports;const nt=bE(f),BE=xE({__proto__:null,default:nt},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E=f,VE=Symbol.for("react.element"),WE=Symbol.for("react.fragment"),HE=Object.prototype.hasOwnProperty,GE=$E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KE={key:!0,ref:!0,__self:!0,__source:!0};function c_(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)HE.call(e,i)&&!KE.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:VE,type:t,key:s,ref:o,props:r,_owner:GE.current}}Cu.Fragment=WE;Cu.jsx=c_;Cu.jsxs=c_;t_.exports=Cu;var p=t_.exports,Pd={},d_={exports:{}},rn={},f_={exports:{}},h_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,j){var F=A.length;A.push(j);e:for(;0<F;){var N=F-1>>>1,B=A[N];if(0<r(B,j))A[N]=j,A[F]=B,F=N;else break e}}function n(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var j=A[0],F=A.pop();if(F!==j){A[0]=F;e:for(var N=0,B=A.length,Z=B>>>1;N<Z;){var ee=2*(N+1)-1,ge=A[ee],D=ee+1,re=A[D];if(0>r(ge,F))D<B&&0>r(re,ge)?(A[N]=re,A[D]=F,N=D):(A[N]=ge,A[ee]=F,N=ee);else if(D<B&&0>r(re,F))A[N]=re,A[D]=F,N=D;else break e}}return j}function r(A,j){var F=A.sortIndex-j.sortIndex;return F!==0?F:A.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,h=3,g=!1,w=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var j=n(u);j!==null;){if(j.callback===null)i(u);else if(j.startTime<=A)i(u),j.sortIndex=j.expirationTime,e(a,j);else break;j=n(u)}}function C(A){if(y=!1,v(A),!w)if(n(a)!==null)w=!0,H(x);else{var j=n(u);j!==null&&z(C,j.startTime-A)}}function x(A,j){w=!1,y&&(y=!1,_(b),b=-1),g=!0;var F=h;try{for(v(j),d=n(a);d!==null&&(!(d.expirationTime>j)||A&&!M());){var N=d.callback;if(typeof N=="function"){d.callback=null,h=d.priorityLevel;var B=N(d.expirationTime<=j);j=t.unstable_now(),typeof B=="function"?d.callback=B:d===n(a)&&i(a),v(j)}else i(a);d=n(a)}if(d!==null)var Z=!0;else{var ee=n(u);ee!==null&&z(C,ee.startTime-j),Z=!1}return Z}finally{d=null,h=F,g=!1}}var S=!1,L=null,b=-1,k=5,T=-1;function M(){return!(t.unstable_now()-T<k)}function I(){if(L!==null){var A=t.unstable_now();T=A;var j=!0;try{j=L(!0,A)}finally{j?O():(S=!1,L=null)}}else S=!1}var O;if(typeof m=="function")O=function(){m(I)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=I,O=function(){$.postMessage(null)}}else O=function(){E(I,0)};function H(A){L=A,S||(S=!0,O())}function z(A,j){b=E(function(){A(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,H(x))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(A){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var F=h;h=j;try{return A()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,j){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var F=h;h=A;try{return j()}finally{h=F}},t.unstable_scheduleCallback=function(A,j,F){var N=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?N+F:N):F=N,A){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=F+B,A={id:c++,callback:j,priorityLevel:A,startTime:F,expirationTime:B,sortIndex:-1},F>N?(A.sortIndex=F,e(u,A),n(a)===null&&A===n(u)&&(y?(_(b),b=-1):y=!0,z(C,F-N))):(A.sortIndex=B,e(a,A),w||g||(w=!0,H(x))),A},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(A){var j=h;return function(){var F=h;h=j;try{return A.apply(this,arguments)}finally{h=F}}}})(h_);f_.exports=h_;var QE=f_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_=f,en=QE;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g_=new Set,Io={};function jr(t,e){_s(t,e),_s(t+"Capture",e)}function _s(t,e){for(Io[t]=e,t=0;t<e.length;t++)g_.add(e[t])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Md=Object.prototype.hasOwnProperty,qE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kg={},Tg={};function YE(t){return Md.call(Tg,t)?!0:Md.call(kg,t)?!1:qE.test(t)?Tg[t]=!0:(kg[t]=!0,!1)}function ZE(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XE(t,e,n,i){if(e===null||typeof e>"u"||ZE(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var hh=/[\-:]([a-z])/g;function ph(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hh,ph);bt[e]=new jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hh,ph);bt[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hh,ph);bt[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function gh(t,e,n,i){var r=bt.hasOwnProperty(e)?bt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XE(e,n,r,i)&&(n=null),i||r===null?YE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var di=p_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fa=Symbol.for("react.element"),Zr=Symbol.for("react.portal"),Xr=Symbol.for("react.fragment"),mh=Symbol.for("react.strict_mode"),Nd=Symbol.for("react.profiler"),m_=Symbol.for("react.provider"),v_=Symbol.for("react.context"),vh=Symbol.for("react.forward_ref"),Rd=Symbol.for("react.suspense"),Od=Symbol.for("react.suspense_list"),yh=Symbol.for("react.memo"),wi=Symbol.for("react.lazy"),y_=Symbol.for("react.offscreen"),Ig=Symbol.iterator;function Vs(t){return t===null||typeof t!="object"?null:(t=Ig&&t[Ig]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Mc;function oo(t){if(Mc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mc=e&&e[1]||""}return`
`+Mc+t}var Nc=!1;function Rc(t,e){if(!t||Nc)return"";Nc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,l=s.length-1;1<=o&&0<=l&&r[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==s[l]){var a=`
`+r[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Nc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oo(t):""}function JE(t){switch(t.tag){case 5:return oo(t.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 2:case 15:return t=Rc(t.type,!1),t;case 11:return t=Rc(t.type.render,!1),t;case 1:return t=Rc(t.type,!0),t;default:return""}}function Ad(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xr:return"Fragment";case Zr:return"Portal";case Nd:return"Profiler";case mh:return"StrictMode";case Rd:return"Suspense";case Od:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case v_:return(t.displayName||"Context")+".Consumer";case m_:return(t._context.displayName||"Context")+".Provider";case vh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yh:return e=t.displayName||null,e!==null?e:Ad(t.type)||"Memo";case wi:e=t._payload,t=t._init;try{return Ad(t(e))}catch{}}return null}function ex(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ad(e);case 8:return e===mh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function __(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tx(t){var e=__(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ua(t){t._valueTracker||(t._valueTracker=tx(t))}function w_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=__(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function xl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dd(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pg(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Gi(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C_(t,e){e=e.checked,e!=null&&gh(t,"checked",e,!1)}function jd(t,e){C_(t,e);var n=Gi(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fd(t,e.type,Gi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fd(t,e,n){(e!=="number"||xl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ao=Array.isArray;function us(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Gi(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Ud(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ng(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(ao(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gi(n)}}function S_(t,e){var n=Gi(e.value),i=Gi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Rg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var za,x_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(za=za||document.createElement("div"),za.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=za.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Po(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nx=["Webkit","ms","Moz","O"];Object.keys(co).forEach(function(t){nx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),co[e]=co[t]})});function b_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||co.hasOwnProperty(t)&&co[t]?(""+e).trim():e+"px"}function L_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=b_(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var ix=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bd(t,e){if(e){if(ix[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function $d(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vd=null;function _h(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wd=null,cs=null,ds=null;function Og(t){if(t=fa(t)){if(typeof Wd!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Lu(e),Wd(t.stateNode,t.type,e))}}function k_(t){cs?ds?ds.push(t):ds=[t]:cs=t}function T_(){if(cs){var t=cs,e=ds;if(ds=cs=null,Og(t),e)for(t=0;t<e.length;t++)Og(e[t])}}function I_(t,e){return t(e)}function P_(){}var Oc=!1;function M_(t,e,n){if(Oc)return t(e,n);Oc=!0;try{return I_(t,e,n)}finally{Oc=!1,(cs!==null||ds!==null)&&(P_(),T_())}}function Mo(t,e){var n=t.stateNode;if(n===null)return null;var i=Lu(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Hd=!1;if(si)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){Hd=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{Hd=!1}function rx(t,e,n,i,r,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var fo=!1,bl=null,Ll=!1,Gd=null,sx={onError:function(t){fo=!0,bl=t}};function ox(t,e,n,i,r,s,o,l,a){fo=!1,bl=null,rx.apply(sx,arguments)}function ax(t,e,n,i,r,s,o,l,a){if(ox.apply(this,arguments),fo){if(fo){var u=bl;fo=!1,bl=null}else throw Error(U(198));Ll||(Ll=!0,Gd=u)}}function Fr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function N_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ag(t){if(Fr(t)!==t)throw Error(U(188))}function lx(t){var e=t.alternate;if(!e){if(e=Fr(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Ag(r),t;if(s===i)return Ag(r),e;s=s.sibling}throw Error(U(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function R_(t){return t=lx(t),t!==null?O_(t):null}function O_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=O_(t);if(e!==null)return e;t=t.sibling}return null}var A_=en.unstable_scheduleCallback,Dg=en.unstable_cancelCallback,ux=en.unstable_shouldYield,cx=en.unstable_requestPaint,it=en.unstable_now,dx=en.unstable_getCurrentPriorityLevel,wh=en.unstable_ImmediatePriority,D_=en.unstable_UserBlockingPriority,kl=en.unstable_NormalPriority,fx=en.unstable_LowPriority,j_=en.unstable_IdlePriority,Su=null,Vn=null;function hx(t){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Su,t,void 0,(t.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:mx,px=Math.log,gx=Math.LN2;function mx(t){return t>>>=0,t===0?32:31-(px(t)/gx|0)|0}var Ba=64,$a=4194304;function lo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tl(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?i=lo(l):(s&=o,s!==0&&(i=lo(s)))}else o=n&~r,o!==0?i=lo(o):s!==0&&(i=lo(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Rn(e),r=1<<n,i|=t[n],e&=~r;return i}function vx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yx(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Rn(s),l=1<<o,a=r[o];a===-1?(!(l&n)||l&i)&&(r[o]=vx(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Kd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function F_(){var t=Ba;return Ba<<=1,!(Ba&4194240)&&(Ba=64),t}function Ac(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ca(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rn(e),t[e]=n}function _x(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Rn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function Ch(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Rn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var ke=0;function U_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var z_,Sh,B_,$_,V_,Qd=!1,Va=[],Ri=null,Oi=null,Ai=null,No=new Map,Ro=new Map,Ei=[],wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jg(t,e){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":No.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(e.pointerId)}}function Hs(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=fa(e),e!==null&&Sh(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Cx(t,e,n,i,r){switch(e){case"focusin":return Ri=Hs(Ri,t,e,n,i,r),!0;case"dragenter":return Oi=Hs(Oi,t,e,n,i,r),!0;case"mouseover":return Ai=Hs(Ai,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return No.set(s,Hs(No.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ro.set(s,Hs(Ro.get(s)||null,t,e,n,i,r)),!0}return!1}function W_(t){var e=pr(t.target);if(e!==null){var n=Fr(e);if(n!==null){if(e=n.tag,e===13){if(e=N_(n),e!==null){t.blockedOn=e,V_(t.priority,function(){B_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Vd=i,n.target.dispatchEvent(i),Vd=null}else return e=fa(n),e!==null&&Sh(e),t.blockedOn=n,!1;e.shift()}return!0}function Fg(t,e,n){dl(t)&&n.delete(e)}function Sx(){Qd=!1,Ri!==null&&dl(Ri)&&(Ri=null),Oi!==null&&dl(Oi)&&(Oi=null),Ai!==null&&dl(Ai)&&(Ai=null),No.forEach(Fg),Ro.forEach(Fg)}function Gs(t,e){t.blockedOn===e&&(t.blockedOn=null,Qd||(Qd=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,Sx)))}function Oo(t){function e(r){return Gs(r,t)}if(0<Va.length){Gs(Va[0],t);for(var n=1;n<Va.length;n++){var i=Va[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Ri!==null&&Gs(Ri,t),Oi!==null&&Gs(Oi,t),Ai!==null&&Gs(Ai,t),No.forEach(e),Ro.forEach(e),n=0;n<Ei.length;n++)i=Ei[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Ei.length&&(n=Ei[0],n.blockedOn===null);)W_(n),n.blockedOn===null&&Ei.shift()}var fs=di.ReactCurrentBatchConfig,Il=!0;function Ex(t,e,n,i){var r=ke,s=fs.transition;fs.transition=null;try{ke=1,Eh(t,e,n,i)}finally{ke=r,fs.transition=s}}function xx(t,e,n,i){var r=ke,s=fs.transition;fs.transition=null;try{ke=4,Eh(t,e,n,i)}finally{ke=r,fs.transition=s}}function Eh(t,e,n,i){if(Il){var r=qd(t,e,n,i);if(r===null)Hc(t,e,i,Pl,n),jg(t,i);else if(Cx(r,t,e,n,i))i.stopPropagation();else if(jg(t,i),e&4&&-1<wx.indexOf(t)){for(;r!==null;){var s=fa(r);if(s!==null&&z_(s),s=qd(t,e,n,i),s===null&&Hc(t,e,i,Pl,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Hc(t,e,i,null,n)}}var Pl=null;function qd(t,e,n,i){if(Pl=null,t=_h(i),t=pr(t),t!==null)if(e=Fr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=N_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pl=t,null}function H_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dx()){case wh:return 1;case D_:return 4;case kl:case fx:return 16;case j_:return 536870912;default:return 16}default:return 16}}var Li=null,xh=null,fl=null;function G_(){if(fl)return fl;var t,e=xh,n=e.length,i,r="value"in Li?Li.value:Li.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return fl=r.slice(t,1<i?1-i:void 0)}function hl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wa(){return!0}function Ug(){return!1}function sn(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wa:Ug,this.isPropagationStopped=Ug,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),e}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bh=sn(Rs),da=Ye({},Rs,{view:0,detail:0}),bx=sn(da),Dc,jc,Ks,Eu=Ye({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ks&&(Ks&&t.type==="mousemove"?(Dc=t.screenX-Ks.screenX,jc=t.screenY-Ks.screenY):jc=Dc=0,Ks=t),Dc)},movementY:function(t){return"movementY"in t?t.movementY:jc}}),zg=sn(Eu),Lx=Ye({},Eu,{dataTransfer:0}),kx=sn(Lx),Tx=Ye({},da,{relatedTarget:0}),Fc=sn(Tx),Ix=Ye({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Px=sn(Ix),Mx=Ye({},Rs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nx=sn(Mx),Rx=Ye({},Rs,{data:0}),Bg=sn(Rx),Ox={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ax={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dx[t])?!!e[t]:!1}function Lh(){return jx}var Fx=Ye({},da,{key:function(t){if(t.key){var e=Ox[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ax[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lh,charCode:function(t){return t.type==="keypress"?hl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ux=sn(Fx),zx=Ye({},Eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$g=sn(zx),Bx=Ye({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lh}),$x=sn(Bx),Vx=Ye({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wx=sn(Vx),Hx=Ye({},Eu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gx=sn(Hx),Kx=[9,13,27,32],kh=si&&"CompositionEvent"in window,ho=null;si&&"documentMode"in document&&(ho=document.documentMode);var Qx=si&&"TextEvent"in window&&!ho,K_=si&&(!kh||ho&&8<ho&&11>=ho),Vg=String.fromCharCode(32),Wg=!1;function Q_(t,e){switch(t){case"keyup":return Kx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jr=!1;function qx(t,e){switch(t){case"compositionend":return q_(e);case"keypress":return e.which!==32?null:(Wg=!0,Vg);case"textInput":return t=e.data,t===Vg&&Wg?null:t;default:return null}}function Yx(t,e){if(Jr)return t==="compositionend"||!kh&&Q_(t,e)?(t=G_(),fl=xh=Li=null,Jr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return K_&&e.locale!=="ko"?null:e.data;default:return null}}var Zx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Zx[t.type]:e==="textarea"}function Y_(t,e,n,i){k_(i),e=Ml(e,"onChange"),0<e.length&&(n=new bh("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var po=null,Ao=null;function Xx(t){aw(t,0)}function xu(t){var e=ns(t);if(w_(e))return t}function Jx(t,e){if(t==="change")return e}var Z_=!1;if(si){var Uc;if(si){var zc="oninput"in document;if(!zc){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),zc=typeof Gg.oninput=="function"}Uc=zc}else Uc=!1;Z_=Uc&&(!document.documentMode||9<document.documentMode)}function Kg(){po&&(po.detachEvent("onpropertychange",X_),Ao=po=null)}function X_(t){if(t.propertyName==="value"&&xu(Ao)){var e=[];Y_(e,Ao,t,_h(t)),M_(Xx,e)}}function eb(t,e,n){t==="focusin"?(Kg(),po=e,Ao=n,po.attachEvent("onpropertychange",X_)):t==="focusout"&&Kg()}function tb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(Ao)}function nb(t,e){if(t==="click")return xu(e)}function ib(t,e){if(t==="input"||t==="change")return xu(e)}function rb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:rb;function Do(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Md.call(e,r)||!Dn(t[r],e[r]))return!1}return!0}function Qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qg(t,e){var n=Qg(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qg(n)}}function J_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?J_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ew(){for(var t=window,e=xl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xl(t.document)}return e}function Th(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sb(t){var e=ew(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&J_(n.ownerDocument.documentElement,n)){if(i!==null&&Th(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=qg(n,s);var o=qg(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ob=si&&"documentMode"in document&&11>=document.documentMode,es=null,Yd=null,go=null,Zd=!1;function Yg(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zd||es==null||es!==xl(i)||(i=es,"selectionStart"in i&&Th(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),go&&Do(go,i)||(go=i,i=Ml(Yd,"onSelect"),0<i.length&&(e=new bh("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=es)))}function Ha(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ts={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},Bc={},tw={};si&&(tw=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function bu(t){if(Bc[t])return Bc[t];if(!ts[t])return t;var e=ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tw)return Bc[t]=e[n];return t}var nw=bu("animationend"),iw=bu("animationiteration"),rw=bu("animationstart"),sw=bu("transitionend"),ow=new Map,Zg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(t,e){ow.set(t,e),jr(e,[t])}for(var $c=0;$c<Zg.length;$c++){var Vc=Zg[$c],ab=Vc.toLowerCase(),lb=Vc[0].toUpperCase()+Vc.slice(1);tr(ab,"on"+lb)}tr(nw,"onAnimationEnd");tr(iw,"onAnimationIteration");tr(rw,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(sw,"onTransitionEnd");_s("onMouseEnter",["mouseout","mouseover"]);_s("onMouseLeave",["mouseout","mouseover"]);_s("onPointerEnter",["pointerout","pointerover"]);_s("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ub=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function Xg(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,ax(i,e,void 0,t),t.currentTarget=null}function aw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&r.isPropagationStopped())break e;Xg(r,l,u),s=a}else for(o=0;o<i.length;o++){if(l=i[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&r.isPropagationStopped())break e;Xg(r,l,u),s=a}}}if(Ll)throw t=Gd,Ll=!1,Gd=null,t}function $e(t,e){var n=e[nf];n===void 0&&(n=e[nf]=new Set);var i=t+"__bubble";n.has(i)||(lw(e,t,2,!1),n.add(i))}function Wc(t,e,n){var i=0;e&&(i|=4),lw(n,t,i,e)}var Ga="_reactListening"+Math.random().toString(36).slice(2);function jo(t){if(!t[Ga]){t[Ga]=!0,g_.forEach(function(n){n!=="selectionchange"&&(ub.has(n)||Wc(n,!1,t),Wc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ga]||(e[Ga]=!0,Wc("selectionchange",!1,e))}}function lw(t,e,n,i){switch(H_(e)){case 1:var r=Ex;break;case 4:r=xx;break;default:r=Eh}n=r.bind(null,e,n,t),r=void 0,!Hd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Hc(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===r||a.nodeType===8&&a.parentNode===r))return;o=o.return}for(;l!==null;){if(o=pr(l),o===null)return;if(a=o.tag,a===5||a===6){i=s=o;continue e}l=l.parentNode}}i=i.return}M_(function(){var u=s,c=_h(n),d=[];e:{var h=ow.get(t);if(h!==void 0){var g=bh,w=t;switch(t){case"keypress":if(hl(n)===0)break e;case"keydown":case"keyup":g=Ux;break;case"focusin":w="focus",g=Fc;break;case"focusout":w="blur",g=Fc;break;case"beforeblur":case"afterblur":g=Fc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=kx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=$x;break;case nw:case iw:case rw:g=Px;break;case sw:g=Wx;break;case"scroll":g=bx;break;case"wheel":g=Gx;break;case"copy":case"cut":case"paste":g=Nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=$g}var y=(e&4)!==0,E=!y&&t==="scroll",_=y?h!==null?h+"Capture":null:h;y=[];for(var m=u,v;m!==null;){v=m;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,_!==null&&(C=Mo(m,_),C!=null&&y.push(Fo(m,C,v)))),E)break;m=m.return}0<y.length&&(h=new g(h,w,null,n,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Vd&&(w=n.relatedTarget||n.fromElement)&&(pr(w)||w[oi]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?pr(w):null,w!==null&&(E=Fr(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(y=zg,C="onMouseLeave",_="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=$g,C="onPointerLeave",_="onPointerEnter",m="pointer"),E=g==null?h:ns(g),v=w==null?h:ns(w),h=new y(C,m+"leave",g,n,c),h.target=E,h.relatedTarget=v,C=null,pr(c)===u&&(y=new y(_,m+"enter",w,n,c),y.target=v,y.relatedTarget=E,C=y),E=C,g&&w)t:{for(y=g,_=w,m=0,v=y;v;v=Qr(v))m++;for(v=0,C=_;C;C=Qr(C))v++;for(;0<m-v;)y=Qr(y),m--;for(;0<v-m;)_=Qr(_),v--;for(;m--;){if(y===_||_!==null&&y===_.alternate)break t;y=Qr(y),_=Qr(_)}y=null}else y=null;g!==null&&Jg(d,h,g,y,!1),w!==null&&E!==null&&Jg(d,E,w,y,!0)}}e:{if(h=u?ns(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var x=Jx;else if(Hg(h))if(Z_)x=ib;else{x=tb;var S=eb}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=nb);if(x&&(x=x(t,u))){Y_(d,x,n,c);break e}S&&S(t,h,u),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Fd(h,"number",h.value)}switch(S=u?ns(u):window,t){case"focusin":(Hg(S)||S.contentEditable==="true")&&(es=S,Yd=u,go=null);break;case"focusout":go=Yd=es=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,Yg(d,n,c);break;case"selectionchange":if(ob)break;case"keydown":case"keyup":Yg(d,n,c)}var L;if(kh)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Jr?Q_(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(K_&&n.locale!=="ko"&&(Jr||b!=="onCompositionStart"?b==="onCompositionEnd"&&Jr&&(L=G_()):(Li=c,xh="value"in Li?Li.value:Li.textContent,Jr=!0)),S=Ml(u,b),0<S.length&&(b=new Bg(b,t,null,n,c),d.push({event:b,listeners:S}),L?b.data=L:(L=q_(n),L!==null&&(b.data=L)))),(L=Qx?qx(t,n):Yx(t,n))&&(u=Ml(u,"onBeforeInput"),0<u.length&&(c=new Bg("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=L))}aw(d,e)})}function Fo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ml(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Mo(t,n),s!=null&&i.unshift(Fo(t,s,r)),s=Mo(t,e),s!=null&&i.push(Fo(t,s,r))),t=t.return}return i}function Qr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jg(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&u!==null&&(l=u,r?(a=Mo(n,s),a!=null&&o.unshift(Fo(n,a,l))):r||(a=Mo(n,s),a!=null&&o.push(Fo(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cb=/\r\n?/g,db=/\u0000|\uFFFD/g;function em(t){return(typeof t=="string"?t:""+t).replace(cb,`
`).replace(db,"")}function Ka(t,e,n){if(e=em(e),em(t)!==e&&n)throw Error(U(425))}function Nl(){}var Xd=null,Jd=null;function ef(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tf=typeof setTimeout=="function"?setTimeout:void 0,fb=typeof clearTimeout=="function"?clearTimeout:void 0,tm=typeof Promise=="function"?Promise:void 0,hb=typeof queueMicrotask=="function"?queueMicrotask:typeof tm<"u"?function(t){return tm.resolve(null).then(t).catch(pb)}:tf;function pb(t){setTimeout(function(){throw t})}function Gc(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Oo(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Oo(e)}function Di(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Os=Math.random().toString(36).slice(2),zn="__reactFiber$"+Os,Uo="__reactProps$"+Os,oi="__reactContainer$"+Os,nf="__reactEvents$"+Os,gb="__reactListeners$"+Os,mb="__reactHandles$"+Os;function pr(t){var e=t[zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oi]||n[zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=nm(t);t!==null;){if(n=t[zn])return n;t=nm(t)}return e}t=n,n=t.parentNode}return null}function fa(t){return t=t[zn]||t[oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ns(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Lu(t){return t[Uo]||null}var rf=[],is=-1;function nr(t){return{current:t}}function Ve(t){0>is||(t.current=rf[is],rf[is]=null,is--)}function Fe(t,e){is++,rf[is]=t.current,t.current=e}var Ki={},Pt=nr(Ki),$t=nr(!1),br=Ki;function ws(t,e){var n=t.type.contextTypes;if(!n)return Ki;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Vt(t){return t=t.childContextTypes,t!=null}function Rl(){Ve($t),Ve(Pt)}function im(t,e,n){if(Pt.current!==Ki)throw Error(U(168));Fe(Pt,e),Fe($t,n)}function uw(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(U(108,ex(t)||"Unknown",r));return Ye({},n,i)}function Ol(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ki,br=Pt.current,Fe(Pt,t),Fe($t,$t.current),!0}function rm(t,e,n){var i=t.stateNode;if(!i)throw Error(U(169));n?(t=uw(t,e,br),i.__reactInternalMemoizedMergedChildContext=t,Ve($t),Ve(Pt),Fe(Pt,t)):Ve($t),Fe($t,n)}var Xn=null,ku=!1,Kc=!1;function cw(t){Xn===null?Xn=[t]:Xn.push(t)}function vb(t){ku=!0,cw(t)}function ir(){if(!Kc&&Xn!==null){Kc=!0;var t=0,e=ke;try{var n=Xn;for(ke=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Xn=null,ku=!1}catch(r){throw Xn!==null&&(Xn=Xn.slice(t+1)),A_(wh,ir),r}finally{ke=e,Kc=!1}}return null}var rs=[],ss=0,Al=null,Dl=0,fn=[],hn=0,Lr=null,Jn=1,ei="";function cr(t,e){rs[ss++]=Dl,rs[ss++]=Al,Al=t,Dl=e}function dw(t,e,n){fn[hn++]=Jn,fn[hn++]=ei,fn[hn++]=Lr,Lr=t;var i=Jn;t=ei;var r=32-Rn(i)-1;i&=~(1<<r),n+=1;var s=32-Rn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Jn=1<<32-Rn(e)+r|n<<r|i,ei=s+t}else Jn=1<<s|n<<r|i,ei=t}function Ih(t){t.return!==null&&(cr(t,1),dw(t,1,0))}function Ph(t){for(;t===Al;)Al=rs[--ss],rs[ss]=null,Dl=rs[--ss],rs[ss]=null;for(;t===Lr;)Lr=fn[--hn],fn[hn]=null,ei=fn[--hn],fn[hn]=null,Jn=fn[--hn],fn[hn]=null}var Jt=null,Zt=null,We=!1,Mn=null;function fw(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jt=t,Zt=Di(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jt=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Lr!==null?{id:Jn,overflow:ei}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jt=t,Zt=null,!0):!1;default:return!1}}function sf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function of(t){if(We){var e=Zt;if(e){var n=e;if(!sm(t,e)){if(sf(t))throw Error(U(418));e=Di(n.nextSibling);var i=Jt;e&&sm(t,e)?fw(i,n):(t.flags=t.flags&-4097|2,We=!1,Jt=t)}}else{if(sf(t))throw Error(U(418));t.flags=t.flags&-4097|2,We=!1,Jt=t}}}function om(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jt=t}function Qa(t){if(t!==Jt)return!1;if(!We)return om(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ef(t.type,t.memoizedProps)),e&&(e=Zt)){if(sf(t))throw hw(),Error(U(418));for(;e;)fw(t,e),e=Di(e.nextSibling)}if(om(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zt=Di(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=Jt?Di(t.stateNode.nextSibling):null;return!0}function hw(){for(var t=Zt;t;)t=Di(t.nextSibling)}function Cs(){Zt=Jt=null,We=!1}function Mh(t){Mn===null?Mn=[t]:Mn.push(t)}var yb=di.ReactCurrentBatchConfig;function In(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var jl=nr(null),Fl=null,os=null,Nh=null;function Rh(){Nh=os=Fl=null}function Oh(t){var e=jl.current;Ve(jl),t._currentValue=e}function af(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function hs(t,e){Fl=t,Nh=os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(Nh!==t)if(t={context:t,memoizedValue:e,next:null},os===null){if(Fl===null)throw Error(U(308));os=t,Fl.dependencies={lanes:0,firstContext:t}}else os=os.next=t;return e}var gr=null;function Ah(t){gr===null?gr=[t]:gr.push(t)}function pw(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Ah(e)):(n.next=r.next,r.next=n),e.interleaved=n,ai(t,i)}function ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ci=!1;function Dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ni(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ji(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,we&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ai(t,n)}return r=i.interleaved,r===null?(e.next=e,Ah(i)):(e.next=r.next,r.next=e),i.interleaved=e,ai(t,n)}function pl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Ch(t,n)}}function am(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ul(t,e,n,i){var r=t.updateQueue;Ci=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=r.baseState;o=0,c=u=a=null,l=s;do{var h=l.lane,g=l.eventTime;if((i&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,y=l;switch(h=e,g=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){d=w.call(g,d,h);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,h=typeof w=="function"?w.call(g,d,h):w,h==null)break e;d=Ye({},d,h);break e;case 2:Ci=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=d):c=c.next=g,o|=h;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;h=l,l=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(1);if(c===null&&(a=d),r.baseState=a,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Tr|=o,t.lanes=o,t.memoizedState=d}}function lm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(U(191,r));r.call(i)}}}var mw=new p_.Component().refs;function lf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tu={isMounted:function(t){return(t=t._reactInternals)?Fr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=At(),r=Ui(t),s=ni(i,r);s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,r),e!==null&&(On(e,t,r,i),pl(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=At(),r=Ui(t),s=ni(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,r),e!==null&&(On(e,t,r,i),pl(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=At(),i=Ui(t),r=ni(n,i);r.tag=2,e!=null&&(r.callback=e),e=ji(t,r,i),e!==null&&(On(e,t,i,n),pl(e,t,i))}};function um(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Do(n,i)||!Do(r,s):!0}function vw(t,e,n){var i=!1,r=Ki,s=e.contextType;return typeof s=="object"&&s!==null?s=wn(s):(r=Vt(e)?br:Pt.current,i=e.contextTypes,s=(i=i!=null)?ws(t,r):Ki),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tu,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function cm(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Tu.enqueueReplaceState(e,e.state,null)}function uf(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=mw,Dh(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=wn(s):(s=Vt(e)?br:Pt.current,r.context=ws(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(lf(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Tu.enqueueReplaceState(r,r.state,null),Ul(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Qs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var i=n.stateNode}if(!i)throw Error(U(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=r.refs;l===mw&&(l=r.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function qa(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dm(t){var e=t._init;return e(t._payload)}function yw(t){function e(_,m){if(t){var v=_.deletions;v===null?(_.deletions=[m],_.flags|=16):v.push(m)}}function n(_,m){if(!t)return null;for(;m!==null;)e(_,m),m=m.sibling;return null}function i(_,m){for(_=new Map;m!==null;)m.key!==null?_.set(m.key,m):_.set(m.index,m),m=m.sibling;return _}function r(_,m){return _=zi(_,m),_.index=0,_.sibling=null,_}function s(_,m,v){return _.index=v,t?(v=_.alternate,v!==null?(v=v.index,v<m?(_.flags|=2,m):v):(_.flags|=2,m)):(_.flags|=1048576,m)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,m,v,C){return m===null||m.tag!==6?(m=ed(v,_.mode,C),m.return=_,m):(m=r(m,v),m.return=_,m)}function a(_,m,v,C){var x=v.type;return x===Xr?c(_,m,v.props.children,C,v.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===wi&&dm(x)===m.type)?(C=r(m,v.props),C.ref=Qs(_,m,v),C.return=_,C):(C=wl(v.type,v.key,v.props,null,_.mode,C),C.ref=Qs(_,m,v),C.return=_,C)}function u(_,m,v,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=td(v,_.mode,C),m.return=_,m):(m=r(m,v.children||[]),m.return=_,m)}function c(_,m,v,C,x){return m===null||m.tag!==7?(m=Sr(v,_.mode,C,x),m.return=_,m):(m=r(m,v),m.return=_,m)}function d(_,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ed(""+m,_.mode,v),m.return=_,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Fa:return v=wl(m.type,m.key,m.props,null,_.mode,v),v.ref=Qs(_,null,m),v.return=_,v;case Zr:return m=td(m,_.mode,v),m.return=_,m;case wi:var C=m._init;return d(_,C(m._payload),v)}if(ao(m)||Vs(m))return m=Sr(m,_.mode,v,null),m.return=_,m;qa(_,m)}return null}function h(_,m,v,C){var x=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:l(_,m,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fa:return v.key===x?a(_,m,v,C):null;case Zr:return v.key===x?u(_,m,v,C):null;case wi:return x=v._init,h(_,m,x(v._payload),C)}if(ao(v)||Vs(v))return x!==null?null:c(_,m,v,C,null);qa(_,v)}return null}function g(_,m,v,C,x){if(typeof C=="string"&&C!==""||typeof C=="number")return _=_.get(v)||null,l(m,_,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Fa:return _=_.get(C.key===null?v:C.key)||null,a(m,_,C,x);case Zr:return _=_.get(C.key===null?v:C.key)||null,u(m,_,C,x);case wi:var S=C._init;return g(_,m,v,S(C._payload),x)}if(ao(C)||Vs(C))return _=_.get(v)||null,c(m,_,C,x,null);qa(m,C)}return null}function w(_,m,v,C){for(var x=null,S=null,L=m,b=m=0,k=null;L!==null&&b<v.length;b++){L.index>b?(k=L,L=null):k=L.sibling;var T=h(_,L,v[b],C);if(T===null){L===null&&(L=k);break}t&&L&&T.alternate===null&&e(_,L),m=s(T,m,b),S===null?x=T:S.sibling=T,S=T,L=k}if(b===v.length)return n(_,L),We&&cr(_,b),x;if(L===null){for(;b<v.length;b++)L=d(_,v[b],C),L!==null&&(m=s(L,m,b),S===null?x=L:S.sibling=L,S=L);return We&&cr(_,b),x}for(L=i(_,L);b<v.length;b++)k=g(L,_,b,v[b],C),k!==null&&(t&&k.alternate!==null&&L.delete(k.key===null?b:k.key),m=s(k,m,b),S===null?x=k:S.sibling=k,S=k);return t&&L.forEach(function(M){return e(_,M)}),We&&cr(_,b),x}function y(_,m,v,C){var x=Vs(v);if(typeof x!="function")throw Error(U(150));if(v=x.call(v),v==null)throw Error(U(151));for(var S=x=null,L=m,b=m=0,k=null,T=v.next();L!==null&&!T.done;b++,T=v.next()){L.index>b?(k=L,L=null):k=L.sibling;var M=h(_,L,T.value,C);if(M===null){L===null&&(L=k);break}t&&L&&M.alternate===null&&e(_,L),m=s(M,m,b),S===null?x=M:S.sibling=M,S=M,L=k}if(T.done)return n(_,L),We&&cr(_,b),x;if(L===null){for(;!T.done;b++,T=v.next())T=d(_,T.value,C),T!==null&&(m=s(T,m,b),S===null?x=T:S.sibling=T,S=T);return We&&cr(_,b),x}for(L=i(_,L);!T.done;b++,T=v.next())T=g(L,_,b,T.value,C),T!==null&&(t&&T.alternate!==null&&L.delete(T.key===null?b:T.key),m=s(T,m,b),S===null?x=T:S.sibling=T,S=T);return t&&L.forEach(function(I){return e(_,I)}),We&&cr(_,b),x}function E(_,m,v,C){if(typeof v=="object"&&v!==null&&v.type===Xr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fa:e:{for(var x=v.key,S=m;S!==null;){if(S.key===x){if(x=v.type,x===Xr){if(S.tag===7){n(_,S.sibling),m=r(S,v.props.children),m.return=_,_=m;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===wi&&dm(x)===S.type){n(_,S.sibling),m=r(S,v.props),m.ref=Qs(_,S,v),m.return=_,_=m;break e}n(_,S);break}else e(_,S);S=S.sibling}v.type===Xr?(m=Sr(v.props.children,_.mode,C,v.key),m.return=_,_=m):(C=wl(v.type,v.key,v.props,null,_.mode,C),C.ref=Qs(_,m,v),C.return=_,_=C)}return o(_);case Zr:e:{for(S=v.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(_,m.sibling),m=r(m,v.children||[]),m.return=_,_=m;break e}else{n(_,m);break}else e(_,m);m=m.sibling}m=td(v,_.mode,C),m.return=_,_=m}return o(_);case wi:return S=v._init,E(_,m,S(v._payload),C)}if(ao(v))return w(_,m,v,C);if(Vs(v))return y(_,m,v,C);qa(_,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(_,m.sibling),m=r(m,v),m.return=_,_=m):(n(_,m),m=ed(v,_.mode,C),m.return=_,_=m),o(_)):n(_,m)}return E}var Ss=yw(!0),_w=yw(!1),ha={},Wn=nr(ha),zo=nr(ha),Bo=nr(ha);function mr(t){if(t===ha)throw Error(U(174));return t}function jh(t,e){switch(Fe(Bo,e),Fe(zo,t),Fe(Wn,ha),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zd(e,t)}Ve(Wn),Fe(Wn,e)}function Es(){Ve(Wn),Ve(zo),Ve(Bo)}function ww(t){mr(Bo.current);var e=mr(Wn.current),n=zd(e,t.type);e!==n&&(Fe(zo,t),Fe(Wn,n))}function Fh(t){zo.current===t&&(Ve(Wn),Ve(zo))}var Ke=nr(0);function zl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qc=[];function Uh(){for(var t=0;t<Qc.length;t++)Qc[t]._workInProgressVersionPrimary=null;Qc.length=0}var gl=di.ReactCurrentDispatcher,qc=di.ReactCurrentBatchConfig,kr=0,qe=null,ct=null,gt=null,Bl=!1,mo=!1,$o=0,_b=0;function Lt(){throw Error(U(321))}function zh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function Bh(t,e,n,i,r,s){if(kr=s,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gl.current=t===null||t.memoizedState===null?Eb:xb,t=n(i,r),mo){s=0;do{if(mo=!1,$o=0,25<=s)throw Error(U(301));s+=1,gt=ct=null,e.updateQueue=null,gl.current=bb,t=n(i,r)}while(mo)}if(gl.current=$l,e=ct!==null&&ct.next!==null,kr=0,gt=ct=qe=null,Bl=!1,e)throw Error(U(300));return t}function $h(){var t=$o!==0;return $o=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?qe.memoizedState=gt=t:gt=gt.next=t,gt}function Cn(){if(ct===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=gt===null?qe.memoizedState:gt.next;if(e!==null)gt=e,ct=t;else{if(t===null)throw Error(U(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},gt===null?qe.memoizedState=gt=t:gt=gt.next=t}return gt}function Vo(t,e){return typeof e=="function"?e(t):e}function Yc(t){var e=Cn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=ct,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((kr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=i):a=a.next=d,qe.lanes|=c,Tr|=c}u=u.next}while(u!==null&&u!==s);a===null?o=i:a.next=l,Dn(i,e.memoizedState)||(zt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=a,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,qe.lanes|=s,Tr|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zc(t){var e=Cn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Dn(s,e.memoizedState)||(zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function Cw(){}function Sw(t,e){var n=qe,i=Cn(),r=e(),s=!Dn(i.memoizedState,r);if(s&&(i.memoizedState=r,zt=!0),i=i.queue,Vh(bw.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,Wo(9,xw.bind(null,n,i,r,e),void 0,null),_t===null)throw Error(U(349));kr&30||Ew(n,e,r)}return r}function Ew(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xw(t,e,n,i){e.value=n,e.getSnapshot=i,Lw(e)&&kw(t)}function bw(t,e,n){return n(function(){Lw(e)&&kw(t)})}function Lw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function kw(t){var e=ai(t,1);e!==null&&On(e,t,1,-1)}function fm(t){var e=Un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:t},e.queue=t,t=t.dispatch=Sb.bind(null,qe,t),[e.memoizedState,t]}function Wo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Tw(){return Cn().memoizedState}function ml(t,e,n,i){var r=Un();qe.flags|=t,r.memoizedState=Wo(1|e,n,void 0,i===void 0?null:i)}function Iu(t,e,n,i){var r=Cn();i=i===void 0?null:i;var s=void 0;if(ct!==null){var o=ct.memoizedState;if(s=o.destroy,i!==null&&zh(i,o.deps)){r.memoizedState=Wo(e,n,s,i);return}}qe.flags|=t,r.memoizedState=Wo(1|e,n,s,i)}function hm(t,e){return ml(8390656,8,t,e)}function Vh(t,e){return Iu(2048,8,t,e)}function Iw(t,e){return Iu(4,2,t,e)}function Pw(t,e){return Iu(4,4,t,e)}function Mw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Nw(t,e,n){return n=n!=null?n.concat([t]):null,Iu(4,4,Mw.bind(null,e,t),n)}function Wh(){}function Rw(t,e){var n=Cn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&zh(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Ow(t,e){var n=Cn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&zh(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Aw(t,e,n){return kr&21?(Dn(n,e)||(n=F_(),qe.lanes|=n,Tr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function wb(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var i=qc.transition;qc.transition={};try{t(!1),e()}finally{ke=n,qc.transition=i}}function Dw(){return Cn().memoizedState}function Cb(t,e,n){var i=Ui(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},jw(t))Fw(e,n);else if(n=pw(t,e,n,i),n!==null){var r=At();On(n,t,i,r),Uw(n,e,i)}}function Sb(t,e,n){var i=Ui(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(jw(t))Fw(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(r.hasEagerState=!0,r.eagerState=l,Dn(l,o)){var a=e.interleaved;a===null?(r.next=r,Ah(e)):(r.next=a.next,a.next=r),e.interleaved=r;return}}catch{}finally{}n=pw(t,e,r,i),n!==null&&(r=At(),On(n,t,i,r),Uw(n,e,i))}}function jw(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function Fw(t,e){mo=Bl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Uw(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Ch(t,n)}}var $l={readContext:wn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},Eb={readContext:wn,useCallback:function(t,e){return Un().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:hm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ml(4194308,4,Mw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ml(4194308,4,t,e)},useInsertionEffect:function(t,e){return ml(4,2,t,e)},useMemo:function(t,e){var n=Un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Un();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Cb.bind(null,qe,t),[i.memoizedState,t]},useRef:function(t){var e=Un();return t={current:t},e.memoizedState=t},useState:fm,useDebugValue:Wh,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=fm(!1),e=t[0];return t=wb.bind(null,t[1]),Un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=qe,r=Un();if(We){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),_t===null)throw Error(U(349));kr&30||Ew(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,hm(bw.bind(null,i,s,t),[t]),i.flags|=2048,Wo(9,xw.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Un(),e=_t.identifierPrefix;if(We){var n=ei,i=Jn;n=(i&~(1<<32-Rn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=$o++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_b++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xb={readContext:wn,useCallback:Rw,useContext:wn,useEffect:Vh,useImperativeHandle:Nw,useInsertionEffect:Iw,useLayoutEffect:Pw,useMemo:Ow,useReducer:Yc,useRef:Tw,useState:function(){return Yc(Vo)},useDebugValue:Wh,useDeferredValue:function(t){var e=Cn();return Aw(e,ct.memoizedState,t)},useTransition:function(){var t=Yc(Vo)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:Cw,useSyncExternalStore:Sw,useId:Dw,unstable_isNewReconciler:!1},bb={readContext:wn,useCallback:Rw,useContext:wn,useEffect:Vh,useImperativeHandle:Nw,useInsertionEffect:Iw,useLayoutEffect:Pw,useMemo:Ow,useReducer:Zc,useRef:Tw,useState:function(){return Zc(Vo)},useDebugValue:Wh,useDeferredValue:function(t){var e=Cn();return ct===null?e.memoizedState=t:Aw(e,ct.memoizedState,t)},useTransition:function(){var t=Zc(Vo)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:Cw,useSyncExternalStore:Sw,useId:Dw,unstable_isNewReconciler:!1};function xs(t,e){try{var n="",i=e;do n+=JE(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Xc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Lb=typeof WeakMap=="function"?WeakMap:Map;function zw(t,e,n){n=ni(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Wl||(Wl=!0,wf=i),cf(t,e)},n}function Bw(t,e,n){n=ni(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){cf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cf(t,e),typeof i!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function pm(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Lb;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=zb.bind(null,t,e,n),e.then(t,t))}function gm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mm(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ni(-1,1),e.tag=2,ji(n,e,1))),n.lanes|=1),t)}var kb=di.ReactCurrentOwner,zt=!1;function Rt(t,e,n,i){e.child=t===null?_w(e,null,n,i):Ss(e,t.child,n,i)}function vm(t,e,n,i,r){n=n.render;var s=e.ref;return hs(e,r),i=Bh(t,e,n,i,s,r),n=$h(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,li(t,e,r)):(We&&n&&Ih(e),e.flags|=1,Rt(t,e,i,r),e.child)}function ym(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Xh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,$w(t,e,s,i,r)):(t=wl(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Do,n(o,i)&&t.ref===e.ref)return li(t,e,r)}return e.flags|=1,t=zi(s,i),t.ref=e.ref,t.return=e,e.child=t}function $w(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Do(s,i)&&t.ref===e.ref)if(zt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,li(t,e,r)}return df(t,e,n,i,r)}function Vw(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(ls,Qt),Qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(ls,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Fe(ls,Qt),Qt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Fe(ls,Qt),Qt|=i;return Rt(t,e,r,n),e.child}function Ww(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function df(t,e,n,i,r){var s=Vt(n)?br:Pt.current;return s=ws(e,s),hs(e,r),n=Bh(t,e,n,i,s,r),i=$h(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,li(t,e,r)):(We&&i&&Ih(e),e.flags|=1,Rt(t,e,n,r),e.child)}function _m(t,e,n,i,r){if(Vt(n)){var s=!0;Ol(e)}else s=!1;if(hs(e,r),e.stateNode===null)vl(t,e),vw(e,n,i),uf(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=wn(u):(u=Vt(n)?br:Pt.current,u=ws(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||a!==u)&&cm(e,o,i,u),Ci=!1;var h=e.memoizedState;o.state=h,Ul(e,i,o,r),a=e.memoizedState,l!==i||h!==a||$t.current||Ci?(typeof c=="function"&&(lf(e,n,c,i),a=e.memoizedState),(l=Ci||um(e,n,l,i,h,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=a),o.props=i,o.state=a,o.context=u,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,gw(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:In(e.type,l),o.props=u,d=e.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=wn(a):(a=Vt(n)?br:Pt.current,a=ws(e,a));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==a)&&cm(e,o,i,a),Ci=!1,h=e.memoizedState,o.state=h,Ul(e,i,o,r);var w=e.memoizedState;l!==d||h!==w||$t.current||Ci?(typeof g=="function"&&(lf(e,n,g,i),w=e.memoizedState),(u=Ci||um(e,n,u,i,h,w,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=w),o.props=i,o.state=w,o.context=a,i=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return ff(t,e,n,i,s,r)}function ff(t,e,n,i,r,s){Ww(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&rm(e,n,!1),li(t,e,s);i=e.stateNode,kb.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Ss(e,t.child,null,s),e.child=Ss(e,null,l,s)):Rt(t,e,l,s),e.memoizedState=i.state,r&&rm(e,n,!0),e.child}function Hw(t){var e=t.stateNode;e.pendingContext?im(t,e.pendingContext,e.pendingContext!==e.context):e.context&&im(t,e.context,!1),jh(t,e.containerInfo)}function wm(t,e,n,i,r){return Cs(),Mh(r),e.flags|=256,Rt(t,e,n,i),e.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function pf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gw(t,e,n){var i=e.pendingProps,r=Ke.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Fe(Ke,r&1),t===null)return of(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nu(o,i,0,null),t=Sr(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=pf(n),e.memoizedState=hf,t):Hh(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return Tb(t,e,o,i,l,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,l=r.sibling;var a={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=a,e.deletions=null):(i=zi(r,a),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?s=zi(l,s):(s=Sr(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?pf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hf,i}return s=t.child,t=s.sibling,i=zi(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Hh(t,e){return e=Nu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ya(t,e,n,i){return i!==null&&Mh(i),Ss(e,t.child,null,n),t=Hh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Tb(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=Xc(Error(U(422))),Ya(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Nu({mode:"visible",children:i.children},r,0,null),s=Sr(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ss(e,t.child,null,o),e.child.memoizedState=pf(o),e.memoizedState=hf,s);if(!(e.mode&1))return Ya(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(U(419)),i=Xc(s,i,void 0),Ya(t,e,o,i)}if(l=(o&t.childLanes)!==0,zt||l){if(i=_t,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ai(t,r),On(i,t,r,-1))}return Zh(),i=Xc(Error(U(421))),Ya(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=Bb.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Zt=Di(r.nextSibling),Jt=e,We=!0,Mn=null,t!==null&&(fn[hn++]=Jn,fn[hn++]=ei,fn[hn++]=Lr,Jn=t.id,ei=t.overflow,Lr=e),e=Hh(e,i.children),e.flags|=4096,e)}function Cm(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),af(t.return,e,n)}function Jc(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Kw(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Rt(t,e,i.children,n),i=Ke.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cm(t,n,e);else if(t.tag===19)Cm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Fe(Ke,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&zl(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Jc(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&zl(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Jc(e,!0,n,null,s);break;case"together":Jc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Tr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ib(t,e,n){switch(e.tag){case 3:Hw(e),Cs();break;case 5:ww(e);break;case 1:Vt(e.type)&&Ol(e);break;case 4:jh(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Fe(jl,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Fe(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?Gw(t,e,n):(Fe(Ke,Ke.current&1),t=li(t,e,n),t!==null?t.sibling:null);Fe(Ke,Ke.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Kw(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Fe(Ke,Ke.current),i)break;return null;case 22:case 23:return e.lanes=0,Vw(t,e,n)}return li(t,e,n)}var Qw,gf,qw,Yw;Qw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gf=function(){};qw=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,mr(Wn.current);var s=null;switch(n){case"input":r=Dd(t,r),i=Dd(t,i),s=[];break;case"select":r=Ye({},r,{value:void 0}),i=Ye({},i,{value:void 0}),s=[];break;case"textarea":r=Ud(t,r),i=Ud(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Nl)}Bd(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Io.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var a=i[u];if(l=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Io.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&$e("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Yw=function(t,e,n,i){n!==i&&(e.flags|=4)};function qs(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Pb(t,e,n){var i=e.pendingProps;switch(Ph(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return Vt(e.type)&&Rl(),kt(e),null;case 3:return i=e.stateNode,Es(),Ve($t),Ve(Pt),Uh(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Qa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mn!==null&&(Ef(Mn),Mn=null))),gf(t,e),kt(e),null;case 5:Fh(e);var r=mr(Bo.current);if(n=e.type,t!==null&&e.stateNode!=null)qw(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(U(166));return kt(e),null}if(t=mr(Wn.current),Qa(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[zn]=e,i[Uo]=s,t=(e.mode&1)!==0,n){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(r=0;r<uo.length;r++)$e(uo[r],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":Pg(i,s),$e("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},$e("invalid",i);break;case"textarea":Ng(i,s),$e("invalid",i)}Bd(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ka(i.textContent,l,t),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ka(i.textContent,l,t),r=["children",""+l]):Io.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&$e("scroll",i)}switch(n){case"input":Ua(i),Mg(i,s,!0);break;case"textarea":Ua(i),Rg(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Nl)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[zn]=e,t[Uo]=i,Qw(t,e,!1,!1),e.stateNode=t;e:{switch(o=$d(n,i),n){case"dialog":$e("cancel",t),$e("close",t),r=i;break;case"iframe":case"object":case"embed":$e("load",t),r=i;break;case"video":case"audio":for(r=0;r<uo.length;r++)$e(uo[r],t);r=i;break;case"source":$e("error",t),r=i;break;case"img":case"image":case"link":$e("error",t),$e("load",t),r=i;break;case"details":$e("toggle",t),r=i;break;case"input":Pg(t,i),r=Dd(t,i),$e("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Ye({},i,{value:void 0}),$e("invalid",t);break;case"textarea":Ng(t,i),r=Ud(t,i),$e("invalid",t);break;default:r=i}Bd(n,r),l=r;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?L_(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&x_(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Po(t,a):typeof a=="number"&&Po(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Io.hasOwnProperty(s)?a!=null&&s==="onScroll"&&$e("scroll",t):a!=null&&gh(t,s,a,o))}switch(n){case"input":Ua(t),Mg(t,i,!1);break;case"textarea":Ua(t),Rg(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Gi(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?us(t,!!i.multiple,s,!1):i.defaultValue!=null&&us(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Nl)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)Yw(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(n=mr(Bo.current),mr(Wn.current),Qa(e)){if(i=e.stateNode,n=e.memoizedProps,i[zn]=e,(s=i.nodeValue!==n)&&(t=Jt,t!==null))switch(t.tag){case 3:Ka(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ka(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[zn]=e,e.stateNode=i}return kt(e),null;case 13:if(Ve(Ke),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&Zt!==null&&e.mode&1&&!(e.flags&128))hw(),Cs(),e.flags|=98560,s=!1;else if(s=Qa(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[zn]=e}else Cs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),s=!1}else Mn!==null&&(Ef(Mn),Mn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?ft===0&&(ft=3):Zh())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return Es(),gf(t,e),t===null&&jo(e.stateNode.containerInfo),kt(e),null;case 10:return Oh(e.type._context),kt(e),null;case 17:return Vt(e.type)&&Rl(),kt(e),null;case 19:if(Ve(Ke),s=e.memoizedState,s===null)return kt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)qs(s,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zl(t),o!==null){for(e.flags|=128,qs(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ke,Ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&it()>bs&&(e.flags|=128,i=!0,qs(s,!1),e.lanes=4194304)}else{if(!i)if(t=zl(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return kt(e),null}else 2*it()-s.renderingStartTime>bs&&n!==1073741824&&(e.flags|=128,i=!0,qs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=it(),e.sibling=null,n=Ke.current,Fe(Ke,i?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return Yh(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Qt&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function Mb(t,e){switch(Ph(e),e.tag){case 1:return Vt(e.type)&&Rl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Es(),Ve($t),Ve(Pt),Uh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fh(e),null;case 13:if(Ve(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Cs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(Ke),null;case 4:return Es(),null;case 10:return Oh(e.type._context),null;case 22:case 23:return Yh(),null;case 24:return null;default:return null}}var Za=!1,Tt=!1,Nb=typeof WeakSet=="function"?WeakSet:Set,Q=null;function as(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Xe(t,e,i)}else n.current=null}function mf(t,e,n){try{n()}catch(i){Xe(t,e,i)}}var Sm=!1;function Rb(t,e){if(Xd=Il,t=ew(),Th(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var g;d!==n||r!==0&&d.nodeType!==3||(l=o+r),d!==s||i!==0&&d.nodeType!==3||(a=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++u===r&&(l=o),h===s&&++c===i&&(a=o),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jd={focusedElem:t,selectionRange:n},Il=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,E=w.memoizedState,_=e.stateNode,m=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:In(e.type,y),E);_.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(C){Xe(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return w=Sm,Sm=!1,w}function vo(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&mf(e,n,s)}r=r.next}while(r!==i)}}function Pu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function vf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Zw(t){var e=t.alternate;e!==null&&(t.alternate=null,Zw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zn],delete e[Uo],delete e[nf],delete e[gb],delete e[mb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xw(t){return t.tag===5||t.tag===3||t.tag===4}function Em(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nl));else if(i!==4&&(t=t.child,t!==null))for(yf(t,e,n),t=t.sibling;t!==null;)yf(t,e,n),t=t.sibling}function _f(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(_f(t,e,n),t=t.sibling;t!==null;)_f(t,e,n),t=t.sibling}var Et=null,Pn=!1;function vi(t,e,n){for(n=n.child;n!==null;)Jw(t,e,n),n=n.sibling}function Jw(t,e,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Su,n)}catch{}switch(n.tag){case 5:Tt||as(n,e);case 6:var i=Et,r=Pn;Et=null,vi(t,e,n),Et=i,Pn=r,Et!==null&&(Pn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Pn?(t=Et,n=n.stateNode,t.nodeType===8?Gc(t.parentNode,n):t.nodeType===1&&Gc(t,n),Oo(t)):Gc(Et,n.stateNode));break;case 4:i=Et,r=Pn,Et=n.stateNode.containerInfo,Pn=!0,vi(t,e,n),Et=i,Pn=r;break;case 0:case 11:case 14:case 15:if(!Tt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mf(n,e,o),r=r.next}while(r!==i)}vi(t,e,n);break;case 1:if(!Tt&&(as(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){Xe(n,e,l)}vi(t,e,n);break;case 21:vi(t,e,n);break;case 22:n.mode&1?(Tt=(i=Tt)||n.memoizedState!==null,vi(t,e,n),Tt=i):vi(t,e,n);break;default:vi(t,e,n)}}function xm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Nb),e.forEach(function(i){var r=$b.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Et=l.stateNode,Pn=!1;break e;case 3:Et=l.stateNode.containerInfo,Pn=!0;break e;case 4:Et=l.stateNode.containerInfo,Pn=!0;break e}l=l.return}if(Et===null)throw Error(U(160));Jw(s,o,r),Et=null,Pn=!1;var a=r.alternate;a!==null&&(a.return=null),r.return=null}catch(u){Xe(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)e0(e,t),e=e.sibling}function e0(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),Fn(t),i&4){try{vo(3,t,t.return),Pu(3,t)}catch(y){Xe(t,t.return,y)}try{vo(5,t,t.return)}catch(y){Xe(t,t.return,y)}}break;case 1:Ln(e,t),Fn(t),i&512&&n!==null&&as(n,n.return);break;case 5:if(Ln(e,t),Fn(t),i&512&&n!==null&&as(n,n.return),t.flags&32){var r=t.stateNode;try{Po(r,"")}catch(y){Xe(t,t.return,y)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&C_(r,s),$d(l,o);var u=$d(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?L_(r,d):c==="dangerouslySetInnerHTML"?x_(r,d):c==="children"?Po(r,d):gh(r,c,d,u)}switch(l){case"input":jd(r,s);break;case"textarea":S_(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?us(r,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?us(r,!!s.multiple,s.defaultValue,!0):us(r,!!s.multiple,s.multiple?[]:"",!1))}r[Uo]=s}catch(y){Xe(t,t.return,y)}}break;case 6:if(Ln(e,t),Fn(t),i&4){if(t.stateNode===null)throw Error(U(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(y){Xe(t,t.return,y)}}break;case 3:if(Ln(e,t),Fn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Oo(e.containerInfo)}catch(y){Xe(t,t.return,y)}break;case 4:Ln(e,t),Fn(t);break;case 13:Ln(e,t),Fn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Qh=it())),i&4&&xm(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Tt=(u=Tt)||c,Ln(e,t),Tt=u):Ln(e,t),Fn(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Q=t,c=t.child;c!==null;){for(d=Q=c;Q!==null;){switch(h=Q,g=h.child,h.tag){case 0:case 11:case 14:case 15:vo(4,h,h.return);break;case 1:as(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){Xe(i,n,y)}}break;case 5:as(h,h.return);break;case 22:if(h.memoizedState!==null){Lm(d);continue}}g!==null?(g.return=h,Q=g):Lm(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=b_("display",o))}catch(y){Xe(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Xe(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ln(e,t),Fn(t),i&4&&xm(t);break;case 21:break;default:Ln(e,t),Fn(t)}}function Fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Xw(n)){var i=n;break e}n=n.return}throw Error(U(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Po(r,""),i.flags&=-33);var s=Em(t);_f(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,l=Em(t);yf(t,l,o);break;default:throw Error(U(161))}}catch(a){Xe(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ob(t,e,n){Q=t,t0(t)}function t0(t,e,n){for(var i=(t.mode&1)!==0;Q!==null;){var r=Q,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Za;if(!o){var l=r.alternate,a=l!==null&&l.memoizedState!==null||Tt;l=Za;var u=Tt;if(Za=o,(Tt=a)&&!u)for(Q=r;Q!==null;)o=Q,a=o.child,o.tag===22&&o.memoizedState!==null?km(r):a!==null?(a.return=o,Q=a):km(r);for(;s!==null;)Q=s,t0(s),s=s.sibling;Q=r,Za=l,Tt=u}bm(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Q=s):bm(t)}}function bm(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tt||Pu(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Tt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&lm(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lm(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Oo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Tt||e.flags&512&&vf(e)}catch(h){Xe(e,e.return,h)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Lm(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function km(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pu(4,e)}catch(a){Xe(e,n,a)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(a){Xe(e,r,a)}}var s=e.return;try{vf(e)}catch(a){Xe(e,s,a)}break;case 5:var o=e.return;try{vf(e)}catch(a){Xe(e,o,a)}}}catch(a){Xe(e,e.return,a)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var Ab=Math.ceil,Vl=di.ReactCurrentDispatcher,Gh=di.ReactCurrentOwner,yn=di.ReactCurrentBatchConfig,we=0,_t=null,at=null,xt=0,Qt=0,ls=nr(0),ft=0,Ho=null,Tr=0,Mu=0,Kh=0,yo=null,Ft=null,Qh=0,bs=1/0,Zn=null,Wl=!1,wf=null,Fi=null,Xa=!1,ki=null,Hl=0,_o=0,Cf=null,yl=-1,_l=0;function At(){return we&6?it():yl!==-1?yl:yl=it()}function Ui(t){return t.mode&1?we&2&&xt!==0?xt&-xt:yb.transition!==null?(_l===0&&(_l=F_()),_l):(t=ke,t!==0||(t=window.event,t=t===void 0?16:H_(t.type)),t):1}function On(t,e,n,i){if(50<_o)throw _o=0,Cf=null,Error(U(185));ca(t,n,i),(!(we&2)||t!==_t)&&(t===_t&&(!(we&2)&&(Mu|=n),ft===4&&xi(t,xt)),Wt(t,i),n===1&&we===0&&!(e.mode&1)&&(bs=it()+500,ku&&ir()))}function Wt(t,e){var n=t.callbackNode;yx(t,e);var i=Tl(t,t===_t?xt:0);if(i===0)n!==null&&Dg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Dg(n),e===1)t.tag===0?vb(Tm.bind(null,t)):cw(Tm.bind(null,t)),hb(function(){!(we&6)&&ir()}),n=null;else{switch(U_(i)){case 1:n=wh;break;case 4:n=D_;break;case 16:n=kl;break;case 536870912:n=j_;break;default:n=kl}n=u0(n,n0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function n0(t,e){if(yl=-1,_l=0,we&6)throw Error(U(327));var n=t.callbackNode;if(ps()&&t.callbackNode!==n)return null;var i=Tl(t,t===_t?xt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Gl(t,i);else{e=i;var r=we;we|=2;var s=r0();(_t!==t||xt!==e)&&(Zn=null,bs=it()+500,Cr(t,e));do try{Fb();break}catch(l){i0(t,l)}while(1);Rh(),Vl.current=s,we=r,at!==null?e=0:(_t=null,xt=0,e=ft)}if(e!==0){if(e===2&&(r=Kd(t),r!==0&&(i=r,e=Sf(t,r))),e===1)throw n=Ho,Cr(t,0),xi(t,i),Wt(t,it()),n;if(e===6)xi(t,i);else{if(r=t.current.alternate,!(i&30)&&!Db(r)&&(e=Gl(t,i),e===2&&(s=Kd(t),s!==0&&(i=s,e=Sf(t,s))),e===1))throw n=Ho,Cr(t,0),xi(t,i),Wt(t,it()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(U(345));case 2:dr(t,Ft,Zn);break;case 3:if(xi(t,i),(i&130023424)===i&&(e=Qh+500-it(),10<e)){if(Tl(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){At(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=tf(dr.bind(null,t,Ft,Zn),e);break}dr(t,Ft,Zn);break;case 4:if(xi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Rn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=it()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Ab(i/1960))-i,10<i){t.timeoutHandle=tf(dr.bind(null,t,Ft,Zn),i);break}dr(t,Ft,Zn);break;case 5:dr(t,Ft,Zn);break;default:throw Error(U(329))}}}return Wt(t,it()),t.callbackNode===n?n0.bind(null,t):null}function Sf(t,e){var n=yo;return t.current.memoizedState.isDehydrated&&(Cr(t,e).flags|=256),t=Gl(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&Ef(e)),t}function Ef(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function Db(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Dn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xi(t,e){for(e&=~Kh,e&=~Mu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rn(e),i=1<<n;t[n]=-1,e&=~i}}function Tm(t){if(we&6)throw Error(U(327));ps();var e=Tl(t,0);if(!(e&1))return Wt(t,it()),null;var n=Gl(t,e);if(t.tag!==0&&n===2){var i=Kd(t);i!==0&&(e=i,n=Sf(t,i))}if(n===1)throw n=Ho,Cr(t,0),xi(t,e),Wt(t,it()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dr(t,Ft,Zn),Wt(t,it()),null}function qh(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(bs=it()+500,ku&&ir())}}function Ir(t){ki!==null&&ki.tag===0&&!(we&6)&&ps();var e=we;we|=1;var n=yn.transition,i=ke;try{if(yn.transition=null,ke=1,t)return t()}finally{ke=i,yn.transition=n,we=e,!(we&6)&&ir()}}function Yh(){Qt=ls.current,Ve(ls)}function Cr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fb(n)),at!==null)for(n=at.return;n!==null;){var i=n;switch(Ph(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Rl();break;case 3:Es(),Ve($t),Ve(Pt),Uh();break;case 5:Fh(i);break;case 4:Es();break;case 13:Ve(Ke);break;case 19:Ve(Ke);break;case 10:Oh(i.type._context);break;case 22:case 23:Yh()}n=n.return}if(_t=t,at=t=zi(t.current,null),xt=Qt=e,ft=0,Ho=null,Kh=Mu=Tr=0,Ft=yo=null,gr!==null){for(e=0;e<gr.length;e++)if(n=gr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}gr=null}return t}function i0(t,e){do{var n=at;try{if(Rh(),gl.current=$l,Bl){for(var i=qe.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Bl=!1}if(kr=0,gt=ct=qe=null,mo=!1,$o=0,Gh.current=null,n===null||n.return===null){ft=1,Ho=e,at=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=xt,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=gm(o);if(g!==null){g.flags&=-257,mm(g,o,l,s,e),g.mode&1&&pm(s,u,e),e=g,a=u;var w=e.updateQueue;if(w===null){var y=new Set;y.add(a),e.updateQueue=y}else w.add(a);break e}else{if(!(e&1)){pm(s,u,e),Zh();break e}a=Error(U(426))}}else if(We&&l.mode&1){var E=gm(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),mm(E,o,l,s,e),Mh(xs(a,l));break e}}s=a=xs(a,l),ft!==4&&(ft=2),yo===null?yo=[s]:yo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=zw(s,a,e);am(s,_);break e;case 1:l=a;var m=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Fi===null||!Fi.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=Bw(s,l,e);am(s,C);break e}}s=s.return}while(s!==null)}o0(n)}catch(x){e=x,at===n&&n!==null&&(at=n=n.return);continue}break}while(1)}function r0(){var t=Vl.current;return Vl.current=$l,t===null?$l:t}function Zh(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(Tr&268435455)&&!(Mu&268435455)||xi(_t,xt)}function Gl(t,e){var n=we;we|=2;var i=r0();(_t!==t||xt!==e)&&(Zn=null,Cr(t,e));do try{jb();break}catch(r){i0(t,r)}while(1);if(Rh(),we=n,Vl.current=i,at!==null)throw Error(U(261));return _t=null,xt=0,ft}function jb(){for(;at!==null;)s0(at)}function Fb(){for(;at!==null&&!ux();)s0(at)}function s0(t){var e=l0(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?o0(t):at=e,Gh.current=null}function o0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Mb(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,at=null;return}}else if(n=Pb(n,e,Qt),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);ft===0&&(ft=5)}function dr(t,e,n){var i=ke,r=yn.transition;try{yn.transition=null,ke=1,Ub(t,e,n,i)}finally{yn.transition=r,ke=i}return null}function Ub(t,e,n,i){do ps();while(ki!==null);if(we&6)throw Error(U(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_x(t,s),t===_t&&(at=_t=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xa||(Xa=!0,u0(kl,function(){return ps(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yn.transition,yn.transition=null;var o=ke;ke=1;var l=we;we|=4,Gh.current=null,Rb(t,n),e0(n,t),sb(Jd),Il=!!Xd,Jd=Xd=null,t.current=n,Ob(n),cx(),we=l,ke=o,yn.transition=s}else t.current=n;if(Xa&&(Xa=!1,ki=t,Hl=r),s=t.pendingLanes,s===0&&(Fi=null),hx(n.stateNode),Wt(t,it()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,t=wf,wf=null,t;return Hl&1&&t.tag!==0&&ps(),s=t.pendingLanes,s&1?t===Cf?_o++:(_o=0,Cf=t):_o=0,ir(),null}function ps(){if(ki!==null){var t=U_(Hl),e=yn.transition,n=ke;try{if(yn.transition=null,ke=16>t?16:t,ki===null)var i=!1;else{if(t=ki,ki=null,Hl=0,we&6)throw Error(U(331));var r=we;for(we|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:vo(8,c,s)}var d=c.child;if(d!==null)d.return=c,Q=d;else for(;Q!==null;){c=Q;var h=c.sibling,g=c.return;if(Zw(c),c===u){Q=null;break}if(h!==null){h.return=g,Q=h;break}Q=g}}}var w=s.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vo(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Q=_;break e}Q=s.return}}var m=t.current;for(Q=m;Q!==null;){o=Q;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Q=v;else e:for(o=m;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pu(9,l)}}catch(x){Xe(l,l.return,x)}if(l===o){Q=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,Q=C;break e}Q=l.return}}if(we=r,ir(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Su,t)}catch{}i=!0}return i}finally{ke=n,yn.transition=e}}return!1}function Im(t,e,n){e=xs(n,e),e=zw(t,e,1),t=ji(t,e,1),e=At(),t!==null&&(ca(t,1,e),Wt(t,e))}function Xe(t,e,n){if(t.tag===3)Im(t,t,n);else for(;e!==null;){if(e.tag===3){Im(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Fi===null||!Fi.has(i))){t=xs(n,t),t=Bw(e,t,1),e=ji(e,t,1),t=At(),e!==null&&(ca(e,1,t),Wt(e,t));break}}e=e.return}}function zb(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=At(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(xt&n)===n&&(ft===4||ft===3&&(xt&130023424)===xt&&500>it()-Qh?Cr(t,0):Kh|=n),Wt(t,e)}function a0(t,e){e===0&&(t.mode&1?(e=$a,$a<<=1,!($a&130023424)&&($a=4194304)):e=1);var n=At();t=ai(t,e),t!==null&&(ca(t,e,n),Wt(t,n))}function Bb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),a0(t,n)}function $b(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(U(314))}i!==null&&i.delete(e),a0(t,n)}var l0;l0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$t.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,Ib(t,e,n);zt=!!(t.flags&131072)}else zt=!1,We&&e.flags&1048576&&dw(e,Dl,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;vl(t,e),t=e.pendingProps;var r=ws(e,Pt.current);hs(e,n),r=Bh(null,e,i,t,r,n);var s=$h();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vt(i)?(s=!0,Ol(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Dh(e),r.updater=Tu,e.stateNode=r,r._reactInternals=e,uf(e,i,t,n),e=ff(null,e,i,!0,s,n)):(e.tag=0,We&&s&&Ih(e),Rt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(vl(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Wb(i),t=In(i,t),r){case 0:e=df(null,e,i,t,n);break e;case 1:e=_m(null,e,i,t,n);break e;case 11:e=vm(null,e,i,t,n);break e;case 14:e=ym(null,e,i,In(i.type,t),n);break e}throw Error(U(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),df(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),_m(t,e,i,r,n);case 3:e:{if(Hw(e),t===null)throw Error(U(387));i=e.pendingProps,s=e.memoizedState,r=s.element,gw(t,e),Ul(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=xs(Error(U(423)),e),e=wm(t,e,i,n,r);break e}else if(i!==r){r=xs(Error(U(424)),e),e=wm(t,e,i,n,r);break e}else for(Zt=Di(e.stateNode.containerInfo.firstChild),Jt=e,We=!0,Mn=null,n=_w(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cs(),i===r){e=li(t,e,n);break e}Rt(t,e,i,n)}e=e.child}return e;case 5:return ww(e),t===null&&of(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,ef(i,r)?o=null:s!==null&&ef(i,s)&&(e.flags|=32),Ww(t,e),Rt(t,e,o,n),e.child;case 6:return t===null&&of(e),null;case 13:return Gw(t,e,n);case 4:return jh(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ss(e,null,i,n):Rt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),vm(t,e,i,r,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Fe(jl,i._currentValue),i._currentValue=o,s!==null)if(Dn(s.value,o)){if(s.children===r.children&&!$t.current){e=li(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(s.tag===1){a=ni(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),af(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),af(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,hs(e,n),r=wn(r),i=i(r),e.flags|=1,Rt(t,e,i,n),e.child;case 14:return i=e.type,r=In(i,e.pendingProps),r=In(i.type,r),ym(t,e,i,r,n);case 15:return $w(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),vl(t,e),e.tag=1,Vt(i)?(t=!0,Ol(e)):t=!1,hs(e,n),vw(e,i,r),uf(e,i,r,n),ff(null,e,i,!0,t,n);case 19:return Kw(t,e,n);case 22:return Vw(t,e,n)}throw Error(U(156,e.tag))};function u0(t,e){return A_(t,e)}function Vb(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,i){return new Vb(t,e,n,i)}function Xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wb(t){if(typeof t=="function")return Xh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vh)return 11;if(t===yh)return 14}return 2}function zi(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wl(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Xh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xr:return Sr(n.children,r,s,e);case mh:o=8,r|=8;break;case Nd:return t=gn(12,n,e,r|2),t.elementType=Nd,t.lanes=s,t;case Rd:return t=gn(13,n,e,r),t.elementType=Rd,t.lanes=s,t;case Od:return t=gn(19,n,e,r),t.elementType=Od,t.lanes=s,t;case y_:return Nu(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case m_:o=10;break e;case v_:o=9;break e;case vh:o=11;break e;case yh:o=14;break e;case wi:o=16,i=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=gn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Sr(t,e,n,i){return t=gn(7,t,i,e),t.lanes=n,t}function Nu(t,e,n,i){return t=gn(22,t,i,e),t.elementType=y_,t.lanes=n,t.stateNode={isHidden:!1},t}function ed(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function td(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hb(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ac(0),this.expirationTimes=Ac(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ac(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Jh(t,e,n,i,r,s,o,l,a){return t=new Hb(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dh(s),t}function Gb(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zr,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function c0(t){if(!t)return Ki;t=t._reactInternals;e:{if(Fr(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Vt(n))return uw(t,n,e)}return e}function d0(t,e,n,i,r,s,o,l,a){return t=Jh(n,i,!0,t,r,s,o,l,a),t.context=c0(null),n=t.current,i=At(),r=Ui(n),s=ni(i,r),s.callback=e??null,ji(n,s,r),t.current.lanes=r,ca(t,r,i),Wt(t,i),t}function Ru(t,e,n,i){var r=e.current,s=At(),o=Ui(r);return n=c0(n),e.context===null?e.context=n:e.pendingContext=n,e=ni(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=ji(r,e,o),t!==null&&(On(t,r,o,s),pl(t,r,o)),o}function Kl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ep(t,e){Pm(t,e),(t=t.alternate)&&Pm(t,e)}function Kb(){return null}var f0=typeof reportError=="function"?reportError:function(t){console.error(t)};function tp(t){this._internalRoot=t}Ou.prototype.render=tp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Ru(t,e,null,null)};Ou.prototype.unmount=tp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ir(function(){Ru(null,t,null,null)}),e[oi]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var e=$_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ei.length&&e!==0&&e<Ei[n].priority;n++);Ei.splice(n,0,t),n===0&&W_(t)}};function np(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Au(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mm(){}function Qb(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=Kl(o);s.call(u)}}var o=d0(e,i,t,0,null,!1,!1,"",Mm);return t._reactRootContainer=o,t[oi]=o.current,jo(t.nodeType===8?t.parentNode:t),Ir(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var u=Kl(a);l.call(u)}}var a=Jh(t,0,!1,null,null,!1,!1,"",Mm);return t._reactRootContainer=a,t[oi]=a.current,jo(t.nodeType===8?t.parentNode:t),Ir(function(){Ru(e,a,n,i)}),a}function Du(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var l=r;r=function(){var a=Kl(o);l.call(a)}}Ru(e,o,t,r)}else o=Qb(n,e,t,r,i);return Kl(o)}z_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=lo(e.pendingLanes);n!==0&&(Ch(e,n|1),Wt(e,it()),!(we&6)&&(bs=it()+500,ir()))}break;case 13:Ir(function(){var i=ai(t,1);if(i!==null){var r=At();On(i,t,1,r)}}),ep(t,1)}};Sh=function(t){if(t.tag===13){var e=ai(t,134217728);if(e!==null){var n=At();On(e,t,134217728,n)}ep(t,134217728)}};B_=function(t){if(t.tag===13){var e=Ui(t),n=ai(t,e);if(n!==null){var i=At();On(n,t,e,i)}ep(t,e)}};$_=function(){return ke};V_=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Wd=function(t,e,n){switch(e){case"input":if(jd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Lu(i);if(!r)throw Error(U(90));w_(i),jd(i,r)}}}break;case"textarea":S_(t,n);break;case"select":e=n.value,e!=null&&us(t,!!n.multiple,e,!1)}};I_=qh;P_=Ir;var qb={usingClientEntryPoint:!1,Events:[fa,ns,Lu,k_,T_,qh]},Ys={findFiberByHostInstance:pr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Yb={bundleType:Ys.bundleType,version:Ys.version,rendererPackageName:Ys.rendererPackageName,rendererConfig:Ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=R_(t),t===null?null:t.stateNode},findFiberByHostInstance:Ys.findFiberByHostInstance||Kb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ja.isDisabled&&Ja.supportsFiber)try{Su=Ja.inject(Yb),Vn=Ja}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qb;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!np(e))throw Error(U(200));return Gb(t,e,null,n)};rn.createRoot=function(t,e){if(!np(t))throw Error(U(299));var n=!1,i="",r=f0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Jh(t,1,!1,null,null,n,!1,i,r),t[oi]=e.current,jo(t.nodeType===8?t.parentNode:t),new tp(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=R_(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return Ir(t)};rn.hydrate=function(t,e,n){if(!Au(e))throw Error(U(200));return Du(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!np(t))throw Error(U(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=f0;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=d0(e,null,t,1,n??null,r,!1,s,o),t[oi]=e.current,jo(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Ou(e)};rn.render=function(t,e,n){if(!Au(e))throw Error(U(200));return Du(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!Au(t))throw Error(U(40));return t._reactRootContainer?(Ir(function(){Du(null,null,t,!1,function(){t._reactRootContainer=null,t[oi]=null})}),!0):!1};rn.unstable_batchedUpdates=qh;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Au(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Du(t,e,n,!1,i)};rn.version="18.2.0-next-9e3b772b8-20220608";function h0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h0)}catch(t){console.error(t)}}h0(),d_.exports=rn;var rr=d_.exports,Nm=rr;Pd.createRoot=Nm.createRoot,Pd.hydrateRoot=Nm.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Go.apply(this,arguments)}var Ti;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ti||(Ti={}));const Rm="popstate";function Zb(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:l}=i.location;return xf("",{pathname:s,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Ql(r)}return Jb(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ip(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xb(){return Math.random().toString(36).substr(2,8)}function Om(t,e){return{usr:t.state,key:t.key,idx:e}}function xf(t,e,n,i){return n===void 0&&(n=null),Go({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?As(e):e,{state:n,key:e&&e.key||i||Xb()})}function Ql(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function As(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Jb(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,l=Ti.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(Go({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=Ti.Pop;let E=c(),_=E==null?null:E-u;u=E,a&&a({action:l,location:y.location,delta:_})}function h(E,_){l=Ti.Push;let m=xf(y.location,E,_);n&&n(m,E),u=c()+1;let v=Om(m,u),C=y.createHref(m);try{o.pushState(v,"",C)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;r.location.assign(C)}s&&a&&a({action:l,location:y.location,delta:1})}function g(E,_){l=Ti.Replace;let m=xf(y.location,E,_);n&&n(m,E),u=c();let v=Om(m,u),C=y.createHref(m);o.replaceState(v,"",C),s&&a&&a({action:l,location:y.location,delta:0})}function w(E){let _=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof E=="string"?E:Ql(E);return lt(_,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,_)}let y={get action(){return l},get location(){return t(r,o)},listen(E){if(a)throw new Error("A history only accepts one active listener");return r.addEventListener(Rm,d),a=E,()=>{r.removeEventListener(Rm,d),a=null}},createHref(E){return e(r,E)},createURL:w,encodeLocation(E){let _=w(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:g,go(E){return o.go(E)}};return y}var Am;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Am||(Am={}));function eL(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?As(e):e,r=rp(i.pathname||"/",n);if(r==null)return null;let s=p0(t);tL(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=cL(s[l],hL(r));return o}function p0(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(lt(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(i.length));let u=Bi([i,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(lt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),p0(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:lL(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))r(s,o);else for(let a of g0(s.path))r(s,o,a)}),e}function g0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=g0(i.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),r&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function tL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uL(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const nL=/^:\w+$/,iL=3,rL=2,sL=1,oL=10,aL=-2,Dm=t=>t==="*";function lL(t,e){let n=t.split("/"),i=n.length;return n.some(Dm)&&(i+=aL),e&&(i+=rL),n.filter(r=>!Dm(r)).reduce((r,s)=>r+(nL.test(s)?iL:s===""?sL:oL),i)}function uL(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function cL(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,u=r==="/"?e:e.slice(r.length)||"/",c=dL({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(i,c.params);let d=l.route;s.push({params:i,pathname:Bi([r,c.pathname]),pathnameBase:vL(Bi([r,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(r=Bi([r,c.pathnameBase]))}return s}function dL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=fL(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((u,c,d)=>{if(c==="*"){let h=l[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=pL(l[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function fL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ip(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(i.push(l),"/([^\\/]+)"));return t.endsWith("*")?(i.push("*"),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function hL(t){try{return decodeURI(t)}catch(e){return ip(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pL(t,e){try{return decodeURIComponent(t)}catch(n){return ip(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function rp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function gL(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?As(t):t;return{pathname:n?n.startsWith("/")?n:mL(n,e):e,search:yL(i),hash:_L(r)}}function mL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function nd(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function v0(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=As(t):(r=Go({},t),lt(!r.pathname||!r.pathname.includes("?"),nd("?","pathname","search",r)),lt(!r.pathname||!r.pathname.includes("#"),nd("#","pathname","hash",r)),lt(!r.search||!r.search.includes("#"),nd("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,l;if(i||o==null)l=n;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;r.pathname=h.join("/")}l=d>=0?e[d]:"/"}let a=gL(r,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Bi=t=>t.join("/").replace(/\/\/+/g,"/"),vL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_L=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const y0=["post","put","patch","delete"];new Set(y0);const CL=["get",...y0];new Set(CL);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ql.apply(this,arguments)}const sp=f.createContext(null),SL=f.createContext(null),Ds=f.createContext(null),ju=f.createContext(null),sr=f.createContext({outlet:null,matches:[],isDataRoute:!1}),_0=f.createContext(null);function EL(t,e){let{relative:n}=e===void 0?{}:e;pa()||lt(!1);let{basename:i,navigator:r}=f.useContext(Ds),{hash:s,pathname:o,search:l}=C0(t,{relative:n}),a=o;return i!=="/"&&(a=o==="/"?i:Bi([i,o])),r.createHref({pathname:a,search:l,hash:s})}function pa(){return f.useContext(ju)!=null}function Fu(){return pa()||lt(!1),f.useContext(ju).location}function w0(t){f.useContext(Ds).static||f.useLayoutEffect(t)}function xL(){let{isDataRoute:t}=f.useContext(sr);return t?jL():bL()}function bL(){pa()||lt(!1);let t=f.useContext(sp),{basename:e,navigator:n}=f.useContext(Ds),{matches:i}=f.useContext(sr),{pathname:r}=Fu(),s=JSON.stringify(m0(i).map(a=>a.pathnameBase)),o=f.useRef(!1);return w0(()=>{o.current=!0}),f.useCallback(function(a,u){if(u===void 0&&(u={}),!o.current)return;if(typeof a=="number"){n.go(a);return}let c=v0(a,JSON.parse(s),r,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Bi([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,r,t])}function op(){let{matches:t}=f.useContext(sr),e=t[t.length-1];return e?e.params:{}}function C0(t,e){let{relative:n}=e===void 0?{}:e,{matches:i}=f.useContext(sr),{pathname:r}=Fu(),s=JSON.stringify(m0(i).map(o=>o.pathnameBase));return f.useMemo(()=>v0(t,JSON.parse(s),r,n==="path"),[t,s,r,n])}function LL(t,e){return kL(t,e)}function kL(t,e,n){pa()||lt(!1);let{navigator:i}=f.useContext(Ds),{matches:r}=f.useContext(sr),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let a=Fu(),u;if(e){var c;let y=typeof e=="string"?As(e):e;l==="/"||(c=y.pathname)!=null&&c.startsWith(l)||lt(!1),u=y}else u=a;let d=u.pathname||"/",h=l==="/"?d:d.slice(l.length)||"/",g=eL(t,{pathname:h}),w=NL(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Bi([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Bi([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),r,n);return e&&w?f.createElement(ju.Provider,{value:{location:ql({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ti.Pop}},w):w}function TL(){let t=DL(),e=wL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),n?f.createElement("pre",{style:r},n):null,s)}const IL=f.createElement(TL,null);class PL extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?f.createElement(sr.Provider,{value:this.props.routeContext},f.createElement(_0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ML(t){let{routeContext:e,match:n,children:i}=t,r=f.useContext(sp);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(sr.Provider,{value:e},i)}function NL(t,e,n){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var r;if((r=n)!=null&&r.errors)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let l=s.findIndex(a=>a.route.id&&(o==null?void 0:o[a.route.id]));l>=0||lt(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,a,u)=>{let c=a.route.id?o==null?void 0:o[a.route.id]:null,d=null;n&&(d=a.route.errorElement||IL);let h=e.concat(s.slice(0,u+1)),g=()=>{let w;return c?w=d:a.route.Component?w=f.createElement(a.route.Component,null):a.route.element?w=a.route.element:w=l,f.createElement(ML,{match:a,routeContext:{outlet:l,matches:h,isDataRoute:n!=null},children:w})};return n&&(a.route.ErrorBoundary||a.route.errorElement||u===0)?f.createElement(PL,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:g(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):g()},null)}var bf;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(bf||(bf={}));var Ko;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Ko||(Ko={}));function RL(t){let e=f.useContext(sp);return e||lt(!1),e}function OL(t){let e=f.useContext(SL);return e||lt(!1),e}function AL(t){let e=f.useContext(sr);return e||lt(!1),e}function S0(t){let e=AL(),n=e.matches[e.matches.length-1];return n.route.id||lt(!1),n.route.id}function DL(){var t;let e=f.useContext(_0),n=OL(Ko.UseRouteError),i=S0(Ko.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function jL(){let{router:t}=RL(bf.UseNavigateStable),e=S0(Ko.UseNavigateStable),n=f.useRef(!1);return w0(()=>{n.current=!0}),f.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,ql({fromRouteId:e},s)))},[t,e])}function cn(t){lt(!1)}function FL(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ti.Pop,navigator:s,static:o=!1}=t;pa()&&lt(!1);let l=e.replace(/^\/*/,"/"),a=f.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof i=="string"&&(i=As(i));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:g="default"}=i,w=f.useMemo(()=>{let y=rp(u,l);return y==null?null:{location:{pathname:y,search:c,hash:d,state:h,key:g},navigationType:r}},[l,u,c,d,h,g,r]);return w==null?null:f.createElement(Ds.Provider,{value:a},f.createElement(ju.Provider,{children:n,value:w}))}function kn(t){let{children:e,location:n}=t;return LL(Lf(e),n)}var jm;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(jm||(jm={}));new Promise(()=>{});function Lf(t,e){e===void 0&&(e=[]);let n=[];return f.Children.forEach(t,(i,r)=>{if(!f.isValidElement(i))return;let s=[...e,r];if(i.type===f.Fragment){n.push.apply(n,Lf(i.props.children,s));return}i.type!==cn&&lt(!1),!i.props.index||!i.props.children||lt(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Lf(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kf(){return kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kf.apply(this,arguments)}function UL(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function zL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BL(t,e){return t.button===0&&(!e||e==="_self")&&!zL(t)}const $L=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],VL="startTransition",Fm=BE[VL];function WL(t){let{basename:e,children:n,future:i,window:r}=t,s=f.useRef();s.current==null&&(s.current=Zb({window:r,v5Compat:!0}));let o=s.current,[l,a]=f.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},c=f.useCallback(d=>{u&&Fm?Fm(()=>a(d)):a(d)},[a,u]);return f.useLayoutEffect(()=>o.listen(c),[o,c]),f.createElement(FL,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o})}const HL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=f.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:c}=e,d=UL(e,$L),{basename:h}=f.useContext(Ds),g,w=!1;if(typeof u=="string"&&GL.test(u)&&(g=u,HL))try{let m=new URL(window.location.href),v=u.startsWith("//")?new URL(m.protocol+u):new URL(u),C=rp(v.pathname,h);v.origin===m.origin&&C!=null?u=C+v.search+v.hash:w=!0}catch{}let y=EL(u,{relative:r}),E=KL(u,{replace:o,state:l,target:a,preventScrollReset:c,relative:r});function _(m){i&&i(m),m.defaultPrevented||E(m)}return f.createElement("a",kf({},d,{href:g||y,onClick:w||s?i:_,ref:n,target:a}))});var Um;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Um||(Um={}));var zm;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zm||(zm={}));function KL(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,l=xL(),a=Fu(),u=C0(t,{relative:o});return f.useCallback(c=>{if(BL(c,n)){c.preventDefault();let d=i!==void 0?i:Ql(a)===Ql(u);l(t,{replace:d,state:r,preventScrollReset:s,relative:o})}},[a,l,u,i,r,n,t,s,o])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=function(t,e){if(!t)throw js(e)},js=function(t){return new Error("Firebase Database ("+E0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},QL=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],l=t[n++],a=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ap={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,l=o?t[r+1]:0,a=r+2<t.length,u=a?t[r+2]:0,c=s>>2,d=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,g=u&63;a||(g=64,o||(h=64)),i.push(n[c],n[d],n[h],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(x0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||u==null||d==null)throw new qL;const h=s<<2|l>>4;if(i.push(h),u!==64){const g=l<<4&240|u>>2;if(i.push(g),d!==64){const w=u<<6&192|d;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b0=function(t){const e=x0(t);return ap.encodeByteArray(e,!0)},Yl=function(t){return b0(t).replace(/\./g,"")},Zl=function(t){try{return ap.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){return Qo(void 0,t)}function Qo(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ZL(n)||(t[n]=Qo(t[n],e[n]));return t}function ZL(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=()=>XL().__FIREBASE_DEFAULTS__,ek=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Zl(t[1]);return e&&JSON.parse(e)},Uu=()=>{try{return JL()||ek()||tk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nk=t=>{var e,n;return(n=(e=Uu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ik=t=>{const e=nk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},L0=()=>{var t;return(t=Uu())===null||t===void 0?void 0:t.config},rk=t=>{var e;return(e=Uu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Yl(JSON.stringify(n)),Yl(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function sk(){var t;const e=(t=Uu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ok(){return typeof self=="object"&&self.self===self}function ak(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function T0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I0(){return E0.NODE_ADMIN===!0}function lk(){try{return typeof indexedDB=="object"}catch{return!1}}function uk(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="FirebaseError";class fi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=ck,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ur.prototype.create)}}class Ur{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?dk(s,i):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new fi(r,l,i)}}function dk(t,e){return t.replace(fk,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const fk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t){return JSON.parse(t)}function dt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=qo(Zl(s[0])||""),n=qo(Zl(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},hk=function(t){const e=P0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},pk=function(t){const e=P0(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Pr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Tf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xl(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function If(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Bm(s)&&Bm(o)){if(!If(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Bm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),c=1518500249):(u=s^o^l,c=1859775393):d<60?(u=s&o|l&(s|o),c=2400959708):(u=s^o^l,c=3395469782);const h=(r<<5|r>>>27)+u+a+c+i[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function M0(t,e){const n=new mk(t,e);return n.subscribe.bind(n)}class mk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");vk(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=id),r.error===void 0&&(r.error=id),r.complete===void 0&&(r.complete=id);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function id(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e,n,i){let r;if(i<e?r="at least "+e:i>n&&(r=n===0?"none":"no more than "+n),r){const s=t+" failed: Was called with "+i+(i===1?" argument.":" arguments.")+" Expects "+r+".";throw new Error(s)}};function Ht(t,e){return`${t} failed: ${e} argument `}function mt(t,e,n,i){if(!(i&&!n)&&typeof n!="function")throw new Error(Ht(t,e)+"must be a valid function.")}function $m(t,e,n,i){if(!(i&&!n)&&(typeof n!="object"||n===null))throw new Error(Ht(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,V(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},zu=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t){return t&&t._delegate?t._delegate:t}class Sn{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Ut;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wk(e))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fr){return this.instances.has(e)}getOptions(e=fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_k(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fr){return this.component?this.component.multipleInstances?e:fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _k(t){return t===fr?void 0:t}function wk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Pf(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=[];var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const R0={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},Ck=be.INFO,Sk={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},Ek=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=Sk[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ga{constructor(e){this.name=e,this._logLevel=Ck,this._logHandler=Ek,this._userLogHandler=null,cp.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}function xk(t){cp.forEach(e=>{e.setLogLevel(t)})}function bk(t,e){for(const n of cp){let i=null;e&&e.level&&(i=R0[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(r,s,...o)=>{const l=o.map(a=>{if(a==null)return null;if(typeof a=="string")return a;if(typeof a=="number"||typeof a=="boolean")return a.toString();if(a instanceof Error)return a.message;try{return JSON.stringify(a)}catch{return null}}).filter(a=>a).join(" ");s>=(i??r.logLevel)&&t({level:be[s].toLowerCase(),message:l,args:o,type:r.name})}}}const Lk=(t,e)=>e.some(n=>t instanceof n);let Vm,Wm;function kk(){return Vm||(Vm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tk(){return Wm||(Wm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O0=new WeakMap,Mf=new WeakMap,A0=new WeakMap,rd=new WeakMap,dp=new WeakMap;function Ik(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($i(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&O0.set(n,t)}).catch(()=>{}),dp.set(e,t),e}function Pk(t){if(Mf.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Mf.set(t,e)}let Nf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Mk(t){Nf=t(Nf)}function Nk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(sd(this),e,...n);return A0.set(i,e.sort?e.sort():[e]),$i(i)}:Tk().includes(t)?function(...e){return t.apply(sd(this),e),$i(O0.get(this))}:function(...e){return $i(t.apply(sd(this),e))}}function Rk(t){return typeof t=="function"?Nk(t):(t instanceof IDBTransaction&&Pk(t),Lk(t,kk())?new Proxy(t,Nf):t)}function $i(t){if(t instanceof IDBRequest)return Ik(t);if(rd.has(t))return rd.get(t);const e=Rk(t);return e!==t&&(rd.set(t,e),dp.set(e,t)),e}const sd=t=>dp.get(t);function Ok(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),l=$i(o);return i&&o.addEventListener("upgradeneeded",a=>{i($i(o.result),a.oldVersion,a.newVersion,$i(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),r&&a.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Ak=["get","getKey","getAll","getAllKeys","count"],Dk=["put","add","delete","clear"],od=new Map;function Hm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(od.get(e))return od.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Dk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Ak.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,r?"readwrite":"readonly");let u=a.store;return i&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),r&&a.done]))[0]};return od.set(e,s),s}Mk(t=>({...t,get:(e,n,i)=>Hm(e,n)||t.get(e,n,i),has:(e,n)=>!!Hm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Fk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Fk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rf="@firebase/app",Gm="0.9.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new ga("@firebase/app"),Uk="@firebase/app-compat",zk="@firebase/analytics-compat",Bk="@firebase/analytics",$k="@firebase/app-check-compat",Vk="@firebase/app-check",Wk="@firebase/auth",Hk="@firebase/auth-compat",Gk="@firebase/database",Kk="@firebase/database-compat",Qk="@firebase/functions",qk="@firebase/functions-compat",Yk="@firebase/installations",Zk="@firebase/installations-compat",Xk="@firebase/messaging",Jk="@firebase/messaging-compat",e1="@firebase/performance",t1="@firebase/performance-compat",n1="@firebase/remote-config",i1="@firebase/remote-config-compat",r1="@firebase/storage",s1="@firebase/storage-compat",o1="@firebase/firestore",a1="@firebase/firestore-compat",l1="firebase",u1="10.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="[DEFAULT]",c1={[Rf]:"fire-core",[Uk]:"fire-core-compat",[Bk]:"fire-analytics",[zk]:"fire-analytics-compat",[Vk]:"fire-app-check",[$k]:"fire-app-check-compat",[Wk]:"fire-auth",[Hk]:"fire-auth-compat",[Gk]:"fire-rtdb",[Kk]:"fire-rtdb-compat",[Qk]:"fire-fn",[qk]:"fire-fn-compat",[Yk]:"fire-iid",[Zk]:"fire-iid-compat",[Xk]:"fire-fcm",[Jk]:"fire-fcm-compat",[e1]:"fire-perf",[t1]:"fire-perf-compat",[n1]:"fire-rc",[i1]:"fire-rc-compat",[r1]:"fire-gcs",[s1]:"fire-gcs-compat",[o1]:"fire-fst",[a1]:"fire-fst-compat","fire-js":"fire-js",[l1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new Map,Yo=new Map;function Jl(t,e){try{t.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function D0(t,e){t.container.addOrOverwriteComponent(e)}function ui(t){const e=t.name;if(Yo.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;Yo.set(e,t);for(const n of qi.values())Jl(n,t);return!0}function fp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function d1(t,e,n=Qi){fp(t,e).clearInstance(n)}function f1(){Yo.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ii=new Ur("app","Firebase",h1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p1=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=u1;function hp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Qi,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ii.create("bad-app-name",{appName:String(r)});if(n||(n=L0()),!n)throw ii.create("no-options");const s=qi.get(r);if(s){if(If(n,s.options)&&If(i,s.config))return s;throw ii.create("duplicate-app",{appName:r})}const o=new N0(r);for(const a of Yo.values())o.addComponent(a);const l=new p1(n,i,o);return qi.set(r,l),l}function j0(t=Qi){const e=qi.get(t);if(!e&&t===Qi&&L0())return hp();if(!e)throw ii.create("no-app",{appName:t});return e}function g1(){return Array.from(qi.values())}async function F0(t){const e=t.name;qi.has(e)&&(qi.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function _n(t,e,n){var i;let r=(i=c1[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(l.join(" "));return}ui(new Sn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function U0(t,e){if(t!==null&&typeof t!="function")throw ii.create("invalid-log-argument");bk(t,e)}function z0(t){xk(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="firebase-heartbeat-database",v1=1,Zo="firebase-heartbeat-store";let ad=null;function B0(){return ad||(ad=Ok(m1,v1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zo)}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),ad}async function y1(t){try{return await(await B0()).transaction(Zo).objectStore(Zo).get($0(t))}catch(e){if(e instanceof fi)Mr.warn(e.message);else{const n=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mr.warn(n.message)}}}async function Km(t,e){try{const i=(await B0()).transaction(Zo,"readwrite");await i.objectStore(Zo).put(e,$0(t)),await i.done}catch(n){if(n instanceof fi)Mr.warn(n.message);else{const i=ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mr.warn(i.message)}}}function $0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=1024,w1=30*24*60*60*1e3;class C1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E1(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Qm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=w1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Qm(),{heartbeatsToSend:n,unsentEntries:i}=S1(this._heartbeatsCache.heartbeats),r=Yl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Qm(){return new Date().toISOString().substring(0,10)}function S1(t,e=_1){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),qm(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),qm(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class E1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lk()?uk().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await y1(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Km(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Km(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function qm(t){return Yl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){ui(new Sn("platform-logger",e=>new jk(e),"PRIVATE")),ui(new Sn("heartbeat",e=>new C1(e),"PRIVATE")),_n(Rf,Gm,t),_n(Rf,Gm,"esm2017"),_n("fire-js","")}x1("");const b1=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:fi,SDK_VERSION:zr,_DEFAULT_ENTRY_NAME:Qi,_addComponent:Jl,_addOrOverwriteComponent:D0,_apps:qi,_clearComponents:f1,_components:Yo,_getProvider:fp,_registerComponent:ui,_removeServiceInstance:d1,deleteApp:F0,getApp:j0,getApps:g1,initializeApp:hp,onLog:U0,registerVersion:_n,setLogLevel:z0},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this._delegate=e,this.firebase=n,Jl(e,new Sn("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),F0(this._delegate)))}_getService(e,n=Qi){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Qi){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Jl(this._delegate,e)}_addOrOverwriteComponent(e){D0(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Ym=new Ur("app-compat","Firebase",k1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t){const e={},n={__esModule:!0,initializeApp:s,app:r,registerVersion:_n,setLogLevel:z0,onLog:U0,apps:null,SDK_VERSION:zr,INTERNAL:{registerComponent:l,removeApp:i,useAsService:a,modularAPIs:b1}};n.default=n,Object.defineProperty(n,"apps",{get:o});function i(u){delete e[u]}function r(u){if(u=u||Qi,!tn(e,u))throw Ym.create("no-app",{appName:u});return e[u]}r.App=t;function s(u,c={}){const d=hp(u,c);if(tn(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function l(u){const c=u.name,d=c.replace("-compat","");if(ui(u)&&u.type==="PUBLIC"){const h=(g=r())=>{if(typeof g[d]!="function")throw Ym.create("invalid-app-argument",{appName:c});return g[d]()};u.serviceProps!==void 0&&Qo(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...g){return this._getService.bind(this,c).apply(this,u.multipleInstances?g:[])}}return u.type==="PUBLIC"?n[d]:null}function a(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(){const t=T1(L1);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:V0,extendNamespace:e,createSubscribe:M0,ErrorFactory:Ur,deepExtend:Qo});function e(n){Qo(t,n)}return t}const I1=V0();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=new ga("@firebase/app-compat"),P1="@firebase/app-compat",M1="0.2.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t){_n(P1,M1,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(ok()&&self.firebase!==void 0){Zm.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&Zm.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const He=I1;N1();var R1="firebase",O1="10.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */He.registerVersion(R1,O1,"app-compat");const Xm="@firebase/database",Jm="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W0="";function H0(t){W0=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:qo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return tn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new A1(e)}}catch{}return new D1},vr=G0("localStorage"),Of=G0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new ga("@firebase/database"),K0=function(){let t=1;return function(){return t++}}(),Q0=function(t){const e=yk(t),n=new gk;n.update(e);const i=n.digest();return ap.encodeByteArray(i)},ma=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=ma.apply(null,i):typeof i=="object"?e+=dt(i):e+=i,e+=" "}return e};let Er=null,ev=!0;const q0=function(t,e){V(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(gs.logLevel=be.VERBOSE,Er=gs.log.bind(gs),e&&Of.set("logging_enabled",!0)):typeof t=="function"?Er=t:(Er=null,Of.remove("logging_enabled"))},yt=function(...t){if(ev===!0&&(ev=!1,Er===null&&Of.get("logging_enabled")===!0&&q0(!0)),Er){const e=ma.apply(null,t);Er(e)}},va=function(t){return function(...e){yt(t,...e)}},Af=function(...t){const e="FIREBASE INTERNAL ERROR: "+ma(...t);gs.error(e)},Kn=function(...t){const e=`FIREBASE FATAL ERROR: ${ma(...t)}`;throw gs.error(e),new Error(e)},It=function(...t){const e="FIREBASE WARNING: "+ma(...t);gs.warn(e)},j1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&It("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Bu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},F1=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Yi="[MIN_NAME]",ci="[MAX_NAME]",Br=function(t,e){if(t===e)return 0;if(t===Yi||e===ci)return-1;if(e===Yi||t===ci)return 1;{const n=tv(t),i=tv(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},U1=function(t,e){return t===e?0:t<e?-1:1},Zs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+dt(e))},pp=function(t){if(typeof t!="object"||t===null)return dt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=dt(e[i]),n+=":",n+=pp(t[e[i]]);return n+="}",n},Y0=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function wt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Z0=function(t){V(!Bu(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,l,a;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=l+i,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(r?1:0),u.reverse();const c=u.join("");let d="";for(a=0;a<64;a+=8){let h=parseInt(c.substr(a,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},z1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},B1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function $1(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const V1=new RegExp("^-?(0*)\\d{1,10}$"),W1=-2147483648,H1=2147483647,tv=function(t){if(V1.test(t)){const e=Number(t);if(e>=W1&&e<=H1)return e}return null},Fs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw It("Exception was thrown by user callback.",n),e},Math.floor(0))}},G1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){It(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(yt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',It(e)}}class ms{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ms.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="5",X0="v",J0="s",eC="r",tC="f",nC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,iC="ls",rC="p",Df="ac",sC="websocket",oC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,i,r,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&vr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function q1(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function lC(t,e,n){V(typeof e=="string","typeof type must == string"),V(typeof n=="object","typeof params must == object");let i;if(e===sC)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===oC)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);q1(t)&&(n.ns=t.namespace);const r=[];return wt(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.counters_={}}incrementCounter(e,n=1){tn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return YL(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld={},ud={};function mp(t){const e=t.toString();return ld[e]||(ld[e]=new Y1),ld[e]}function Z1(t,e){const n=t.toString();return ud[n]||(ud[n]=e()),ud[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Fs(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="start",J1="close",eT="pLPCommand",tT="pRTLPCB",uC="id",cC="pw",dC="ser",nT="cb",iT="seg",rT="ts",sT="d",oT="dframe",fC=1870,hC=30,aT=fC-hC,lT=25e3,uT=3e4;class Ii{constructor(e,n,i,r,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=va(e),this.stats_=mp(n),this.urlFn=a=>(this.appCheckToken&&(a[Df]=this.appCheckToken),lC(n,oC,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new X1(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(uT)),F1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vp((...s)=>{const[o,l,a,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===nv)this.id=l,this.password=a;else if(o===J1)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[nv]="t",i[dC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[nT]=this.scriptTagHolder.uniqueCallbackIdentifier),i[X0]=gp,this.transportSessionId&&(i[J0]=this.transportSessionId),this.lastSessionId&&(i[iC]=this.lastSessionId),this.applicationId&&(i[rC]=this.applicationId),this.appCheckToken&&(i[Df]=this.appCheckToken),typeof location<"u"&&location.hostname&&nC.test(location.hostname)&&(i[eC]=tC);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ii.forceAllow_=!0}static forceDisallow(){Ii.forceDisallow_=!0}static isAvailable(){return Ii.forceAllow_?!0:!Ii.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!z1()&&!B1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=b0(n),r=Y0(i,aT);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[oT]="t",i[uC]=e,i[cC]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class vp{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=K0(),window[eT+this.uniqueCallbackIdentifier]=e,window[tT+this.uniqueCallbackIdentifier]=n,this.myIFrame=vp.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){yt("frame writing exception"),l.stack&&yt(l.stack),yt(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[uC]=this.myID,e[cC]=this.myPW,e[dC]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hC+i.length<=fC;){const o=this.pendingSegs.shift();i=i+"&"+iT+r+"="+o.seg+"&"+rT+r+"="+o.ts+"&"+sT+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(lT)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{yt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=16384,dT=45e3;let eu=null;typeof MozWebSocket<"u"?eu=MozWebSocket:typeof WebSocket<"u"&&(eu=WebSocket);class pn{constructor(e,n,i,r,s,o,l){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=va(this.connId),this.stats_=mp(n),this.connURL=pn.connectionURL_(n,o,l,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[X0]=gp,typeof location<"u"&&location.hostname&&nC.test(location.hostname)&&(o[eC]=tC),n&&(o[J0]=n),i&&(o[iC]=i),r&&(o[Df]=r),s&&(o[rC]=s),lC(e,sC,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vr.set("previous_websocket_failure",!0);try{let i;I0(),this.mySock=new eu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){pn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&eu!==null&&!pn.forceDisallow_}static previouslyFailed(){return vr.isInMemoryStorage||vr.get("previous_websocket_failure")===!0}markConnectionHealthy(){vr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=qo(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(V(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Y0(n,cT);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dT))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}pn.responsesRequiredToBeHealthy=2;pn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ii,pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=pn&&pn.isAvailable();let i=n&&!pn.previouslyFailed();if(e.webSocketOnly&&(n||It("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[pn];else{const r=this.transports_=[];for(const s of Ls.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Ls.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ls.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=6e4,hT=5e3,pT=10*1024,gT=100*1024,cd="t",iv="d",mT="s",rv="r",vT="e",sv="o",ov="a",av="n",lv="p",yT="h";class _T{constructor(e,n,i,r,s,o,l,a,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=va("c:"+this.id+":"),this.transportManager_=new Ls(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=wo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>gT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>pT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(cd in e){const n=e[cd];n===ov?this.upgradeIfSecondaryHealthy_():n===rv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===sv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Zs("t",e),i=Zs("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:lv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ov,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:av,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Zs("t",e),i=Zs("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Zs(cd,e);if(iv in e){const i=e[iv];if(n===yT){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===av){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===mT?this.onConnectionShutdown_(i):n===rv?this.onReset_(i):n===vT?Af("Server Error: "+i):n===sv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Af("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),gp!==i&&It("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),wo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(fT))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(hT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:lv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.allowedEvents_=e,this.listeners_={},V(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){V(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends gC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new tu}getInitialEvent(e){return V(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=32,cv=768;class xe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Se(){return new xe("")}function ce(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Zi(t){return t.pieces_.length-t.pieceNum_}function Re(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new xe(t.pieces_,e)}function yp(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function wT(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Xo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function mC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new xe(e,0)}function Ge(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof xe)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new xe(n,0)}function de(t){return t.pieceNum_>=t.pieces_.length}function Ot(t,e){const n=ce(t),i=ce(e);if(n===null)return e;if(n===i)return Ot(Re(t),Re(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function CT(t,e){const n=Xo(t,0),i=Xo(e,0);for(let r=0;r<n.length&&r<i.length;r++){const s=Br(n[r],i[r]);if(s!==0)return s}return n.length===i.length?0:n.length<i.length?-1:1}function _p(t,e){if(Zi(t)!==Zi(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function mn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Zi(t)>Zi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class ST{constructor(e,n){this.errorPrefix_=n,this.parts_=Xo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=zu(this.parts_[i]);vC(this)}}function ET(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=zu(e),vC(t)}function xT(t){const e=t.parts_.pop();t.byteLength_-=zu(e),t.parts_.length>0&&(t.byteLength_-=1)}function vC(t){if(t.byteLength_>cv)throw new Error(t.errorPrefix_+"has a key path longer than "+cv+" bytes ("+t.byteLength_+").");if(t.parts_.length>uv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uv+") or object contains a cycle "+hr(t))}function hr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends gC{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new wp}getInitialEvent(e){return V(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=1e3,bT=60*5*1e3,dv=30*1e3,LT=1.3,kT=3e4,TT="server_kill",fv=3;class ri extends pC{constructor(e,n,i,r,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=ri.nextPersistentConnectionId_++,this.log_=va("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xs,this.maxReconnectDelay_=bT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!I0())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&tu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(dt(s)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new Ut,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;ri.warnOnListenWarnings_(a,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&tn(e,"w")){const i=Pr(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();It(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||pk(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=dv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=hk(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+dt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Af("Unrecognized action received from server: "+dt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>kT&&(this.reconnectDelay_=Xs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*LT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+ri.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,i())},u=function(d){V(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?yt("getToken() completed but was canceled"):(yt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,l=new _T(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,g=>{It(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(TT)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&It(d),a())}}}interrupt(e){yt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Tf(this.interruptReasons_)&&(this.reconnectDelay_=Xs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>pp(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new xe(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){yt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fv&&(this.reconnectDelay_=dv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){yt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+W0.replace(/\./g,"-")]=1,lp()?e["framework.cordova"]=1:T0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=tu.getInstance().currentlyOnline();return Tf(this.interruptReasons_)&&e}}ri.nextPersistentConnectionId_=0;ri.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new he(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new he(Yi,e),r=new he(Yi,n);return this.compare(i,r)!==0}minPost(){return he.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el;class yC extends $u{static get __EMPTY_NODE(){return el}static set __EMPTY_NODE(e){el=e}compare(e,n){return Br(e.name,n.name)}isDefinedOn(e){throw js("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return he.MIN}maxPost(){return new he(ci,el)}makePost(e,n){return V(typeof e=="string","KeyIndex indexValue must always be a string."),new he(e,el)}toString(){return".key"}}const Hn=new yC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class vt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??vt.RED,this.left=r??Bt.EMPTY_NODE,this.right=s??Bt.EMPTY_NODE}copy(e,n,i,r,s){return new vt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}vt.RED=!0;vt.BLACK=!1;class IT{copy(e,n,i,r,s){return this}insert(e,n,i){return new vt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Bt{constructor(e,n=Bt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Bt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,vt.BLACK,null,null))}remove(e){return new Bt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new tl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new tl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new tl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new tl(this.root_,null,this.comparator_,!0,e)}}Bt.EMPTY_NODE=new IT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t,e){return Br(t.name,e.name)}function Cp(t,e){return Br(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf;function MT(t){jf=t}const _C=function(t){return typeof t=="number"?"number:"+Z0(t):"string:"+t},wC=function(t){if(t.isLeafNode()){const e=t.val();V(typeof e=="string"||typeof e=="number"||typeof e=="object"&&tn(e,".sv"),"Priority must be a string or number.")}else V(t===jf||t.isEmpty(),"priority of unexpected type.");V(t===jf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hv;class pt{constructor(e,n=pt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,V(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),wC(this.priorityNode_)}static set __childrenNodeConstructor(e){hv=e}static get __childrenNodeConstructor(){return hv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:ce(e)===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:pt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=ce(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(V(i!==".priority"||Zi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,pt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Re(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_C(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Z0(this.value_):e+=this.value_,this.lazyHash_=Q0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pt.__childrenNodeConstructor?-1:(V(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=pt.VALUE_TYPE_ORDER.indexOf(n),s=pt.VALUE_TYPE_ORDER.indexOf(i);return V(r>=0,"Unknown leaf type: "+n),V(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CC,SC;function NT(t){CC=t}function RT(t){SC=t}class OT extends $u{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?Br(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return he.MIN}maxPost(){return new he(ci,new pt("[PRIORITY-POST]",SC))}makePost(e,n){const i=CC(e);return new he(n,new pt("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ue=new OT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=Math.log(2);class DT{constructor(e){const n=s=>parseInt(Math.log(s)/AT,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const nu=function(t,e,n,i){t.sort(e);const r=function(a,u){const c=u-a;let d,h;if(c===0)return null;if(c===1)return d=t[a],h=n?n(d):d,new vt(h,d.node,vt.BLACK,null,null);{const g=parseInt(c/2,10)+a,w=r(a,g),y=r(g+1,u);return d=t[g],h=n?n(d):d,new vt(h,d.node,vt.BLACK,w,y)}},s=function(a){let u=null,c=null,d=t.length;const h=function(w,y){const E=d-w,_=d;d-=w;const m=r(E+1,_),v=t[E],C=n?n(v):v;g(new vt(C,v.node,y,null,m))},g=function(w){u?(u.left=w,u=w):(c=w,u=w)};for(let w=0;w<a.count;++w){const y=a.nextBitIsOne(),E=Math.pow(2,a.count-(w+1));y?h(E,vt.BLACK):(h(E,vt.BLACK),h(E,vt.RED))}return c},o=new DT(t.length),l=s(o);return new Bt(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd;const qr={};class ti{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return V(qr&&Ue,"ChildrenNode.ts has not been loaded"),dd=dd||new ti({".priority":qr},{".priority":Ue}),dd}get(e){const n=Pr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Bt?n:null}hasIndex(e){return tn(this.indexSet_,e.toString())}addIndex(e,n){V(e!==Hn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(he.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let l;r?l=nu(i,e.getCompare()):l=qr;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const c=Object.assign({},this.indexes_);return c[a]=l,new ti(c,u)}addToIndexes(e,n){const i=Xl(this.indexes_,(r,s)=>{const o=Pr(this.indexSet_,s);if(V(o,"Missing index implementation for "+s),r===qr)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(he.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),nu(l,o.getCompare())}else return qr;else{const l=n.get(e.name);let a=r;return l&&(a=a.remove(new he(e.name,l))),a.insert(e,e.node)}});return new ti(i,this.indexSet_)}removeFromIndexes(e,n){const i=Xl(this.indexes_,r=>{if(r===qr)return r;{const s=n.get(e.name);return s?r.remove(new he(e.name,s)):r}});return new ti(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js;class te{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&wC(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Js||(Js=new te(new Bt(Cp),null,ti.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Js}updatePriority(e){return this.children_.isEmpty()?this:new te(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Js:n}}getChild(e){const n=ce(e);return n===null?this:this.getImmediateChild(n).getChild(Re(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(V(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new he(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Js:this.priorityNode_;return new te(r,o,s)}}updateChild(e,n){const i=ce(e);if(i===null)return n;{V(ce(e)!==".priority"||Zi(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Re(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(Ue,(o,l)=>{n[o]=l.val(e),i++,s&&te.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+_C(this.getPriority().val())+":"),this.forEachChild(Ue,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":Q0(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new he(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new he(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new he(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,he.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,he.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ya?-1:0}withIndex(e){if(e===Hn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new te(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Hn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ue),r=n.getIterator(Ue);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Hn?null:this.indexMap_.get(e.toString())}}te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class jT extends te{constructor(){super(new Bt(Cp),te.EMPTY_NODE,ti.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return te.EMPTY_NODE}isEmpty(){return!1}}const ya=new jT;Object.defineProperties(he,{MIN:{value:new he(Yi,te.EMPTY_NODE)},MAX:{value:new he(ci,ya)}});yC.__EMPTY_NODE=te.EMPTY_NODE;pt.__childrenNodeConstructor=te;MT(ya);RT(ya);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=!0;function Qe(t,e=null){if(t===null)return te.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),V(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new pt(n,Qe(e))}if(!(t instanceof Array)&&FT){const n=[];let i=!1;if(wt(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Qe(l);a.isEmpty()||(i=i||!a.getPriority().isEmpty(),n.push(new he(o,a)))}}),n.length===0)return te.EMPTY_NODE;const s=nu(n,PT,o=>o.name,Cp);if(i){const o=nu(n,Ue.getCompare());return new te(s,Qe(e),new ti({".priority":o},{".priority":Ue}))}else return new te(s,Qe(e),ti.Default)}else{let n=te.EMPTY_NODE;return wt(t,(i,r)=>{if(tn(t,i)&&i.substring(0,1)!=="."){const s=Qe(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Qe(e))}}NT(Qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends $u{constructor(e){super(),this.indexPath_=e,V(!de(e)&&ce(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?Br(e.name,n.name):s}makePost(e,n){const i=Qe(e),r=te.EMPTY_NODE.updateChild(this.indexPath_,i);return new he(n,r)}maxPost(){const e=te.EMPTY_NODE.updateChild(this.indexPath_,ya);return new he(ci,e)}toString(){return Xo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends $u{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Br(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(e,n){const i=Qe(e);return new he(n,i)}toString(){return".value"}}const Ep=new UT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t){return{type:"value",snapshotNode:t}}function ks(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Jo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ea(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function zT(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){V(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(r).equals(i.getChild(r))&&l.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(Jo(n,l)):V(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(ks(n,i)):o.trackChildChange(ea(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ue,(r,s)=>{n.hasChild(r)||i.trackChildChange(Jo(r,s))}),n.isLeafNode()||n.forEachChild(Ue,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(ea(r,s,o))}else i.trackChildChange(ks(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?te.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.indexedFilter_=new xp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ta.getStartPost_(e),this.endPost_=ta.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new he(n,i))||(i=te.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=te.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(te.EMPTY_NODE);const s=this;return n.forEachChild(Ue,(o,l)=>{s.matches(new he(o,l))||(r=r.updateImmediateChild(o,te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new ta(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new he(n,i))||(i=te.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=te.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=te.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))r=r.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(te.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:r=r.updateImmediateChild(l.name,te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,g)=>d(g,h)}else o=this.index_.getCompare();const l=e;V(l.numChildren()===this.limit_,"");const a=new he(n,i),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let h=r.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);const g=h==null?1:o(h,a);if(c&&!i.isEmpty()&&g>=0)return s!=null&&s.trackChildChange(ea(n,i,d)),l.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(Jo(n,d));const y=l.updateImmediateChild(n,te.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(ks(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return i.isEmpty()?e:c&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Jo(u.name,u.node)),s.trackChildChange(ks(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(u.name,te.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yi}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ci}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ue}copy(){const e=new Vu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $T(t){return t.loadsAllData()?new xp(t.getIndex()):t.hasLimit()?new BT(t):new ta(t)}function VT(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function WT(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Ff(t,e,n){const i=t.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function HT(t,e,n){let i;return t.index_===Hn||n?i=Ff(t,e,n):i=Ff(t,e,ci),i.startAfterSet_=!0,i}function Uf(t,e,n){const i=t.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function GT(t,e,n){let i;return t.index_===Hn||n?i=Uf(t,e,n):i=Uf(t,e,Yi),i.endBeforeSet_=!0,i}function Wu(t,e){const n=t.copy();return n.index_=e,n}function pv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ue?n="$priority":t.index_===Ep?n="$value":t.index_===Hn?n="$key":(V(t.index_ instanceof Sp,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=dt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=dt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+dt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=dt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function gv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ue&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends pC{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=va("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(V(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=iu.getListenId_(e,i),l={};this.listens_[o]=l;const a=pv(e._queryParams);this.restRequest_(s+".json",a,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,i),Pr(this.listens_,o)===l){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",r(h,null)}})}unlisten(e,n){const i=iu.getListenId_(e,n);delete this.listens_[i]}get(e){const n=pv(e._queryParams),i=e._path.toString(),r=new Ut;return this.restRequest_(i+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(i,l,!1,null),r.resolve(l)):r.reject(new Error(l))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+up(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=qo(l.responseText)}catch{It("Failed to parse JSON response for "+o+": "+l.responseText)}i(null,a)}else l.status!==401&&l.status!==404&&It("Got unsuccessful REST response for "+o+" Status: "+l.status),i(l.status);i=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.rootNode_=te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(){return{value:null,children:new Map}}function Us(t,e,n){if(de(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=ce(e);t.children.has(i)||t.children.set(i,ru());const r=t.children.get(i);e=Re(e),Us(r,e,n)}}function zf(t,e){if(de(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(Ue,(i,r)=>{Us(t,new xe(i),r)}),zf(t,e)}}else if(t.children.size>0){const n=ce(e);return e=Re(e),t.children.has(n)&&zf(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function Bf(t,e,n){t.value!==null?n(e,t.value):QT(t,(i,r)=>{const s=new xe(e.toString()+"/"+i);Bf(r,s,n)})}function QT(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&wt(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=10*1e3,YT=30*1e3,ZT=5*60*1e3;class XT{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new qT(e);const i=mv+(YT-mv)*Math.random();wo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;wt(e,(r,s)=>{s>0&&tn(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),wo(this.reportStats_.bind(this),Math.floor(Math.random()*2*ZT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Nn||(Nn={}));function bp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Lp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Nn.ACK_USER_WRITE,this.source=bp()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new xe(e));return new su(Se(),n,this.revert)}}else return V(ce(this.path)===e,"operationForChild called for unrelated child."),new su(Re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.source=e,this.path=n,this.type=Nn.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new na(this.source,Se()):new na(this.source,Re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Nn.OVERWRITE}operationForChild(e){return de(this.path)?new Nr(this.source,Se(),this.snap.getImmediateChild(e)):new Nr(this.source,Re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Nn.MERGE}operationForChild(e){if(de(this.path)){const n=this.children.subtree(new xe(e));return n.isEmpty()?null:n.value?new Nr(this.source,Se(),n.value):new Ts(this.source,Se(),n)}else return V(ce(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ts(this.source,Re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const n=ce(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function eI(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(zT(o.childName,o.snapshotNode))}),eo(t,r,"child_removed",e,i,n),eo(t,r,"child_added",e,i,n),eo(t,r,"child_moved",s,i,n),eo(t,r,"child_changed",e,i,n),eo(t,r,"value",e,i,n),r}function eo(t,e,n,i,r,s){const o=i.filter(l=>l.type===n);o.sort((l,a)=>nI(t,l,a)),o.forEach(l=>{const a=tI(t,l,s);r.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function tI(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function nI(t,e,n){if(e.childName==null||n.childName==null)throw js("Should only compare child_ events.");const i=new he(e.childName,e.snapshotNode),r=new he(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t,e){return{eventCache:t,serverCache:e}}function Co(t,e,n,i){return Hu(new Xi(e,n,i),t.serverCache)}function xC(t,e,n,i){return Hu(t.eventCache,new Xi(e,n,i))}function ou(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Rr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd;const iI=()=>(fd||(fd=new Bt(U1)),fd);class je{constructor(e,n=iI()){this.value=e,this.children=n}static fromObject(e){let n=new je(null);return wt(e,(i,r)=>{n=n.set(new xe(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Se(),value:this.value};if(de(e))return null;{const i=ce(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(Re(e),n);return s!=null?{path:Ge(new xe(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const n=ce(e),i=this.children.get(n);return i!==null?i.subtree(Re(e)):new je(null)}}set(e,n){if(de(e))return new je(n,this.children);{const i=ce(e),s=(this.children.get(i)||new je(null)).set(Re(e),n),o=this.children.insert(i,s);return new je(this.value,o)}}remove(e){if(de(e))return this.children.isEmpty()?new je(null):new je(null,this.children);{const n=ce(e),i=this.children.get(n);if(i){const r=i.remove(Re(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new je(null):new je(this.value,s)}else return this}}get(e){if(de(e))return this.value;{const n=ce(e),i=this.children.get(n);return i?i.get(Re(e)):null}}setTree(e,n){if(de(e))return n;{const i=ce(e),s=(this.children.get(i)||new je(null)).setTree(Re(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new je(this.value,o)}}fold(e){return this.fold_(Se(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Ge(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Se(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(de(e))return null;{const s=ce(e),o=this.children.get(s);return o?o.findOnPath_(Re(e),Ge(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Se(),n)}foreachOnPath_(e,n,i){if(de(e))return this;{this.value&&i(n,this.value);const r=ce(e),s=this.children.get(r);return s?s.foreachOnPath_(Re(e),Ge(n,r),i):new je(null)}}foreach(e){this.foreach_(Se(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Ge(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.writeTree_=e}static empty(){return new An(new je(null))}}function So(t,e,n){if(de(e))return new An(new je(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=Ot(r,e);return s=s.updateChild(o,n),new An(t.writeTree_.set(r,s))}else{const r=new je(n),s=t.writeTree_.setTree(e,r);return new An(s)}}}function $f(t,e,n){let i=t;return wt(n,(r,s)=>{i=So(i,Ge(e,r),s)}),i}function vv(t,e){if(de(e))return An.empty();{const n=t.writeTree_.setTree(e,new je(null));return new An(n)}}function Vf(t,e){return $r(t,e)!=null}function $r(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ot(n.path,e)):null}function yv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ue,(i,r)=>{e.push(new he(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new he(i,r.value))}),e}function Vi(t,e){if(de(e))return t;{const n=$r(t,e);return n!=null?new An(new je(n)):new An(t.writeTree_.subtree(e))}}function Wf(t){return t.writeTree_.isEmpty()}function Is(t,e){return bC(Se(),t.writeTree_,e)}function bC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(V(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=bC(Ge(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Ge(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t,e){return IC(e,t)}function rI(t,e,n,i,r){V(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=So(t.visibleWrites,e,n)),t.lastWriteId=i}function sI(t,e,n,i){V(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=$f(t.visibleWrites,e,n),t.lastWriteId=i}function oI(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function aI(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);V(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&lI(l,i.path)?r=!1:mn(i.path,l.path)&&(s=!0)),o--}if(r){if(s)return uI(t),!0;if(i.snap)t.visibleWrites=vv(t.visibleWrites,i.path);else{const l=i.children;wt(l,a=>{t.visibleWrites=vv(t.visibleWrites,Ge(i.path,a))})}return!0}else return!1}function lI(t,e){if(t.snap)return mn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&mn(Ge(t.path,n),e))return!0;return!1}function uI(t){t.visibleWrites=LC(t.allWrites,cI,Se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function cI(t){return t.visible}function LC(t,e,n){let i=An.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let l;if(s.snap)mn(n,o)?(l=Ot(n,o),i=So(i,l,s.snap)):mn(o,n)&&(l=Ot(o,n),i=So(i,Se(),s.snap.getChild(l)));else if(s.children){if(mn(n,o))l=Ot(n,o),i=$f(i,l,s.children);else if(mn(o,n))if(l=Ot(o,n),de(l))i=$f(i,Se(),s.children);else{const a=Pr(s.children,ce(l));if(a){const u=a.getChild(Re(l));i=So(i,Se(),u)}}}else throw js("WriteRecord should have .snap or .children")}}return i}function kC(t,e,n,i,r){if(!i&&!r){const s=$r(t.visibleWrites,e);if(s!=null)return s;{const o=Vi(t.visibleWrites,e);if(Wf(o))return n;if(n==null&&!Vf(o,Se()))return null;{const l=n||te.EMPTY_NODE;return Is(o,l)}}}else{const s=Vi(t.visibleWrites,e);if(!r&&Wf(s))return n;if(!r&&n==null&&!Vf(s,Se()))return null;{const o=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(mn(u.path,e)||mn(e,u.path))},l=LC(t.allWrites,o,e),a=n||te.EMPTY_NODE;return Is(l,a)}}}function dI(t,e,n){let i=te.EMPTY_NODE;const r=$r(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ue,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=Vi(t.visibleWrites,e);return n.forEachChild(Ue,(o,l)=>{const a=Is(Vi(s,new xe(o)),l);i=i.updateImmediateChild(o,a)}),yv(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=Vi(t.visibleWrites,e);return yv(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function fI(t,e,n,i,r){V(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Ge(e,n);if(Vf(t.visibleWrites,s))return null;{const o=Vi(t.visibleWrites,s);return Wf(o)?r.getChild(n):Is(o,r.getChild(n))}}function hI(t,e,n,i){const r=Ge(e,n),s=$r(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=Vi(t.visibleWrites,r);return Is(o,i.getNode().getImmediateChild(n))}else return null}function pI(t,e){return $r(t.visibleWrites,e)}function gI(t,e,n,i,r,s,o){let l;const a=Vi(t.visibleWrites,e),u=$r(a,Se());if(u!=null)l=u;else if(n!=null)l=Is(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const c=[],d=o.getCompare(),h=s?l.getReverseIteratorFrom(i,o):l.getIteratorFrom(i,o);let g=h.getNext();for(;g&&c.length<r;)d(g,i)!==0&&c.push(g),g=h.getNext();return c}else return[]}function mI(){return{visibleWrites:An.empty(),allWrites:[],lastWriteId:-1}}function au(t,e,n,i){return kC(t.writeTree,t.treePath,e,n,i)}function Tp(t,e){return dI(t.writeTree,t.treePath,e)}function _v(t,e,n,i){return fI(t.writeTree,t.treePath,e,n,i)}function lu(t,e){return pI(t.writeTree,Ge(t.treePath,e))}function vI(t,e,n,i,r,s){return gI(t.writeTree,t.treePath,e,n,i,r,s)}function Ip(t,e,n){return hI(t.writeTree,t.treePath,e,n)}function TC(t,e){return IC(Ge(t.treePath,e),t.writeTree)}function IC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;V(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),V(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,ea(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,Jo(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,ks(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,ea(i,e.snapshotNode,r.oldSnap));else throw js("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const PC=new _I;class Pp{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Xi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ip(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Rr(this.viewCache_),s=vI(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t){return{filter:t}}function CI(t,e){V(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),V(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function SI(t,e,n,i,r){const s=new yI;let o,l;if(n.type===Nn.OVERWRITE){const u=n;u.source.fromUser?o=Hf(t,e,u.path,u.snap,i,r,s):(V(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!de(u.path),o=uu(t,e,u.path,u.snap,i,r,l,s))}else if(n.type===Nn.MERGE){const u=n;u.source.fromUser?o=xI(t,e,u.path,u.children,i,r,s):(V(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=Gf(t,e,u.path,u.children,i,r,l,s))}else if(n.type===Nn.ACK_USER_WRITE){const u=n;u.revert?o=kI(t,e,u.path,i,r,s):o=bI(t,e,u.path,u.affectedTree,i,r,s)}else if(n.type===Nn.LISTEN_COMPLETE)o=LI(t,e,n.path,i,s);else throw js("Unknown operation type: "+n.type);const a=s.getChanges();return EI(e,o,a),{viewCache:o,changes:a}}function EI(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=ou(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(EC(ou(e)))}}function MC(t,e,n,i,r,s){const o=e.eventCache;if(lu(i,n)!=null)return e;{let l,a;if(de(n))if(V(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Rr(e),c=u instanceof te?u:te.EMPTY_NODE,d=Tp(i,c);l=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=au(i,Rr(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=ce(n);if(u===".priority"){V(Zi(n)===1,"Can't have a priority with additional path components");const c=o.getNode();a=e.serverCache.getNode();const d=_v(i,n,c,a);d!=null?l=t.filter.updatePriority(c,d):l=o.getNode()}else{const c=Re(n);let d;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const h=_v(i,n,o.getNode(),a);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=Ip(i,u,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),u,d,c,r,s):l=o.getNode()}}return Co(e,l,o.isFullyInitialized()||de(n),t.filter.filtersNodes())}}function uu(t,e,n,i,r,s,o,l){const a=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(de(n))u=c.updateFullNode(a.getNode(),i,null);else if(c.filtersNodes()&&!a.isFiltered()){const g=a.getNode().updateChild(n,i);u=c.updateFullNode(a.getNode(),g,null)}else{const g=ce(n);if(!a.isCompleteForPath(n)&&Zi(n)>1)return e;const w=Re(n),E=a.getNode().getImmediateChild(g).updateChild(w,i);g===".priority"?u=c.updatePriority(a.getNode(),E):u=c.updateChild(a.getNode(),g,E,w,PC,null)}const d=xC(e,u,a.isFullyInitialized()||de(n),c.filtersNodes()),h=new Pp(r,d,s);return MC(t,d,n,r,h,l)}function Hf(t,e,n,i,r,s,o){const l=e.eventCache;let a,u;const c=new Pp(r,e,s);if(de(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,o),a=Co(e,u,!0,t.filter.filtersNodes());else{const d=ce(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),a=Co(e,u,l.isFullyInitialized(),l.isFiltered());else{const h=Re(n),g=l.getNode().getImmediateChild(d);let w;if(de(h))w=i;else{const y=c.getCompleteChild(d);y!=null?yp(h)===".priority"&&y.getChild(mC(h)).isEmpty()?w=y:w=y.updateChild(h,i):w=te.EMPTY_NODE}if(g.equals(w))a=e;else{const y=t.filter.updateChild(l.getNode(),d,w,h,c,o);a=Co(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function wv(t,e){return t.eventCache.isCompleteForChild(e)}function xI(t,e,n,i,r,s,o){let l=e;return i.foreach((a,u)=>{const c=Ge(n,a);wv(e,ce(c))&&(l=Hf(t,l,c,u,r,s,o))}),i.foreach((a,u)=>{const c=Ge(n,a);wv(e,ce(c))||(l=Hf(t,l,c,u,r,s,o))}),l}function Cv(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Gf(t,e,n,i,r,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;de(n)?u=i:u=new je(null).setTree(n,i);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const g=e.serverCache.getNode().getImmediateChild(d),w=Cv(t,g,h);a=uu(t,a,new xe(d),w,r,s,o,l)}}),u.children.inorderTraversal((d,h)=>{const g=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!g){const w=e.serverCache.getNode().getImmediateChild(d),y=Cv(t,w,h);a=uu(t,a,new xe(d),y,r,s,o,l)}}),a}function bI(t,e,n,i,r,s,o){if(lu(r,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(i.value!=null){if(de(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return uu(t,e,n,a.getNode().getChild(n),r,s,l,o);if(de(n)){let u=new je(null);return a.getNode().forEachChild(Hn,(c,d)=>{u=u.set(new xe(c),d)}),Gf(t,e,n,u,r,s,l,o)}else return e}else{let u=new je(null);return i.foreach((c,d)=>{const h=Ge(n,c);a.isCompleteForPath(h)&&(u=u.set(c,a.getNode().getChild(h)))}),Gf(t,e,n,u,r,s,l,o)}}function LI(t,e,n,i,r){const s=e.serverCache,o=xC(e,s.getNode(),s.isFullyInitialized()||de(n),s.isFiltered());return MC(t,o,n,i,PC,r)}function kI(t,e,n,i,r,s){let o;if(lu(i,n)!=null)return e;{const l=new Pp(i,e,r),a=e.eventCache.getNode();let u;if(de(n)||ce(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=au(i,Rr(e));else{const d=e.serverCache.getNode();V(d instanceof te,"serverChildren would be complete if leaf node"),c=Tp(i,d)}c=c,u=t.filter.updateFullNode(a,c,s)}else{const c=ce(n);let d=Ip(i,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=a.getImmediateChild(c)),d!=null?u=t.filter.updateChild(a,c,d,Re(n),l,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(a,c,te.EMPTY_NODE,Re(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=au(i,Rr(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||lu(i,Se())!=null,Co(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new xp(i.getIndex()),s=$T(i);this.processor_=wI(s);const o=n.serverCache,l=n.eventCache,a=r.updateFullNode(te.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(te.EMPTY_NODE,l.getNode(),null),c=new Xi(a,o.isFullyInitialized(),r.filtersNodes()),d=new Xi(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Hu(d,c),this.eventGenerator_=new JT(this.query_)}get query(){return this.query_}}function II(t){return t.viewCache_.serverCache.getNode()}function PI(t){return ou(t.viewCache_)}function MI(t,e){const n=Rr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!de(e)&&!n.getImmediateChild(ce(e)).isEmpty())?n.getChild(e):null}function Sv(t){return t.eventRegistrations_.length===0}function NI(t,e){t.eventRegistrations_.push(e)}function Ev(t,e,n){const i=[];if(n){V(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function xv(t,e,n,i){e.type===Nn.MERGE&&e.source.queryId!==null&&(V(Rr(t.viewCache_),"We should always have a full cache before handling merges"),V(ou(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=SI(t.processor_,r,e,n,i);return CI(t.processor_,s.viewCache),V(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,NC(t,s.changes,s.viewCache.eventCache.getNode(),null)}function RI(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ue,(s,o)=>{i.push(ks(s,o))}),n.isFullyInitialized()&&i.push(EC(n.getNode())),NC(t,i,n.getNode(),e)}function NC(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return eI(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu;class RC{constructor(){this.views=new Map}}function OI(t){V(!cu,"__referenceConstructor has already been defined"),cu=t}function AI(){return V(cu,"Reference.ts has not been loaded"),cu}function DI(t){return t.views.size===0}function Mp(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return V(s!=null,"SyncTree gave us an op for an invalid query."),xv(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat(xv(o,e,n,i));return s}}function OC(t,e,n,i,r){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=au(n,r?i:null),a=!1;l?a=!0:i instanceof te?(l=Tp(n,i),a=!1):(l=te.EMPTY_NODE,a=!1);const u=Hu(new Xi(l,a,!1),new Xi(i,r,!1));return new TI(e,u)}return o}function jI(t,e,n,i,r,s){const o=OC(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),NI(o,n),RI(o,n)}function FI(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const l=Ji(t);if(r==="default")for(const[a,u]of t.views.entries())o=o.concat(Ev(u,n,i)),Sv(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(r);a&&(o=o.concat(Ev(a,n,i)),Sv(a)&&(t.views.delete(r),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Ji(t)&&s.push(new(AI())(e._repo,e._path)),{removed:s,events:o}}function AC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Wi(t,e){let n=null;for(const i of t.views.values())n=n||MI(i,e);return n}function DC(t,e){if(e._queryParams.loadsAllData())return Ku(t);{const i=e._queryIdentifier;return t.views.get(i)}}function jC(t,e){return DC(t,e)!=null}function Ji(t){return Ku(t)!=null}function Ku(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du;function UI(t){V(!du,"__referenceConstructor has already been defined"),du=t}function zI(){return V(du,"Reference.ts has not been loaded"),du}let BI=1;class bv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new je(null),this.pendingWriteTree_=mI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Np(t,e,n,i,r){return rI(t.pendingWriteTree_,e,n,i,r),r?zs(t,new Nr(bp(),e,n)):[]}function $I(t,e,n,i){sI(t.pendingWriteTree_,e,n,i);const r=je.fromObject(n);return zs(t,new Ts(bp(),e,r))}function Pi(t,e,n=!1){const i=oI(t.pendingWriteTree_,e);if(aI(t.pendingWriteTree_,e)){let s=new je(null);return i.snap!=null?s=s.set(Se(),!0):wt(i.children,o=>{s=s.set(new xe(o),!0)}),zs(t,new su(i.path,s,n))}else return[]}function _a(t,e,n){return zs(t,new Nr(Lp(),e,n))}function VI(t,e,n){const i=je.fromObject(n);return zs(t,new Ts(Lp(),e,i))}function WI(t,e){return zs(t,new na(Lp(),e))}function HI(t,e,n){const i=Rp(t,n);if(i){const r=Op(i),s=r.path,o=r.queryId,l=Ot(s,e),a=new na(kp(o),l);return Ap(t,s,a)}else return[]}function fu(t,e,n,i,r=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||jC(o,e))){const a=FI(o,e,n,i);DI(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!r){const c=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,g)=>Ji(g));if(c&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const g=QI(h);for(let w=0;w<g.length;++w){const y=g[w],E=y.query,_=BC(t,y);t.listenProvider_.startListening(Eo(E),ia(t,E),_.hashFn,_.onComplete)}}}!d&&u.length>0&&!i&&(c?t.listenProvider_.stopListening(Eo(e),null):u.forEach(h=>{const g=t.queryToTagMap.get(qu(h));t.listenProvider_.stopListening(Eo(h),g)}))}qI(t,u)}return l}function FC(t,e,n,i){const r=Rp(t,i);if(r!=null){const s=Op(r),o=s.path,l=s.queryId,a=Ot(o,e),u=new Nr(kp(l),a,n);return Ap(t,o,u)}else return[]}function GI(t,e,n,i){const r=Rp(t,i);if(r){const s=Op(r),o=s.path,l=s.queryId,a=Ot(o,e),u=je.fromObject(n),c=new Ts(kp(l),a,u);return Ap(t,o,c)}else return[]}function Kf(t,e,n,i=!1){const r=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(h,g)=>{const w=Ot(h,r);s=s||Wi(g,w),o=o||Ji(g)});let l=t.syncPointTree_.get(r);l?(o=o||Ji(l),s=s||Wi(l,Se())):(l=new RC,t.syncPointTree_=t.syncPointTree_.set(r,l));let a;s!=null?a=!0:(a=!1,s=te.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((g,w)=>{const y=Wi(w,Se());y&&(s=s.updateImmediateChild(g,y))}));const u=jC(l,e);if(!u&&!e._queryParams.loadsAllData()){const h=qu(e);V(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const g=YI();t.queryToTagMap.set(h,g),t.tagToQueryMap.set(g,h)}const c=Gu(t.pendingWriteTree_,r);let d=jI(l,e,n,c,s,a);if(!u&&!o&&!i){const h=DC(l,e);d=d.concat(ZI(t,e,h))}return d}function Qu(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Ot(o,e),u=Wi(l,a);if(u)return u});return kC(r,e,s,n,!0)}function KI(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=Ot(u,n);i=i||Wi(c,d)});let r=t.syncPointTree_.get(n);r?i=i||Wi(r,Se()):(r=new RC,t.syncPointTree_=t.syncPointTree_.set(n,r));const s=i!=null,o=s?new Xi(i,!0,!1):null,l=Gu(t.pendingWriteTree_,e._path),a=OC(r,e,l,s?o.getNode():te.EMPTY_NODE,s);return PI(a)}function zs(t,e){return UC(e,t.syncPointTree_,null,Gu(t.pendingWriteTree_,Se()))}function UC(t,e,n,i){if(de(t.path))return zC(t,e,n,i);{const r=e.get(Se());n==null&&r!=null&&(n=Wi(r,Se()));let s=[];const o=ce(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,c=TC(i,o);s=s.concat(UC(l,a,u,c))}return r&&(s=s.concat(Mp(r,t,i,n))),s}}function zC(t,e,n,i){const r=e.get(Se());n==null&&r!=null&&(n=Wi(r,Se()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=TC(i,o),c=t.operationForChild(o);c&&(s=s.concat(zC(c,l,a,u)))}),r&&(s=s.concat(Mp(r,t,i,n))),s}function BC(t,e){const n=e.query,i=ia(t,n);return{hashFn:()=>(II(e)||te.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?HI(t,n._path,i):WI(t,n._path);{const s=$1(r,n);return fu(t,n,null,s)}}}}function ia(t,e){const n=qu(e);return t.queryToTagMap.get(n)}function qu(t){return t._path.toString()+"$"+t._queryIdentifier}function Rp(t,e){return t.tagToQueryMap.get(e)}function Op(t){const e=t.indexOf("$");return V(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new xe(t.substr(0,e))}}function Ap(t,e,n){const i=t.syncPointTree_.get(e);V(i,"Missing sync point for query tag that we're tracking");const r=Gu(t.pendingWriteTree_,e);return Mp(i,n,r,null)}function QI(t){return t.fold((e,n,i)=>{if(n&&Ji(n))return[Ku(n)];{let r=[];return n&&(r=AC(n)),wt(i,(s,o)=>{r=r.concat(o)}),r}})}function Eo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(zI())(t._repo,t._path):t}function qI(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=qu(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function YI(){return BI++}function ZI(t,e,n){const i=e._path,r=ia(t,e),s=BC(t,n),o=t.listenProvider_.startListening(Eo(e),r,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(i);if(r)V(!Ji(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,c,d)=>{if(!de(u)&&c&&Ji(c))return[Ku(c).query];{let h=[];return c&&(h=h.concat(AC(c).map(g=>g.query))),wt(d,(g,w)=>{h=h.concat(w)}),h}});for(let u=0;u<a.length;++u){const c=a[u];t.listenProvider_.stopListening(Eo(c),ia(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Dp(n)}node(){return this.node_}}class jp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ge(this.path_,e);return new jp(this.syncTree_,n)}node(){return Qu(this.syncTree_,this.path_)}}const XI=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Lv=function(t,e,n){if(!t||typeof t!="object")return t;if(V(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return JI(t[".sv"],e,n);if(typeof t[".sv"]=="object")return eP(t[".sv"],e);V(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},JI=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:V(!1,"Unexpected server value: "+t)}},eP=function(t,e,n){t.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&V(!1,"Unexpected increment value: "+i);const r=e.node();if(V(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},$C=function(t,e,n,i){return Up(e,new jp(n,t),i)},Fp=function(t,e,n){return Up(t,new Dp(e),n)};function Up(t,e,n){const i=t.getPriority().val(),r=Lv(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Lv(o.getValue(),e,n);return l!==o.getValue()||r!==o.getPriority().val()?new pt(l,Qe(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new pt(r))),o.forEachChild(Ue,(l,a)=>{const u=Up(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Yu(t,e){let n=e instanceof xe?e:new xe(e),i=t,r=ce(n);for(;r!==null;){const s=Pr(i.node.children,r)||{children:{},childCount:0};i=new zp(r,i,s),n=Re(n),r=ce(n)}return i}function Vr(t){return t.node.value}function Bp(t,e){t.node.value=e,Qf(t)}function VC(t){return t.node.childCount>0}function tP(t){return Vr(t)===void 0&&!VC(t)}function Zu(t,e){wt(t.node.children,(n,i)=>{e(new zp(n,t,i))})}function WC(t,e,n,i){n&&!i&&e(t),Zu(t,r=>{WC(r,e,!0,i)}),n&&i&&e(t)}function nP(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function wa(t){return new xe(t.parent===null?t.name:wa(t.parent)+"/"+t.name)}function Qf(t){t.parent!==null&&iP(t.parent,t.name,t)}function iP(t,e,n){const i=tP(n),r=tn(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Qf(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Qf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=/[\[\].#$\/\u0000-\u001F\u007F]/,sP=/[\[\].#$\u0000-\u001F\u007F]/,hd=10*1024*1024,Xu=function(t){return typeof t=="string"&&t.length!==0&&!rP.test(t)},HC=function(t){return typeof t=="string"&&t.length!==0&&!sP.test(t)},oP=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),HC(t)},ra=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Bu(t)||t&&typeof t=="object"&&tn(t,".sv")},Qn=function(t,e,n,i){i&&e===void 0||Ca(Ht(t,"value"),e,n)},Ca=function(t,e,n){const i=n instanceof xe?new ST(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+hr(i));if(typeof e=="function")throw new Error(t+"contains a function "+hr(i)+" with contents = "+e.toString());if(Bu(e))throw new Error(t+"contains "+e.toString()+" "+hr(i));if(typeof e=="string"&&e.length>hd/3&&zu(e)>hd)throw new Error(t+"contains a string greater than "+hd+" utf8 bytes "+hr(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(wt(e,(o,l)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Xu(o)))throw new Error(t+" contains an invalid key ("+o+") "+hr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ET(i,o),Ca(t,l,i),xT(i)}),r&&s)throw new Error(t+' contains ".value" child '+hr(i)+" in addition to actual children.")}},aP=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const s=Xo(i);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Xu(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(CT);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&mn(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},GC=function(t,e,n,i){if(i&&e===void 0)return;const r=Ht(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];wt(e,(o,l)=>{const a=new xe(o);if(Ca(r,l,Ge(n,a)),yp(a)===".priority"&&!ra(l))throw new Error(r+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),aP(r,s)},$p=function(t,e,n){if(!(n&&e===void 0)){if(Bu(e))throw new Error(Ht(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ra(e))throw new Error(Ht(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Sa=function(t,e,n,i){if(!(i&&n===void 0)&&!Xu(n))throw new Error(Ht(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},sa=function(t,e,n,i){if(!(i&&n===void 0)&&!HC(n))throw new Error(Ht(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},lP=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),sa(t,e,n,i)},vn=function(t,e){if(ce(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},KC=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Xu(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!oP(n))throw new Error(Ht(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ju(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!_p(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function QC(t,e,n){Ju(t,n),qC(t,i=>_p(i,e))}function nn(t,e,n){Ju(t,n),qC(t,i=>mn(i,e)||mn(e,i))}function qC(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(cP(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function cP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Er&&yt("event: "+n.toString()),Fs(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="repo_interrupt",dP=25;class fP{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ru(),this.transactionQueueTree_=new zp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hP(t,e,n){if(t.stats_=mp(t.repoInfo_),t.forceRestClient_||G1())t.server_=new iu(t.repoInfo_,(i,r,s,o)=>{kv(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Tv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new ri(t.repoInfo_,e,(i,r,s,o)=>{kv(t,i,r,s,o)},i=>{Tv(t,i)},i=>{pP(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=Z1(t.repoInfo_,()=>new XT(t.stats_,t.server_)),t.infoData_=new KT,t.infoSyncTree_=new bv({startListening:(i,r,s,o)=>{let l=[];const a=t.infoData_.getNode(i._path);return a.isEmpty()||(l=_a(t.infoSyncTree_,i._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Vp(t,"connected",!1),t.serverSyncTree_=new bv({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(l,a)=>{const u=o(l,a);nn(t.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function ZC(t){const n=t.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ea(t){return XI({timestamp:ZC(t)})}function kv(t,e,n,i,r){t.dataUpdateCount++;const s=new xe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const a=Xl(n,u=>Qe(u));o=GI(t.serverSyncTree_,s,a,r)}else{const a=Qe(n);o=FC(t.serverSyncTree_,s,a,r)}else if(i){const a=Xl(n,u=>Qe(u));o=VI(t.serverSyncTree_,s,a)}else{const a=Qe(n);o=_a(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Ps(t,s)),nn(t.eventQueue_,l,o)}function Tv(t,e){Vp(t,"connected",e),e===!1&&vP(t)}function pP(t,e){wt(e,(n,i)=>{Vp(t,n,i)})}function Vp(t,e,n){const i=new xe("/.info/"+e),r=Qe(n);t.infoData_.updateSnapshot(i,r);const s=_a(t.infoSyncTree_,i,r);nn(t.eventQueue_,i,s)}function ec(t){return t.nextWriteId_++}function gP(t,e,n){const i=KI(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{const s=Qe(r).withIndex(e._queryParams.getIndex());Kf(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=_a(t.serverSyncTree_,e._path,s);else{const l=ia(t.serverSyncTree_,e);o=FC(t.serverSyncTree_,e._path,s,l)}return nn(t.eventQueue_,e._path,o),fu(t.serverSyncTree_,e,n,null,!0),s},r=>(Bs(t,"get for query "+dt(e)+" failed: "+r),Promise.reject(new Error(r))))}function Wp(t,e,n,i,r){Bs(t,"set",{path:e.toString(),value:n,priority:i});const s=Ea(t),o=Qe(n,i),l=Qu(t.serverSyncTree_,e),a=Fp(o,l,s),u=ec(t),c=Np(t.serverSyncTree_,e,a,u,!0);Ju(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(h,g)=>{const w=h==="ok";w||It("set at "+e+" failed: "+h);const y=Pi(t.serverSyncTree_,u,!w);nn(t.eventQueue_,e,y),er(t,r,h,g)});const d=Gp(t,e);Ps(t,d),nn(t.eventQueue_,d,[])}function mP(t,e,n,i){Bs(t,"update",{path:e.toString(),value:n});let r=!0;const s=Ea(t),o={};if(wt(n,(l,a)=>{r=!1,o[l]=$C(Ge(e,l),Qe(a),t.serverSyncTree_,s)}),r)yt("update() called with empty data.  Don't do anything."),er(t,i,"ok",void 0);else{const l=ec(t),a=$I(t.serverSyncTree_,e,o,l);Ju(t.eventQueue_,a),t.server_.merge(e.toString(),n,(u,c)=>{const d=u==="ok";d||It("update at "+e+" failed: "+u);const h=Pi(t.serverSyncTree_,l,!d),g=h.length>0?Ps(t,e):e;nn(t.eventQueue_,g,h),er(t,i,u,c)}),wt(n,u=>{const c=Gp(t,Ge(e,u));Ps(t,c)}),nn(t.eventQueue_,e,[])}}function vP(t){Bs(t,"onDisconnectEvents");const e=Ea(t),n=ru();Bf(t.onDisconnect_,Se(),(r,s)=>{const o=$C(r,s,t.serverSyncTree_,e);Us(n,r,o)});let i=[];Bf(n,Se(),(r,s)=>{i=i.concat(_a(t.serverSyncTree_,r,s));const o=Gp(t,r);Ps(t,o)}),t.onDisconnect_=ru(),nn(t.eventQueue_,Se(),i)}function yP(t,e,n){t.server_.onDisconnectCancel(e.toString(),(i,r)=>{i==="ok"&&zf(t.onDisconnect_,e),er(t,n,i,r)})}function Iv(t,e,n,i){const r=Qe(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),(s,o)=>{s==="ok"&&Us(t.onDisconnect_,e,r),er(t,i,s,o)})}function _P(t,e,n,i,r){const s=Qe(n,i);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,l)=>{o==="ok"&&Us(t.onDisconnect_,e,s),er(t,r,o,l)})}function wP(t,e,n,i){if(Tf(n)){yt("onDisconnect().update() called with empty data.  Don't do anything."),er(t,i,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(r,s)=>{r==="ok"&&wt(n,(o,l)=>{const a=Qe(l);Us(t.onDisconnect_,Ge(e,o),a)}),er(t,i,r,s)})}function CP(t,e,n){let i;ce(e._path)===".info"?i=Kf(t.infoSyncTree_,e,n):i=Kf(t.serverSyncTree_,e,n),QC(t.eventQueue_,e._path,i)}function qf(t,e,n){let i;ce(e._path)===".info"?i=fu(t.infoSyncTree_,e,n):i=fu(t.serverSyncTree_,e,n),QC(t.eventQueue_,e._path,i)}function XC(t){t.persistentConnection_&&t.persistentConnection_.interrupt(YC)}function SP(t){t.persistentConnection_&&t.persistentConnection_.resume(YC)}function Bs(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),yt(n,...e)}function er(t,e,n,i){e&&Fs(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,e(o)}})}function EP(t,e,n,i,r,s){Bs(t,"transaction on "+e);const o={path:e,update:n,onComplete:i,status:null,order:K0(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=Hp(t,e,void 0);o.currentInputSnapshot=l;const a=o.update(l.val());if(a===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Ca("transaction failed: Data returned ",a,o.path),o.status=0;const u=Yu(t.transactionQueueTree_,e),c=Vr(u)||[];c.push(o),Bp(u,c);let d;typeof a=="object"&&a!==null&&tn(a,".priority")?(d=Pr(a,".priority"),V(ra(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Qu(t.serverSyncTree_,e)||te.EMPTY_NODE).getPriority().val();const h=Ea(t),g=Qe(a,d),w=Fp(g,l,h);o.currentOutputSnapshotRaw=g,o.currentOutputSnapshotResolved=w,o.currentWriteId=ec(t);const y=Np(t.serverSyncTree_,e,w,o.currentWriteId,o.applyLocally);nn(t.eventQueue_,e,y),tc(t,t.transactionQueueTree_)}}function Hp(t,e,n){return Qu(t.serverSyncTree_,e,n)||te.EMPTY_NODE}function tc(t,e=t.transactionQueueTree_){if(e||nc(t,e),Vr(e)){const n=eS(t,e);V(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&xP(t,wa(e),n)}else VC(e)&&Zu(e,n=>{tc(t,n)})}function xP(t,e,n){const i=n.map(u=>u.currentWriteId),r=Hp(t,e,i);let s=r;const o=r.hash();for(let u=0;u<n.length;u++){const c=n[u];V(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Ot(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{Bs(t,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Pi(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();nc(t,Yu(t.transactionQueueTree_,e)),tc(t,t.transactionQueueTree_),nn(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Fs(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{It("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Ps(t,e)}},o)}function Ps(t,e){const n=JC(t,e),i=wa(n),r=eS(t,n);return bP(t,r,i),i}function bP(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=Ot(n,a.path);let c=!1,d;if(V(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,d=a.abortReason,r=r.concat(Pi(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=dP)c=!0,d="maxretry",r=r.concat(Pi(t.serverSyncTree_,a.currentWriteId,!0));else{const h=Hp(t,a.path,o);a.currentInputSnapshot=h;const g=e[l].update(h.val());if(g!==void 0){Ca("transaction failed: Data returned ",g,a.path);let w=Qe(g);typeof g=="object"&&g!=null&&tn(g,".priority")||(w=w.updatePriority(h.getPriority()));const E=a.currentWriteId,_=Ea(t),m=Fp(w,h,_);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=m,a.currentWriteId=ec(t),o.splice(o.indexOf(E),1),r=r.concat(Np(t.serverSyncTree_,a.path,m,a.currentWriteId,a.applyLocally)),r=r.concat(Pi(t.serverSyncTree_,E,!0))}else c=!0,d="nodata",r=r.concat(Pi(t.serverSyncTree_,a.currentWriteId,!0))}nn(t.eventQueue_,n,r),r=[],c&&(e[l].status=2,function(h){setTimeout(h,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(d),!1,null))))}nc(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)Fs(i[l]);tc(t,t.transactionQueueTree_)}function JC(t,e){let n,i=t.transactionQueueTree_;for(n=ce(e);n!==null&&Vr(i)===void 0;)i=Yu(i,n),e=Re(e),n=ce(e);return i}function eS(t,e){const n=[];return tS(t,e,n),n.sort((i,r)=>i.order-r.order),n}function tS(t,e,n){const i=Vr(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Zu(e,r=>{tS(t,r,n)})}function nc(t,e){const n=Vr(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,Bp(e,n.length>0?n:void 0)}Zu(e,i=>{nc(t,i)})}function Gp(t,e){const n=wa(JC(t,e)),i=Yu(t.transactionQueueTree_,e);return nP(i,r=>{pd(t,r)}),pd(t,i),WC(i,r=>{pd(t,r)}),n}function pd(t,e){const n=Vr(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(V(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(V(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Pi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Bp(e,void 0):n.length=s+1,nn(t.eventQueue_,wa(e),r);for(let o=0;o<i.length;o++)Fs(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function kP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):It(`Invalid query segment '${n}' in query '${t}'`)}return e}const Yf=function(t,e){const n=TP(t),i=n.namespace;n.domain==="firebase.com"&&Kn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||j1();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new aC(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new xe(n.pathString)}},TP=function(t){let e="",n="",i="",r="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(r=LP(t.substring(c,d)));const h=kP(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const g=e.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const w=e.indexOf(".");i=e.substring(0,w).toLowerCase(),n=e.substring(w+1),s=i}"ns"in h&&(s=h.ns)}return{host:e,port:a,domain:n,subdomain:i,secure:o,scheme:l,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",IP=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let r;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Pv.charAt(n%64),n=Math.floor(n/64);V(n===0,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=Pv.charAt(e[r]);return V(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dt(this.snapshot.exportVal())}}class iS{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return V(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PP=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Ut;return yP(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){vn("OnDisconnect.remove",this._path);const e=new Ut;return Iv(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){vn("OnDisconnect.set",this._path),Qn("OnDisconnect.set",e,this._path,!1);const n=new Ut;return Iv(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){vn("OnDisconnect.setWithPriority",this._path),Qn("OnDisconnect.setWithPriority",e,this._path,!1),$p("OnDisconnect.setWithPriority",n,!1);const i=new Ut;return _P(this._repo,this._path,e,n,i.wrapCallback(()=>{})),i.promise}update(e){vn("OnDisconnect.update",this._path),GC("OnDisconnect.update",e,this._path,!1);const n=new Ut;return wP(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return de(this._path)?null:yp(this._path)}get ref(){return new En(this._repo,this._path)}get _queryIdentifier(){const e=gv(this._queryParams),n=pp(e);return n==="{}"?"default":n}get _queryObject(){return gv(this._queryParams)}isEqual(e){if(e=st(e),!(e instanceof Gt))return!1;const n=this._repo===e._repo,i=_p(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+wT(this._path)}}function ic(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function or(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Hn){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Yi)throw new Error(i);if(typeof e!="string")throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==ci)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(t.getIndex()===Ue){if(e!=null&&!ra(e)||n!=null&&!ra(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(V(t.getIndex()instanceof Sp||t.getIndex()===Ep,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function rc(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class En extends Gt{constructor(e,n){super(e,n,new Vu,!1)}get parent(){const e=mC(this._path);return e===null?null:new En(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let sc=class Zf{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new xe(e),i=Or(this.ref,e);return new Zf(this._node.getChild(n),i,Ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Zf(r,Or(this.ref,i),Ue)))}hasChild(e){const n=new xe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function rS(t,e){return t=st(t),t._checkNotDeleted("ref"),e!==void 0?Or(t._root,e):t._root}function Mv(t,e){t=st(t),t._checkNotDeleted("refFromURL");const n=Yf(e,t._repo.repoInfo_.nodeAdmin);KC("refFromURL",n);const i=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&Kn("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),rS(t,n.path.toString())}function Or(t,e){return t=st(t),ce(t._path)===null?lP("child","path",e,!1):sa("child","path",e,!1),new En(t._repo,Ge(t._path,e))}function MP(t,e){t=st(t),vn("push",t._path),Qn("push",e,t._path,!0);const n=ZC(t._repo),i=IP(n),r=Or(t,i),s=Or(t,i);let o;return e!=null?o=Qp(s,e).then(()=>s):o=Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function NP(t){return vn("remove",t._path),Qp(t,null)}function Qp(t,e){t=st(t),vn("set",t._path),Qn("set",e,t._path,!1);const n=new Ut;return Wp(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function RP(t,e){t=st(t),vn("setPriority",t._path),$p("setPriority",e,!1);const n=new Ut;return Wp(t._repo,Ge(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function OP(t,e,n){if(vn("setWithPriority",t._path),Qn("setWithPriority",e,t._path,!1),$p("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const i=new Ut;return Wp(t._repo,t._path,e,n,i.wrapCallback(()=>{})),i.promise}function AP(t,e){GC("update",e,t._path,!1);const n=new Ut;return mP(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function DP(t){t=st(t);const e=new Kp(()=>{}),n=new xa(e);return gP(t._repo,t,n).then(i=>new sc(i,new En(t._repo,t._path),t._queryParams.getIndex()))}class xa{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new nS("value",this,new sc(e.snapshotNode,new En(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new iS(this,e,n):null}matches(e){return e instanceof xa?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class oc{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new iS(this,e,n):null}createEvent(e,n){V(e.childName!=null,"Child events should have a childName.");const i=Or(new En(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new nS(e.type,this,new sc(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof oc?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function ba(t,e,n,i,r){let s;if(typeof i=="object"&&(s=void 0,r=i),typeof i=="function"&&(s=i),r&&r.onlyOnce){const a=n,u=(c,d)=>{qf(t._repo,t,l),a(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new Kp(n,s||void 0),l=e==="value"?new xa(o):new oc(e,o);return CP(t._repo,t,l),()=>qf(t._repo,t,l)}function Xf(t,e,n,i){return ba(t,"value",e,n,i)}function Nv(t,e,n,i){return ba(t,"child_added",e,n,i)}function Rv(t,e,n,i){return ba(t,"child_changed",e,n,i)}function Ov(t,e,n,i){return ba(t,"child_moved",e,n,i)}function Av(t,e,n,i){return ba(t,"child_removed",e,n,i)}function Dv(t,e,n){let i=null;const r=n?new Kp(n):null;e==="value"?i=new xa(r):e&&(i=new oc(e,r)),qf(t._repo,t,i)}class jn{}class sS extends jn{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Qn("endAt",this._value,e._path,!0);const n=Uf(e._queryParams,this._value,this._key);if(rc(n),or(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Gt(e._repo,e._path,n,e._orderByCalled)}}function jP(t,e){return Sa("endAt","key",e,!0),new sS(t,e)}class FP extends jn{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Qn("endBefore",this._value,e._path,!1);const n=GT(e._queryParams,this._value,this._key);if(rc(n),or(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Gt(e._repo,e._path,n,e._orderByCalled)}}function UP(t,e){return Sa("endBefore","key",e,!0),new FP(t,e)}class oS extends jn{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Qn("startAt",this._value,e._path,!0);const n=Ff(e._queryParams,this._value,this._key);if(rc(n),or(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Gt(e._repo,e._path,n,e._orderByCalled)}}function zP(t=null,e){return Sa("startAt","key",e,!0),new oS(t,e)}class BP extends jn{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Qn("startAfter",this._value,e._path,!1);const n=HT(e._queryParams,this._value,this._key);if(rc(n),or(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Gt(e._repo,e._path,n,e._orderByCalled)}}function $P(t,e){return Sa("startAfter","key",e,!0),new BP(t,e)}class VP extends jn{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Gt(e._repo,e._path,VT(e._queryParams,this._limit),e._orderByCalled)}}function WP(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new VP(t)}class HP extends jn{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Gt(e._repo,e._path,WT(e._queryParams,this._limit),e._orderByCalled)}}function GP(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new HP(t)}class KP extends jn{constructor(e){super(),this._path=e}_apply(e){ic(e,"orderByChild");const n=new xe(this._path);if(de(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Sp(n),r=Wu(e._queryParams,i);return or(r),new Gt(e._repo,e._path,r,!0)}}function QP(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return sa("orderByChild","path",t,!1),new KP(t)}class qP extends jn{_apply(e){ic(e,"orderByKey");const n=Wu(e._queryParams,Hn);return or(n),new Gt(e._repo,e._path,n,!0)}}function YP(){return new qP}class ZP extends jn{_apply(e){ic(e,"orderByPriority");const n=Wu(e._queryParams,Ue);return or(n),new Gt(e._repo,e._path,n,!0)}}function XP(){return new ZP}class JP extends jn{_apply(e){ic(e,"orderByValue");const n=Wu(e._queryParams,Ep);return or(n),new Gt(e._repo,e._path,n,!0)}}function eM(){return new JP}class tM extends jn{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(Qn("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new sS(this._value,this._key)._apply(new oS(this._value,this._key)._apply(e))}}function nM(t,e){return Sa("equalTo","key",e,!0),new tM(t,e)}function Tn(t,...e){let n=st(t);for(const i of e)n=i._apply(n);return n}OI(En);UI(En);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="FIREBASE_DATABASE_EMULATOR_HOST",Jf={};let rM=!1;function sM(t,e,n,i){t.repoInfo_=new aC(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function aS(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||Kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Yf(s,r),l=o.repoInfo,a,u;typeof process<"u"&&process.env&&(u=process.env[iM]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=Yf(s,r),l=o.repoInfo):a=!o.repoInfo.secure;const c=r&&a?new ms(ms.OWNER):new Q1(t.name,t.options,e);KC("Invalid Firebase Database URL",o),de(o.path)||Kn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=aM(l,t,c,new K1(t.name,n));return new lM(d,t)}function oM(t,e){const n=Jf[e];(!n||n[t.key]!==t)&&Kn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),XC(t),delete n[t.key]}function aM(t,e,n,i){let r=Jf[e.name];r||(r={},Jf[e.name]=r);let s=r[t.toURLString()];return s&&Kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new fP(t,rM,n,i),r[t.toURLString()]=s,s}let lM=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new En(this._repo,Se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(oM(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Kn("Cannot call "+e+" on a deleted database.")}};function lS(){Ls.IS_TRANSPORT_INITIALIZED&&It("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function uM(){lS(),Ii.forceDisallow()}function cM(){lS(),pn.forceDisallow(),Ii.forceAllow()}function dM(t,e,n,i={}){t=st(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Kn("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ms(ms.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:k0(i.mockUserToken,t.app.options.projectId);s=new ms(o)}sM(r,e,n,s)}function fM(t){t=st(t),t._checkNotDeleted("goOffline"),XC(t._repo)}function hM(t){t=st(t),t._checkNotDeleted("goOnline"),SP(t._repo)}function pM(t,e){q0(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){H0(zr),ui(new Sn("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return aS(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),_n(Xm,Jm,t),_n(Xm,Jm,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM={".sv":"timestamp"};function vM(){return mM}function yM(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _M=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function wM(t,e,n){var i;if(t=st(t),vn("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=(i=n==null?void 0:n.applyLocally)!==null&&i!==void 0?i:!0,s=new Ut,o=(a,u,c)=>{let d=null;a?s.reject(a):(d=new sc(c,new En(t._repo,t._path),Ue),s.resolve(new _M(u,d)))},l=Xf(t,()=>{});return EP(t._repo,t._path,e,o,l,r),s.promise}ri.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ri.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};gM();const CM="@firebase/database-compat",SM="1.0.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=new ga("@firebase/database-compat"),uS=function(t){const e="FIREBASE WARNING: "+t;EM.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=function(t,e,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(Ht(t,e)+"must be a boolean.")},bM=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ht(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this._delegate=e}cancel(e){ne("OnDisconnect.cancel",0,1,arguments.length),mt("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),i=>e(i)),n}remove(e){ne("OnDisconnect.remove",0,1,arguments.length),mt("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),i=>e(i)),n}set(e,n){ne("OnDisconnect.set",1,2,arguments.length),mt("OnDisconnect.set","onComplete",n,!0);const i=this._delegate.set(e);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(e,n,i){ne("OnDisconnect.setWithPriority",2,3,arguments.length),mt("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,n);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,n){if(ne("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,uS("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}mt("OnDisconnect.update","onComplete",n,!0);const i=this._delegate.update(e);return n&&i.then(()=>n(null),r=>n(r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return ne("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this._database=e,this._delegate=n}val(){return ne("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return ne("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return ne("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return ne("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return ne("DataSnapshot.child",0,1,arguments.length),e=String(e),sa("DataSnapshot.child","path",e,!1),new Hi(this._database,this._delegate.child(e))}hasChild(e){return ne("DataSnapshot.hasChild",1,1,arguments.length),sa("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return ne("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return ne("DataSnapshot.forEach",1,1,arguments.length),mt("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Hi(this._database,n)))}hasChildren(){return ne("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return ne("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return ne("DataSnapshot.ref",0,0,arguments.length),new yr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class St{constructor(e,n){this.database=e,this._delegate=n}on(e,n,i,r){var s;ne("Query.on",2,4,arguments.length),mt("Query.on","callback",n,!1);const o=St.getCancelAndContextArgs_("Query.on",i,r),l=(u,c)=>{n.call(o.context,new Hi(this.database,u),c)};l.userCallback=n,l.context=o.context;const a=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(e){case"value":return Xf(this._delegate,l,a),n;case"child_added":return Nv(this._delegate,l,a),n;case"child_removed":return Av(this._delegate,l,a),n;case"child_changed":return Rv(this._delegate,l,a),n;case"child_moved":return Ov(this._delegate,l,a),n;default:throw new Error(Ht("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,i){if(ne("Query.off",0,3,arguments.length),bM("Query.off",e,!0),mt("Query.off","callback",n,!0),$m("Query.off","context",i,!0),n){const r=()=>{};r.userCallback=n,r.context=i,Dv(this._delegate,e,r)}else Dv(this._delegate,e)}get(){return DP(this._delegate).then(e=>new Hi(this.database,e))}once(e,n,i,r){ne("Query.once",1,4,arguments.length),mt("Query.once","callback",n,!0);const s=St.getCancelAndContextArgs_("Query.once",i,r),o=new Ut,l=(u,c)=>{const d=new Hi(this.database,u);n&&n.call(s.context,d,c),o.resolve(d)};l.userCallback=n,l.context=s.context;const a=u=>{s.cancel&&s.cancel.call(s.context,u),o.reject(u)};switch(e){case"value":Xf(this._delegate,l,a,{onlyOnce:!0});break;case"child_added":Nv(this._delegate,l,a,{onlyOnce:!0});break;case"child_removed":Av(this._delegate,l,a,{onlyOnce:!0});break;case"child_changed":Rv(this._delegate,l,a,{onlyOnce:!0});break;case"child_moved":Ov(this._delegate,l,a,{onlyOnce:!0});break;default:throw new Error(Ht("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return ne("Query.limitToFirst",1,1,arguments.length),new St(this.database,Tn(this._delegate,WP(e)))}limitToLast(e){return ne("Query.limitToLast",1,1,arguments.length),new St(this.database,Tn(this._delegate,GP(e)))}orderByChild(e){return ne("Query.orderByChild",1,1,arguments.length),new St(this.database,Tn(this._delegate,QP(e)))}orderByKey(){return ne("Query.orderByKey",0,0,arguments.length),new St(this.database,Tn(this._delegate,YP()))}orderByPriority(){return ne("Query.orderByPriority",0,0,arguments.length),new St(this.database,Tn(this._delegate,XP()))}orderByValue(){return ne("Query.orderByValue",0,0,arguments.length),new St(this.database,Tn(this._delegate,eM()))}startAt(e=null,n){return ne("Query.startAt",0,2,arguments.length),new St(this.database,Tn(this._delegate,zP(e,n)))}startAfter(e=null,n){return ne("Query.startAfter",0,2,arguments.length),new St(this.database,Tn(this._delegate,$P(e,n)))}endAt(e=null,n){return ne("Query.endAt",0,2,arguments.length),new St(this.database,Tn(this._delegate,jP(e,n)))}endBefore(e=null,n){return ne("Query.endBefore",0,2,arguments.length),new St(this.database,Tn(this._delegate,UP(e,n)))}equalTo(e,n){return ne("Query.equalTo",1,2,arguments.length),new St(this.database,Tn(this._delegate,nM(e,n)))}toString(){return ne("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return ne("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(ne("Query.isEqual",1,1,arguments.length),!(e instanceof St)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,i){const r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,mt(e,"cancel",r.cancel,!0),r.context=i,$m(e,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(Ht(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new yr(this.database,new En(this._delegate._repo,this._delegate._path))}}let yr=class Yr extends St{constructor(e,n){super(e,new Gt(n._repo,n._path,new Vu,!1)),this.database=e,this._delegate=n}getKey(){return ne("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return ne("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new Yr(this.database,Or(this._delegate,e))}getParent(){ne("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Yr(this.database,e):null}getRoot(){return ne("Reference.root",0,0,arguments.length),new Yr(this.database,this._delegate.root)}set(e,n){ne("Reference.set",1,2,arguments.length),mt("Reference.set","onComplete",n,!0);const i=Qp(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}update(e,n){if(ne("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,uS("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}vn("Reference.update",this._delegate._path),mt("Reference.update","onComplete",n,!0);const i=AP(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(e,n,i){ne("Reference.setWithPriority",2,3,arguments.length),mt("Reference.setWithPriority","onComplete",i,!0);const r=OP(this._delegate,e,n);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){ne("Reference.remove",0,1,arguments.length),mt("Reference.remove","onComplete",e,!0);const n=NP(this._delegate);return e&&n.then(()=>e(null),i=>e(i)),n}transaction(e,n,i){ne("Reference.transaction",1,3,arguments.length),mt("Reference.transaction","transactionUpdate",e,!1),mt("Reference.transaction","onComplete",n,!0),xM("Reference.transaction","applyLocally",i,!0);const r=wM(this._delegate,e,{applyLocally:i}).then(s=>new kM(s.committed,new Hi(this.database,s.snapshot)));return n&&r.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),r}setPriority(e,n){ne("Reference.setPriority",1,2,arguments.length),mt("Reference.setPriority","onComplete",n,!0);const i=RP(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}push(e,n){ne("Reference.push",0,2,arguments.length),mt("Reference.push","onComplete",n,!0);const i=MP(this._delegate,e),r=i.then(o=>new Yr(this.database,o));n&&r.then(()=>n(null),o=>n(o));const s=new Yr(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return vn("Reference.onDisconnect",this._delegate._path),new LM(new PP(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:uM,forceLongPolling:cM}}useEmulator(e,n,i={}){dM(this._delegate,e,n,i)}ref(e){if(ne("database.ref",0,1,arguments.length),e instanceof yr){const n=Mv(this._delegate,e.toString());return new yr(this,n)}else{const n=rS(this._delegate,e);return new yr(this,n)}}refFromURL(e){ne("database.refFromURL",1,1,arguments.length);const i=Mv(this._delegate,e);return new yr(this,i)}goOffline(){return ne("database.goOffline",0,0,arguments.length),fM(this._delegate)}goOnline(){return ne("database.goOnline",0,0,arguments.length),hM(this._delegate)}}oa.ServerValue={TIMESTAMP:vM(),increment:t=>yM(t)};function TM({app:t,url:e,version:n,customAuthImpl:i,customAppCheckImpl:r,namespace:s,nodeAdmin:o=!1}){H0(n);const l=new N0("database-standalone"),a=new Pf("auth-internal",l);a.setComponent(new Sn("auth-internal",()=>i,"PRIVATE"));let u;return r&&(u=new Pf("app-check-internal",l),u.setComponent(new Sn("app-check-internal",()=>r,"PRIVATE"))),{instance:new oa(aS(t,a,u,e,o),t),namespace:s}}var IM=Object.freeze({__proto__:null,initStandalone:TM});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=oa.ServerValue;function MM(t){t.INTERNAL.registerComponent(new Sn("database-compat",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:n});return new oa(r,i)},"PUBLIC").setServiceProps({Reference:yr,Query:St,Database:oa,DataSnapshot:Hi,enableLogging:pM,INTERNAL:IM,ServerValue:PM}).setMultipleInstances(!0)),t.registerVersion(CM,SM)}MM(He);const ye=t=>{const[e,n]=f.useState([]);return console.log(e),f.useEffect(()=>{const i={apiKey:"AIzaSyCjrFpvD5cmmQT28VsaCnjvXKlxtp6lEEA",authDomain:"newproject-9cd70.firebaseapp.com",databaseURL:"https://newproject-9cd70-default-rtdb.firebaseio.com",projectId:"newproject-9cd70",storageBucket:"newproject-9cd70.appspot.com",messagingSenderId:"229652802780",appId:"1:229652802780:web:054be34a9a7494ea8e1819",measurementId:"G-6YCSJ2GZ0N"};He.apps.length||He.initializeApp(i);const s=He.database().ref(t),o=l=>{const a=l.val();if(a){const u=Object.values(a);n(u)}else n([])};return s.on("value",o),()=>{s.off("value",o)}},[t]),e};function jv(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function qp(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:jv(e[n])&&jv(t[n])&&Object.keys(e[n]).length>0&&qp(t[n],e[n])})}const cS={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Wr(){const t=typeof document<"u"?document:{};return qp(t,cS),t}const NM={document:cS,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function on(){const t=typeof window<"u"?window:{};return qp(t,NM),t}function RM(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function eh(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function hu(){return Date.now()}function OM(t){const e=on();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function AM(t,e){e===void 0&&(e="x");const n=on();let i,r,s;const o=OM(t);return n.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(l=>l.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function nl(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function DM(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function qt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!DM(i)){const r=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const l=r[s],a=Object.getOwnPropertyDescriptor(i,l);a!==void 0&&a.enumerable&&(nl(t[l])&&nl(i[l])?i[l].__swiper__?t[l]=i[l]:qt(t[l],i[l]):!nl(t[l])&&nl(i[l])?(t[l]={},i[l].__swiper__?t[l]=i[l]:qt(t[l],i[l])):t[l]=i[l])}}}return t}function il(t,e,n){t.style.setProperty(e,n)}function dS(t){let{swiper:e,targetPosition:n,side:i}=t;const r=on(),s=-e.translate;let o=null,l;const a=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const u=n>s?"next":"prev",c=(h,g)=>u==="next"&&h>=g||u==="prev"&&h<=g,d=()=>{l=new Date().getTime(),o===null&&(o=l);const h=Math.max(Math.min((l-o)/a,1),0),g=.5-Math.cos(h*Math.PI)/2;let w=s+g*(n-s);if(c(w,n)&&(w=n),e.wrapperEl.scrollTo({[i]:w}),c(w,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:w})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(d)};d()}function Bn(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function fS(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:[e]),n}function jM(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function FM(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function Mi(t,e){return on().getComputedStyle(t,null).getPropertyValue(e)}function pu(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function hS(t,e){const n=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&n.push(i):n.push(i),i=i.parentElement;return n}function th(t,e,n){const i=on();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}let gd;function UM(){const t=on(),e=Wr();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function pS(){return gd||(gd=UM()),gd}let md;function zM(t){let{userAgent:e}=t===void 0?{}:t;const n=pS(),i=on(),r=i.navigator.platform,s=e||i.navigator.userAgent,o={ios:!1,android:!1},l=i.screen.width,a=i.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=r==="Win32";let w=r==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&w&&n.touch&&y.indexOf(`${l}x${a}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),w=!1),u&&!g&&(o.os="android",o.android=!0),(c||h||d)&&(o.os="ios",o.ios=!0),o}function BM(t){return t===void 0&&(t={}),md||(md=zM(t)),md}let vd;function $M(){const t=on();let e=!1;function n(){const i=t.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(n()){const i=String(t.navigator.userAgent);if(i.includes("Version/")){const[r,s]=i.split("Version/")[1].split(" ")[0].split(".").map(o=>Number(o));e=r<16||r===16&&s<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function VM(){return vd||(vd=$M()),vd}function WM(t){let{swiper:e,on:n,emit:i}=t;const r=on();let s=null,o=null;const l=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},a=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(d=>{o=r.requestAnimationFrame(()=>{const{width:h,height:g}=e;let w=h,y=g;d.forEach(E=>{let{contentBoxSize:_,contentRect:m,target:v}=E;v&&v!==e.el||(w=m?m.width:(_[0]||_).inlineSize,y=m?m.height:(_[0]||_).blockSize)}),(w!==h||y!==g)&&l()})}),s.observe(e.el))},u=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},c=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){a();return}r.addEventListener("resize",l),r.addEventListener("orientationchange",c)}),n("destroy",()=>{u(),r.removeEventListener("resize",l),r.removeEventListener("orientationchange",c)})}function HM(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=[],o=on(),l=function(c,d){d===void 0&&(d={});const h=o.MutationObserver||o.WebkitMutationObserver,g=new h(w=>{if(e.__preventObserver__)return;if(w.length===1){r("observerUpdate",w[0]);return}const y=function(){r("observerUpdate",w[0])};o.requestAnimationFrame?o.requestAnimationFrame(y):o.setTimeout(y,0)});g.observe(c,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(g)},a=()=>{if(e.params.observer){if(e.params.observeParents){const c=hS(e.el);for(let d=0;d<c.length;d+=1)l(c[d])}l(e.el,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",a),i("destroy",u)}var GM={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];e.apply(i,o)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),i=t):(e=s[0].events,n=s[0].data,i=s[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(a=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(i,[a,...n])}),t.eventsListeners&&t.eventsListeners[a]&&t.eventsListeners[a].forEach(u=>{u.apply(i,n)})}),t}};function KM(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Mi(i,"padding-left")||0,10)-parseInt(Mi(i,"padding-right")||0,10),n=n-parseInt(Mi(i,"padding-top")||0,10)-parseInt(Mi(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function QM(){const t=this;function e(M){return t.isHorizontal()?M:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[M]}function n(M,I){return parseFloat(M.getPropertyValue(e(I))||0)}const i=t.params,{wrapperEl:r,slidesEl:s,size:o,rtlTranslate:l,wrongRTL:a}=t,u=t.virtual&&i.virtual.enabled,c=u?t.virtual.slides.length:t.slides.length,d=Bn(s,`.${t.params.slideClass}, swiper-slide`),h=u?t.virtual.slides.length:d.length;let g=[];const w=[],y=[];let E=i.slidesOffsetBefore;typeof E=="function"&&(E=i.slidesOffsetBefore.call(t));let _=i.slidesOffsetAfter;typeof _=="function"&&(_=i.slidesOffsetAfter.call(t));const m=t.snapGrid.length,v=t.slidesGrid.length;let C=i.spaceBetween,x=-E,S=0,L=0;if(typeof o>"u")return;typeof C=="string"&&C.indexOf("%")>=0?C=parseFloat(C.replace("%",""))/100*o:typeof C=="string"&&(C=parseFloat(C)),t.virtualSize=-C,d.forEach(M=>{l?M.style.marginLeft="":M.style.marginRight="",M.style.marginBottom="",M.style.marginTop=""}),i.centeredSlides&&i.cssMode&&(il(r,"--swiper-centered-offset-before",""),il(r,"--swiper-centered-offset-after",""));const b=i.grid&&i.grid.rows>1&&t.grid;b&&t.grid.initSlides(h);let k;const T=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(M=>typeof i.breakpoints[M].slidesPerView<"u").length>0;for(let M=0;M<h;M+=1){k=0;let I;if(d[M]&&(I=d[M]),b&&t.grid.updateSlide(M,I,h,e),!(d[M]&&Mi(I,"display")==="none")){if(i.slidesPerView==="auto"){T&&(d[M].style[e("width")]="");const O=getComputedStyle(I),W=I.style.transform,$=I.style.webkitTransform;if(W&&(I.style.transform="none"),$&&(I.style.webkitTransform="none"),i.roundLengths)k=t.isHorizontal()?th(I,"width",!0):th(I,"height",!0);else{const H=n(O,"width"),z=n(O,"padding-left"),A=n(O,"padding-right"),j=n(O,"margin-left"),F=n(O,"margin-right"),N=O.getPropertyValue("box-sizing");if(N&&N==="border-box")k=H+j+F;else{const{clientWidth:B,offsetWidth:Z}=I;k=H+z+A+j+F+(Z-B)}}W&&(I.style.transform=W),$&&(I.style.webkitTransform=$),i.roundLengths&&(k=Math.floor(k))}else k=(o-(i.slidesPerView-1)*C)/i.slidesPerView,i.roundLengths&&(k=Math.floor(k)),d[M]&&(d[M].style[e("width")]=`${k}px`);d[M]&&(d[M].swiperSlideSize=k),y.push(k),i.centeredSlides?(x=x+k/2+S/2+C,S===0&&M!==0&&(x=x-o/2-C),M===0&&(x=x-o/2-C),Math.abs(x)<1/1e3&&(x=0),i.roundLengths&&(x=Math.floor(x)),L%i.slidesPerGroup===0&&g.push(x),w.push(x)):(i.roundLengths&&(x=Math.floor(x)),(L-Math.min(t.params.slidesPerGroupSkip,L))%t.params.slidesPerGroup===0&&g.push(x),w.push(x),x=x+k+C),t.virtualSize+=k+C,S=k,L+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+_,l&&a&&(i.effect==="slide"||i.effect==="coverflow")&&(r.style.width=`${t.virtualSize+C}px`),i.setWrapperSize&&(r.style[e("width")]=`${t.virtualSize+C}px`),b&&t.grid.updateWrapperSize(k,g,e),!i.centeredSlides){const M=[];for(let I=0;I<g.length;I+=1){let O=g[I];i.roundLengths&&(O=Math.floor(O)),g[I]<=t.virtualSize-o&&M.push(O)}g=M,Math.floor(t.virtualSize-o)-Math.floor(g[g.length-1])>1&&g.push(t.virtualSize-o)}if(u&&i.loop){const M=y[0]+C;if(i.slidesPerGroup>1){const I=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/i.slidesPerGroup),O=M*i.slidesPerGroup;for(let W=0;W<I;W+=1)g.push(g[g.length-1]+O)}for(let I=0;I<t.virtual.slidesBefore+t.virtual.slidesAfter;I+=1)i.slidesPerGroup===1&&g.push(g[g.length-1]+M),w.push(w[w.length-1]+M),t.virtualSize+=M}if(g.length===0&&(g=[0]),C!==0){const M=t.isHorizontal()&&l?"marginLeft":e("marginRight");d.filter((I,O)=>!i.cssMode||i.loop?!0:O!==d.length-1).forEach(I=>{I.style[M]=`${C}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let M=0;y.forEach(O=>{M+=O+(C||0)}),M-=C;const I=M-o;g=g.map(O=>O<=0?-E:O>I?I+_:O)}if(i.centerInsufficientSlides){let M=0;if(y.forEach(I=>{M+=I+(C||0)}),M-=C,M<o){const I=(o-M)/2;g.forEach((O,W)=>{g[W]=O-I}),w.forEach((O,W)=>{w[W]=O+I})}}if(Object.assign(t,{slides:d,snapGrid:g,slidesGrid:w,slidesSizesGrid:y}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){il(r,"--swiper-centered-offset-before",`${-g[0]}px`),il(r,"--swiper-centered-offset-after",`${t.size/2-y[y.length-1]/2}px`);const M=-t.snapGrid[0],I=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(O=>O+M),t.slidesGrid=t.slidesGrid.map(O=>O+I)}if(h!==c&&t.emit("slidesLengthChange"),g.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),w.length!==v&&t.emit("slidesGridLengthChange"),i.watchSlidesProgress&&t.updateSlidesOffset(),!u&&!i.cssMode&&(i.effect==="slide"||i.effect==="fade")){const M=`${i.containerModifierClass}backface-hidden`,I=t.el.classList.contains(M);h<=i.maxBackfaceHiddenSlides?I||t.el.classList.add(M):I&&t.el.classList.remove(M)}}function qM(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=l=>i?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const l=e.activeIndex+s;if(l>e.slides.length&&!i)break;n.push(o(l))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const l=n[s].offsetHeight;r=l>r?l:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function YM(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}function ZM(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;r&&(o=t),i.forEach(a=>{a.classList.remove(n.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let a=0;a<i.length;a+=1){const u=i[a];let c=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=i[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-c)/(u.swiperSlideSize+l),h=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-c)/(u.swiperSlideSize+l),g=-(o-c),w=g+e.slidesSizesGrid[a];(g>=0&&g<e.size-1||w>1&&w<=e.size||g<=0&&w>=e.size)&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(a),i[a].classList.add(n.slideVisibleClass)),u.progress=r?-d:d,u.originalProgress=r?-h:h}}function XM(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:l}=e;const a=s,u=o;if(i===0)r=0,s=!0,o=!0;else{r=(t-e.minTranslate())/i;const c=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;s=c||r<=0,o=d||r>=1,c&&(r=0),d&&(r=1)}if(n.loop){const c=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[c],g=e.slidesGrid[d],w=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=h?l=(y-h)/w:l=(y+w-g)/w,l>1&&(l-=1)}Object.assign(e,{progress:r,progressLoop:l,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!a&&e.emit("reachBeginning toEdge"),o&&!u&&e.emit("reachEnd toEdge"),(a&&!s||u&&!o)&&e.emit("fromEdge"),e.emit("progress",r)}function JM(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,s=t.virtual&&n.virtual.enabled,o=a=>Bn(i,`.${n.slideClass}${a}, swiper-slide${a}`)[0];e.forEach(a=>{a.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let l;if(s)if(n.loop){let a=r-t.virtual.slidesBefore;a<0&&(a=t.virtual.slides.length+a),a>=t.virtual.slides.length&&(a-=t.virtual.slides.length),l=o(`[data-swiper-slide-index="${a}"]`)}else l=o(`[data-swiper-slide-index="${r}"]`);else l=e[r];if(l){l.classList.add(n.slideActiveClass);let a=FM(l,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!a&&(a=e[0]),a&&a.classList.add(n.slideNextClass);let u=jM(l,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!u===0&&(u=e[e.length-1]),u&&u.classList.add(n.slidePrevClass)}t.emitSlidesClasses()}const Cl=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){const r=i.querySelector(`.${t.params.lazyPreloaderClass}`);r&&r.remove()}},yd=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},nh=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=r,l=[o-e];l.push(...Array.from({length:e}).map((a,u)=>o+i+u)),t.slides.forEach((a,u)=>{l.includes(a.column)&&yd(t,u)});return}const s=r+i-1;if(t.params.rewind||t.params.loop)for(let o=r-e;o<=s+e;o+=1){const l=(o%n+n)%n;(l<r||l>s)&&yd(t,l)}else for(let o=Math.max(r-e,0);o<=Math.min(s+e,n-1);o+=1)o!==r&&(o>s||o<r)&&yd(t,o)};function eN(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function tN(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:l}=e;let a=t,u;const c=h=>{let g=h-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof a>"u"&&(a=eN(e)),i.indexOf(n)>=0)u=i.indexOf(n);else{const h=Math.min(r.slidesPerGroupSkip,a);u=h+Math.floor((a-h)/r.slidesPerGroup)}if(u>=i.length&&(u=i.length-1),a===s){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=c(a));return}let d;e.virtual&&r.virtual.enabled&&r.loop?d=c(a):e.slides[a]?d=parseInt(e.slides[a].getAttribute("data-swiper-slide-index")||a,10):d=a,Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:o,realIndex:d,previousIndex:s,activeIndex:a}),e.initialized&&nh(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),o!==d&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function nN(t){const e=this,n=e.params,i=t.closest(`.${n.slideClass}, swiper-slide`);let r=!1,s;if(i){for(let o=0;o<e.slides.length;o+=1)if(e.slides[o]===i){r=!0,s=o;break}}if(i&&r)e.clickedSlide=i,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):e.clickedIndex=s;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}var iN={updateSize:KM,updateSlides:QM,updateAutoHeight:qM,updateSlidesOffset:YM,updateSlidesProgress:ZM,updateProgress:XM,updateSlidesClasses:JM,updateActiveIndex:tN,updateClickedSlide:nN};function rN(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let o=AM(s,t);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function sN(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=n;let l=0,a=0;const u=0;n.isHorizontal()?l=i?-t:t:a=t,r.roundLengths&&(l=Math.floor(l),a=Math.floor(a)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:a,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-a:r.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():a-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${l}px, ${a}px, ${u}px)`);let c;const d=n.maxTranslate()-n.minTranslate();d===0?c=0:c=(t-n.minTranslate())/d,c!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function oN(){return-this.snapGrid[0]}function aN(){return-this.snapGrid[this.snapGrid.length-1]}function lN(t,e,n,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const s=this,{params:o,wrapperEl:l}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const a=s.minTranslate(),u=s.maxTranslate();let c;if(i&&t>a?c=a:i&&t<u?c=u:c=t,s.updateProgress(c),o.cssMode){const d=s.isHorizontal();if(e===0)l[d?"scrollLeft":"scrollTop"]=-c;else{if(!s.support.smoothScroll)return dS({swiper:s,targetPosition:-c,side:d?"left":"top"}),!0;l.scrollTo({[d?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(c),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(c),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(h){!s||s.destroyed||h.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var uN={getTranslate:rN,setTranslate:sN,minTranslate:oN,maxTranslate:aN,translateTo:lN};function cN(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`),n.emit("setTransition",t,e)}function gS(t){let{swiper:e,runCallbacks:n,direction:i,step:r}=t;const{activeIndex:s,previousIndex:o}=e;let l=i;if(l||(s>o?l="next":s<o?l="prev":l="reset"),e.emit(`transition${r}`),n&&s!==o){if(l==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),l==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function dN(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),gS({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function fN(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),gS({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var hN={setTransition:cN,transitionStart:dN,transitionEnd:fN};function pN(t,e,n,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:l,snapGrid:a,slidesGrid:u,previousIndex:c,activeIndex:d,rtlTranslate:h,wrapperEl:g,enabled:w}=s;if(s.animating&&l.preventInteractionOnTransition||!w&&!i&&!r)return!1;const y=Math.min(s.params.slidesPerGroupSkip,o);let E=y+Math.floor((o-y)/s.params.slidesPerGroup);E>=a.length&&(E=a.length-1);const _=-a[E];if(l.normalizeSlideIndex)for(let v=0;v<u.length;v+=1){const C=-Math.floor(_*100),x=Math.floor(u[v]*100),S=Math.floor(u[v+1]*100);typeof u[v+1]<"u"?C>=x&&C<S-(S-x)/2?o=v:C>=x&&C<S&&(o=v+1):C>=x&&(o=v)}if(s.initialized&&o!==d&&(!s.allowSlideNext&&(h?_>s.translate&&_>s.minTranslate():_<s.translate&&_<s.minTranslate())||!s.allowSlidePrev&&_>s.translate&&_>s.maxTranslate()&&(d||0)!==o))return!1;o!==(c||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(_);let m;if(o>d?m="next":o<d?m="prev":m="reset",h&&-_===s.translate||!h&&_===s.translate)return s.updateActiveIndex(o),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),l.effect!=="slide"&&s.setTranslate(_),m!=="reset"&&(s.transitionStart(n,m),s.transitionEnd(n,m)),!1;if(l.cssMode){const v=s.isHorizontal(),C=h?_:-_;if(e===0){const x=s.virtual&&s.params.virtual.enabled;x&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),x&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[v?"scrollLeft":"scrollTop"]=C})):g[v?"scrollLeft":"scrollTop"]=C,x&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return dS({swiper:s,targetPosition:C,side:v?"left":"top"}),!0;g.scrollTo({[v?"left":"top"]:C,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(_),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(n,m),e===0?s.transitionEnd(n,m):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(C){!s||s.destroyed||C.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,m))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function gN(t,e,n,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let s=t;return r.params.loop&&(r.virtual&&r.params.virtual.enabled?s=s+r.virtual.slidesBefore:s=r.getSlideIndexByData(s)),r.slideTo(s,e,n,i)}function mN(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const i=this,{enabled:r,params:s,animating:o}=i;if(!r)return i;let l=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(l=Math.max(i.slidesPerViewDynamic("current",!0),1));const a=i.activeIndex<s.slidesPerGroupSkip?1:l,u=i.virtual&&s.virtual.enabled;if(s.loop){if(o&&!u&&s.loopPreventsSliding)return!1;i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft}return s.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+a,t,e,n)}function vN(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:l,enabled:a,animating:u}=i;if(!a)return i;const c=i.virtual&&r.virtual.enabled;if(r.loop){if(u&&!c&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const d=l?i.translate:-i.translate;function h(_){return _<0?-Math.floor(Math.abs(_)):Math.floor(_)}const g=h(d),w=s.map(_=>h(_));let y=s[w.indexOf(g)-1];if(typeof y>"u"&&r.cssMode){let _;s.forEach((m,v)=>{g>=m&&(_=v)}),typeof _<"u"&&(y=s[_>0?_-1:_])}let E=0;if(typeof y<"u"&&(E=o.indexOf(y),E<0&&(E=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(E=E-i.slidesPerViewDynamic("previous",!0)+1,E=Math.max(E,0))),r.rewind&&i.isBeginning){const _=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(_,t,e,n)}return i.slideTo(E,t,e,n)}function yN(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const i=this;return i.slideTo(i.activeIndex,t,e,n)}function _N(t,e,n,i){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),i===void 0&&(i=.5);const r=this;let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),l=o+Math.floor((s-o)/r.params.slidesPerGroup),a=r.rtlTranslate?r.translate:-r.translate;if(a>=r.snapGrid[l]){const u=r.snapGrid[l],c=r.snapGrid[l+1];a-u>(c-u)*i&&(s+=r.params.slidesPerGroup)}else{const u=r.snapGrid[l-1],c=r.snapGrid[l];a-u<=(c-u)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,e,n)}function wN(){const t=this,{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(Bn(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),eh(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(Bn(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),eh(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var CN={slideTo:pN,slideToLoop:gN,slideNext:mN,slidePrev:vN,slideReset:yN,slideToClosest:_N,slideToClickedSlide:wN};function SN(t){const e=this,{params:n,slidesEl:i}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;Bn(i,`.${n.slideClass}, swiper-slide`).forEach((s,o)=>{s.setAttribute("data-swiper-slide-index",o)}),e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function EN(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:s,byController:o,byMousewheel:l}=t===void 0?{}:t;const a=this;if(!a.params.loop)return;a.emit("beforeLoopFix");const{slides:u,allowSlidePrev:c,allowSlideNext:d,slidesEl:h,params:g}=a;if(a.allowSlidePrev=!0,a.allowSlideNext=!0,a.virtual&&g.virtual.enabled){n&&(!g.centeredSlides&&a.snapIndex===0?a.slideTo(a.virtual.slides.length,0,!1,!0):g.centeredSlides&&a.snapIndex<g.slidesPerView?a.slideTo(a.virtual.slides.length+a.snapIndex,0,!1,!0):a.snapIndex===a.snapGrid.length-1&&a.slideTo(a.virtual.slidesBefore,0,!1,!0)),a.allowSlidePrev=c,a.allowSlideNext=d,a.emit("loopFix");return}const w=g.slidesPerView==="auto"?a.slidesPerViewDynamic():Math.ceil(parseFloat(g.slidesPerView,10));let y=g.loopedSlides||w;y%g.slidesPerGroup!==0&&(y+=g.slidesPerGroup-y%g.slidesPerGroup),a.loopedSlides=y;const E=[],_=[];let m=a.activeIndex;typeof s>"u"?s=a.getSlideIndex(a.slides.filter(L=>L.classList.contains(g.slideActiveClass))[0]):m=s;const v=i==="next"||!i,C=i==="prev"||!i;let x=0,S=0;if(s<y){x=Math.max(y-s,g.slidesPerGroup);for(let L=0;L<y-s;L+=1){const b=L-Math.floor(L/u.length)*u.length;E.push(u.length-b-1)}}else if(s>a.slides.length-y*2){S=Math.max(s-(a.slides.length-y*2),g.slidesPerGroup);for(let L=0;L<S;L+=1){const b=L-Math.floor(L/u.length)*u.length;_.push(b)}}if(C&&E.forEach(L=>{a.slides[L].swiperLoopMoveDOM=!0,h.prepend(a.slides[L]),a.slides[L].swiperLoopMoveDOM=!1}),v&&_.forEach(L=>{a.slides[L].swiperLoopMoveDOM=!0,h.append(a.slides[L]),a.slides[L].swiperLoopMoveDOM=!1}),a.recalcSlides(),g.slidesPerView==="auto"&&a.updateSlides(),g.watchSlidesProgress&&a.updateSlidesOffset(),n){if(E.length>0&&C)if(typeof e>"u"){const L=a.slidesGrid[m],k=a.slidesGrid[m+x]-L;l?a.setTranslate(a.translate-k):(a.slideTo(m+x,0,!1,!0),r&&(a.touches[a.isHorizontal()?"startX":"startY"]+=k))}else r&&a.slideToLoop(e,0,!1,!0);else if(_.length>0&&v)if(typeof e>"u"){const L=a.slidesGrid[m],k=a.slidesGrid[m-S]-L;l?a.setTranslate(a.translate-k):(a.slideTo(m-S,0,!1,!0),r&&(a.touches[a.isHorizontal()?"startX":"startY"]+=k))}else a.slideToLoop(e,0,!1,!0)}if(a.allowSlidePrev=c,a.allowSlideNext=d,a.controller&&a.controller.control&&!o){const L={slideRealIndex:e,slideTo:!1,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(a.controller.control)?a.controller.control.forEach(b=>{!b.destroyed&&b.params.loop&&b.loopFix(L)}):a.controller.control instanceof a.constructor&&a.controller.control.params.loop&&a.controller.control.loopFix(L)}a.emit("loopFix")}function xN(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var bN={loopCreate:SN,loopFix:EN,loopDestroy:xN};function LN(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function kN(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var TN={setGrabCursor:LN,unsetGrabCursor:kN};function IN(t,e){e===void 0&&(e=this);function n(i){if(!i||i===Wr()||i===on())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function PN(t){const e=this,n=Wr(),i=on(),r=e.touchEventsData;r.evCache.push(t);const{params:s,touches:o,enabled:l}=e;if(!l||!s.simulateTouch&&t.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let a=t;a.originalEvent&&(a=a.originalEvent);let u=a.target;if(s.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(u)||"which"in a&&a.which===3||"button"in a&&a.button>0||r.isTouched&&r.isMoved)return;const c=!!s.noSwipingClass&&s.noSwipingClass!=="",d=t.composedPath?t.composedPath():t.path;c&&a.target&&a.target.shadowRoot&&d&&(u=d[0]);const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,g=!!(a.target&&a.target.shadowRoot);if(s.noSwiping&&(g?IN(h,u):u.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!u.closest(s.swipeHandler))return;o.currentX=a.pageX,o.currentY=a.pageY;const w=o.currentX,y=o.currentY,E=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,_=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(E&&(w<=_||w>=i.innerWidth-_))if(E==="prevent")t.preventDefault();else return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=w,o.startY=y,r.touchStartTime=hu(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let m=!0;u.matches(r.focusableElements)&&(m=!1,u.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==u&&n.activeElement.blur();const v=m&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||v)&&!u.isContentEditable&&a.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",a)}function MN(t){const e=Wr(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:l}=n;if(!l||!r.simulateTouch&&t.pointerType==="mouse")return;let a=t;if(a.originalEvent&&(a=a.originalEvent),!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",a);return}const u=i.evCache.findIndex(S=>S.pointerId===a.pointerId);u>=0&&(i.evCache[u]=a);const c=i.evCache.length>1?i.evCache[0]:a,d=c.pageX,h=c.pageY;if(a.preventedByNestedSwiper){s.startX=d,s.startY=h;return}if(!n.allowTouchMove){a.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:d,startY:h,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:d,currentY:h}),i.touchStartTime=hu());return}if(r.touchReleaseOnEdges&&!r.loop){if(n.isVertical()){if(h<s.startY&&n.translate<=n.maxTranslate()||h>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(d<s.startX&&n.translate<=n.maxTranslate()||d>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&a.target===e.activeElement&&a.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}if(i.allowTouchCallbacks&&n.emit("touchMove",a),a.targetTouches&&a.targetTouches.length>1)return;s.currentX=d,s.currentY=h;const g=s.currentX-s.startX,w=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(g**2+w**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let S;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:g*g+w*w>=25&&(S=Math.atan2(Math.abs(w),Math.abs(g))*180/Math.PI,i.isScrolling=n.isHorizontal()?S>r.touchAngle:90-S>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",a),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&i.evCache.length>1){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&a.cancelable&&a.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&a.stopPropagation();let y=n.isHorizontal()?g:w,E=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(y=Math.abs(y)*(o?1:-1),E=Math.abs(E)*(o?1:-1)),s.diff=y,y*=r.touchRatio,o&&(y=-y,E=-E);const _=n.touchesDirection;n.swipeDirection=y>0?"prev":"next",n.touchesDirection=E>0?"prev":"next";const m=n.params.loop&&!r.cssMode;if(!i.isMoved){if(m&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const S=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(S)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",a)}let v;i.isMoved&&_!==n.touchesDirection&&m&&Math.abs(y)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),v=!0),n.emit("sliderMove",a),i.isMoved=!0,i.currentTranslate=y+i.startTranslate;let C=!0,x=r.resistanceRatio;if(r.touchReleaseOnEdges&&(x=0),y>0?(m&&!v&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(C=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+y)**x))):y<0&&(m&&!v&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(C=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-y)**x))),C&&(a.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(y)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function NN(t){const e=this,n=e.touchEventsData,i=n.evCache.findIndex(v=>v.pointerId===t.pointerId);if(i>=0&&n.evCache.splice(i,1),["pointercancel","pointerout","pointerleave"].includes(t.type)&&!(t.type==="pointercancel"&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:r,touches:s,rtlTranslate:o,slidesGrid:l,enabled:a}=e;if(!a||!r.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",u),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const c=hu(),d=c-n.touchStartTime;if(e.allowClick){const v=u.path||u.composedPath&&u.composedPath();e.updateClickedSlide(v&&v[0]||u.target),e.emit("tap click",u),d<300&&c-n.lastClickTime<300&&e.emit("doubleTap doubleClick",u)}if(n.lastClickTime=hu(),eh(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||s.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(r.followFinger?h=o?e.translate:-e.translate:h=-n.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let g=0,w=e.slidesSizesGrid[0];for(let v=0;v<l.length;v+=v<r.slidesPerGroupSkip?1:r.slidesPerGroup){const C=v<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof l[v+C]<"u"?h>=l[v]&&h<l[v+C]&&(g=v,w=l[v+C]-l[v]):h>=l[v]&&(g=v,w=l[l.length-1]-l[l.length-2])}let y=null,E=null;r.rewind&&(e.isBeginning?E=r.virtual&&r.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(y=0));const _=(h-l[g])/w,m=g<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(d>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(_>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?y:g+m):e.slideTo(g)),e.swipeDirection==="prev"&&(_>1-r.longSwipesRatio?e.slideTo(g+m):E!==null&&_<0&&Math.abs(_)>r.longSwipesRatio?e.slideTo(E):e.slideTo(g))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(u.target===e.navigation.nextEl||u.target===e.navigation.prevEl)?u.target===e.navigation.nextEl?e.slideTo(g+m):e.slideTo(g):(e.swipeDirection==="next"&&e.slideTo(y!==null?y:g+m),e.swipeDirection==="prev"&&e.slideTo(E!==null?E:g))}}function Fv(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function RN(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function ON(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const s=t.maxTranslate()-t.minTranslate();s===0?r=0:r=(t.translate-t.minTranslate())/s,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function AN(t){const e=this;Cl(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let Uv=!1;function DN(){}const mS=(t,e)=>{const n=Wr(),{params:i,el:r,wrapperEl:s,device:o}=t,l=!!i.nested,a=e==="on"?"addEventListener":"removeEventListener",u=e;r[a]("pointerdown",t.onTouchStart,{passive:!1}),n[a]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[a]("pointerup",t.onTouchEnd,{passive:!0}),n[a]("pointercancel",t.onTouchEnd,{passive:!0}),n[a]("pointerout",t.onTouchEnd,{passive:!0}),n[a]("pointerleave",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[a]("click",t.onClick,!0),i.cssMode&&s[a]("scroll",t.onScroll),i.updateOnWindowResize?t[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Fv,!0):t[u]("observerUpdate",Fv,!0),r[a]("load",t.onLoad,{capture:!0})};function jN(){const t=this,e=Wr(),{params:n}=t;t.onTouchStart=PN.bind(t),t.onTouchMove=MN.bind(t),t.onTouchEnd=NN.bind(t),n.cssMode&&(t.onScroll=ON.bind(t)),t.onClick=RN.bind(t),t.onLoad=AN.bind(t),Uv||(e.addEventListener("touchstart",DN),Uv=!0),mS(t,"on")}function FN(){mS(this,"off")}var UN={attachEvents:jN,detachEvents:FN};const zv=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function zN(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const a=(o in s?s[o]:void 0)||t.originalParams,u=zv(t,i),c=zv(t,a),d=i.enabled;u&&!c?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&c&&(r.classList.add(`${i.containerModifierClass}grid`),(a.grid.fill&&a.grid.fill==="column"||!a.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(y=>{if(typeof a[y]>"u")return;const E=i[y]&&i[y].enabled,_=a[y]&&a[y].enabled;E&&!_&&t[y].disable(),!E&&_&&t[y].enable()});const h=a.direction&&a.direction!==i.direction,g=i.loop&&(a.slidesPerView!==i.slidesPerView||h);h&&n&&t.changeDirection(),qt(t.params,a);const w=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),d&&!w?t.disable():!d&&w&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",a),g&&n&&(t.loopDestroy(),t.loopCreate(e),t.updateSlides()),t.emit("breakpoint",a)}function BN(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let i=!1;const r=on(),s=e==="window"?r.innerHeight:n.clientHeight,o=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const a=parseFloat(l.substr(1));return{value:s*a,point:l}}return{value:l,point:l}});o.sort((l,a)=>parseInt(l.value,10)-parseInt(a.value,10));for(let l=0;l<o.length;l+=1){const{point:a,value:u}=o[l];e==="window"?r.matchMedia(`(min-width: ${u}px)`).matches&&(i=a):u<=n.clientWidth&&(i=a)}return i||"max"}var $N={setBreakpoint:zN,getBreakpoint:BN};function VN(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function WN(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:s}=t,o=VN(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),r.classList.add(...e),t.emitContainerClasses()}function HN(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var GN={addClasses:WN,removeClasses:HN};function KN(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,s=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var QN={checkOverflow:KN},Bv={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function qN(t,e){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){qt(e,i);return}if(["navigation","pagination","scrollbar"].indexOf(r)>=0&&t[r]===!0&&(t[r]={auto:!0}),!(r in t&&"enabled"in s)){qt(e,i);return}t[r]===!0&&(t[r]={enabled:!0}),typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),qt(e,i)}}const _d={eventsEmitter:GM,update:iN,translate:uN,transition:hN,slide:CN,loop:bN,grabCursor:TN,events:UN,breakpoints:$N,checkOverflow:QN,classes:GN},wd={};let aa=class Yn{constructor(){let e,n;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[e,n]=r,n||(n={}),n=qt({},n),e&&!n.el&&(n.el=e);const o=Wr();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const c=[];return o.querySelectorAll(n.el).forEach(d=>{const h=qt({},n,{el:d});c.push(new Yn(h))}),c}const l=this;l.__swiper__=!0,l.support=pS(),l.device=BM({userAgent:n.userAgent}),l.browser=VM(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const a={};l.modules.forEach(c=>{c({params:n,swiper:l,extendParams:qN(n,a),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const u=qt({},Bv,a);return l.params=qt({},u,wd,n),l.originalParams=qt({},l.params),l.passedParams=qt({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(c=>{l.on(c,l.params.on[c])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=Bn(n,`.${i.slideClass}, swiper-slide`),s=pu(r[0]);return pu(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=Bn(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*e+r;i.translateTo(o,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const i=this,{params:r,slides:s,slidesGrid:o,slidesSizesGrid:l,size:a,activeIndex:u}=i;let c=1;if(r.centeredSlides){let d=s[u]?s[u].swiperSlideSize:0,h;for(let g=u+1;g<s.length;g+=1)s[g]&&!h&&(d+=s[g].swiperSlideSize,c+=1,d>a&&(h=!0));for(let g=u-1;g>=0;g-=1)s[g]&&!h&&(d+=s[g].swiperSlideSize,c+=1,d>a&&(h=!0))}else if(e==="current")for(let d=u+1;d<s.length;d+=1)(n?o[d]+l[d]-o[u]<a:o[d]-o[u]<a)&&(c+=1);else for(let d=u-1;d>=0;d-=1)o[u]-o[d]<a&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Cl(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const o=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Bn(i,r())[0])();return!o&&n.params.createElements&&(o=fS("div",n.params.wrapperClass),i.append(o),Bn(i,`.${n.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(n,{el:i,wrapperEl:o,slidesEl:n.isElement?i.parentNode.host:o,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Mi(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Mi(i,"direction")==="rtl"),wrongRTL:Mi(o,"display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents(),[...n.el.querySelectorAll('[loading="lazy"]')].forEach(r=>{r.complete?Cl(n,r):r.addEventListener("load",s=>{Cl(n,s.target)})}),nh(n),n.initialized=!0,nh(n),n.emit("init"),n.emit("afterInit")),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const i=this,{params:r,el:s,wrapperEl:o,slides:l}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s.removeAttribute("style"),o.removeAttribute("style"),l&&l.length&&l.forEach(a=>{a.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),a.removeAttribute("style"),a.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(a=>{i.off(a)}),e!==!1&&(i.el.swiper=null,RM(i)),i.destroyed=!0),null}static extendDefaults(e){qt(wd,e)}static get extendedDefaults(){return wd}static get defaults(){return Bv}static installModule(e){Yn.prototype.__modules__||(Yn.prototype.__modules__=[]);const n=Yn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Yn.installModule(n)),Yn):(Yn.installModule(e),Yn)}};Object.keys(_d).forEach(t=>{Object.keys(_d[t]).forEach(e=>{aa.prototype[e]=_d[t][e]})});aa.use([WM,HM]);const vS=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ar(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Ni(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:Ar(e[i])&&Ar(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:Ni(t[i],e[i]):t[i]=e[i]})}function yS(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function _S(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function wS(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function CS(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function YN(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function ZN(t){let{swiper:e,slides:n,passedParams:i,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:l,paginationEl:a}=t;const u=r.filter(k=>k!=="children"&&k!=="direction"&&k!=="wrapperClass"),{params:c,pagination:d,navigation:h,scrollbar:g,virtual:w,thumbs:y}=e;let E,_,m,v,C,x,S,L;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&c.thumbs&&!c.thumbs.swiper&&(E=!0),r.includes("controller")&&i.controller&&i.controller.control&&c.controller&&!c.controller.control&&(_=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||a)&&(c.pagination||c.pagination===!1)&&d&&!d.el&&(m=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||l)&&(c.scrollbar||c.scrollbar===!1)&&g&&!g.el&&(v=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(C=!0);const b=k=>{e[k]&&(e[k].destroy(),k==="navigation"?(e.isElement&&(e[k].prevEl.remove(),e[k].nextEl.remove()),c[k].prevEl=void 0,c[k].nextEl=void 0,e[k].prevEl=void 0,e[k].nextEl=void 0):(e.isElement&&e[k].el.remove(),c[k].el=void 0,e[k].el=void 0))};r.includes("loop")&&e.isElement&&(c.loop&&!i.loop?x=!0:!c.loop&&i.loop?S=!0:L=!0),u.forEach(k=>{if(Ar(c[k])&&Ar(i[k]))Ni(c[k],i[k]),(k==="navigation"||k==="pagination"||k==="scrollbar")&&"enabled"in i[k]&&!i[k].enabled&&b(k);else{const T=i[k];(T===!0||T===!1)&&(k==="navigation"||k==="pagination"||k==="scrollbar")?T===!1&&b(k):c[k]=i[k]}}),u.includes("controller")&&!_&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),r.includes("children")&&n&&w&&c.virtual.enabled&&(w.slides=n,w.update(!0)),r.includes("children")&&n&&c.loop&&(L=!0),E&&y.init()&&y.update(!0),_&&(e.controller.control=c.controller.control),m&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-pagination"),e.el.appendChild(a)),a&&(c.pagination.el=a),d.init(),d.render(),d.update()),v&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),e.el.appendChild(l)),l&&(c.scrollbar.el=l),g.init(),g.updateSize(),g.setTranslate()),C&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.nextButtonSvg,e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),s.innerHTML=e.hostEl.prevButtonSvg,e.el.appendChild(o))),s&&(c.navigation.nextEl=s),o&&(c.navigation.prevEl=o),h.init(),h.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(x||L)&&e.loopDestroy(),(S||L)&&e.loopCreate(),e.update()}function XN(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},i={},r={};Ni(n,aa.defaults),Ni(n,aa.extendedDefaults),n._emitClasses=!0,n.init=!1;const s={},o=vS.map(a=>a.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(a=>{typeof t[a]>"u"||(o.indexOf(a)>=0?Ar(t[a])?(n[a]={},r[a]={},Ni(n[a],t[a]),Ni(r[a],t[a])):(n[a]=t[a],r[a]=t[a]):a.search(/on[A-Z]/)===0&&typeof t[a]=="function"?e?i[`${a[2].toLowerCase()}${a.substr(3)}`]=t[a]:n.on[`${a[2].toLowerCase()}${a.substr(3)}`]=t[a]:s[a]=t[a])}),["navigation","pagination","scrollbar"].forEach(a=>{n[a]===!0&&(n[a]={}),n[a]===!1&&delete n[a]}),{params:n,passedParams:r,rest:s,events:i}}function JN(t,e){let{el:n,nextEl:i,prevEl:r,paginationEl:s,scrollbarEl:o,swiper:l}=t;yS(e)&&i&&r&&(l.params.navigation.nextEl=i,l.originalParams.navigation.nextEl=i,l.params.navigation.prevEl=r,l.originalParams.navigation.prevEl=r),_S(e)&&s&&(l.params.pagination.el=s,l.originalParams.pagination.el=s),wS(e)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(n)}function eR(t,e,n,i,r){const s=[];if(!e)return s;const o=a=>{s.indexOf(a)<0&&s.push(a)};if(n&&i){const a=i.map(r),u=n.map(r);a.join("")!==u.join("")&&o("children"),i.length!==n.length&&o("children")}return vS.filter(a=>a[0]==="_").map(a=>a.replace(/_/,"")).forEach(a=>{if(a in t&&a in e)if(Ar(t[a])&&Ar(e[a])){const u=Object.keys(t[a]),c=Object.keys(e[a]);u.length!==c.length?o(a):(u.forEach(d=>{t[a][d]!==e[a][d]&&o(a)}),c.forEach(d=>{t[a][d]!==e[a][d]&&o(a)}))}else t[a]!==e[a]&&o(a)}),s}const tR=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gu.apply(this,arguments)}function SS(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function ES(t){const e=[];return nt.Children.toArray(t).forEach(n=>{SS(n)?e.push(n):n.props&&n.props.children&&ES(n.props.children).forEach(i=>e.push(i))}),e}function nR(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return nt.Children.toArray(t).forEach(i=>{if(SS(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=ES(i.props.children);r.length>0?r.forEach(s=>e.push(s)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function iR(t,e,n){if(!n)return null;const i=c=>{let d=c;return c<0?d=e.length+c:d>=e.length&&(d=d-e.length),d},r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,l=t.params.loop?-e.length:0,a=t.params.loop?e.length*2:e.length,u=[];for(let c=l;c<a;c+=1)c>=s&&c<=o&&u.push(e[i(c)]);return u.map((c,d)=>nt.cloneElement(c,{swiper:t,style:r,key:`slide-${d}`}))}function xo(t,e){return typeof window>"u"?f.useEffect(t,e):f.useLayoutEffect(t,e)}const $v=f.createContext(null),rR=f.createContext(null),xS=f.forwardRef(function(t,e){let{className:n,tag:i="div",wrapperTag:r="div",children:s,onSwiper:o,...l}=t===void 0?{}:t,a=!1;const[u,c]=f.useState("swiper"),[d,h]=f.useState(null),[g,w]=f.useState(!1),y=f.useRef(!1),E=f.useRef(null),_=f.useRef(null),m=f.useRef(null),v=f.useRef(null),C=f.useRef(null),x=f.useRef(null),S=f.useRef(null),L=f.useRef(null),{params:b,passedParams:k,rest:T,events:M}=XN(l),{slides:I,slots:O}=nR(s),W=()=>{w(!g)};Object.assign(b.on,{_containerClasses(j,F){c(F)}});const $=()=>{Object.assign(b.on,M),a=!0;const j={...b};if(delete j.wrapperClass,_.current=new aa(j),_.current.virtual&&_.current.params.virtual.enabled){_.current.virtual.slides=I;const F={cache:!1,slides:I,renderExternal:h,renderExternalUpdate:!1};Ni(_.current.params.virtual,F),Ni(_.current.originalParams.virtual,F)}};E.current||$(),_.current&&_.current.on("_beforeBreakpoint",W);const H=()=>{a||!M||!_.current||Object.keys(M).forEach(j=>{_.current.on(j,M[j])})},z=()=>{!M||!_.current||Object.keys(M).forEach(j=>{_.current.off(j,M[j])})};f.useEffect(()=>()=>{_.current&&_.current.off("_beforeBreakpoint",W)}),f.useEffect(()=>{!y.current&&_.current&&(_.current.emitSlidesClasses(),y.current=!0)}),xo(()=>{if(e&&(e.current=E.current),!!E.current)return _.current.destroyed&&$(),JN({el:E.current,nextEl:C.current,prevEl:x.current,paginationEl:S.current,scrollbarEl:L.current,swiper:_.current},b),o&&o(_.current),()=>{_.current&&!_.current.destroyed&&_.current.destroy(!0,!1)}},[]),xo(()=>{H();const j=eR(k,m.current,I,v.current,F=>F.key);return m.current=k,v.current=I,j.length&&_.current&&!_.current.destroyed&&ZN({swiper:_.current,slides:I,passedParams:k,changedParams:j,nextEl:C.current,prevEl:x.current,scrollbarEl:L.current,paginationEl:S.current}),()=>{z()}}),xo(()=>{tR(_.current)},[d]);function A(){return b.virtual?iR(_.current,I,d):I.map((j,F)=>nt.cloneElement(j,{swiper:_.current,swiperSlideIndex:F}))}return nt.createElement(i,gu({ref:E,className:CS(`${u}${n?` ${n}`:""}`)},T),nt.createElement(rR.Provider,{value:_.current},O["container-start"],nt.createElement(r,{className:YN(b.wrapperClass)},O["wrapper-start"],A(),O["wrapper-end"]),yS(b)&&nt.createElement(nt.Fragment,null,nt.createElement("div",{ref:x,className:"swiper-button-prev"}),nt.createElement("div",{ref:C,className:"swiper-button-next"})),wS(b)&&nt.createElement("div",{ref:L,className:"swiper-scrollbar"}),_S(b)&&nt.createElement("div",{ref:S,className:"swiper-pagination"}),O["container-end"]))});xS.displayName="Swiper";const bS=f.forwardRef(function(t,e){let{tag:n="div",children:i,className:r="",swiper:s,zoom:o,lazy:l,virtualIndex:a,swiperSlideIndex:u,...c}=t===void 0?{}:t;const d=f.useRef(null),[h,g]=f.useState("swiper-slide"),[w,y]=f.useState(!1);function E(C,x,S){x===d.current&&g(S)}xo(()=>{if(typeof u<"u"&&(d.current.swiperSlideIndex=u),e&&(e.current=d.current),!(!d.current||!s)){if(s.destroyed){h!=="swiper-slide"&&g("swiper-slide");return}return s.on("_slideClass",E),()=>{s&&s.off("_slideClass",E)}}}),xo(()=>{s&&d.current&&!s.destroyed&&g(s.getSlideClasses(d.current))},[s]);const _={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},m=()=>typeof i=="function"?i(_):i,v=()=>{y(!0)};return nt.createElement(n,gu({ref:d,className:CS(`${h}${r?` ${r}`:""}`),"data-swiper-slide-index":a,onLoad:v},c),o&&nt.createElement($v.Provider,{value:_},nt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},m(),l&&!w&&nt.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&nt.createElement($v.Provider,{value:_},m(),l&&!w&&nt.createElement("div",{className:"swiper-lazy-preloader"})))});bS.displayName="SwiperSlide";function sR(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=Bn(t.el,`.${i[r]}`)[0];s||(s=fS("div",i[r]),s.className=i[r],t.el.append(s)),n[r]=s,e[r]=s}}),n}function to(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function oR(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,l=0;const a=m=>(Array.isArray(m)||(m=[m].filter(v=>!!v)),m);function u(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(m,v){const{bulletActiveClass:C}=e.params.pagination;m&&(m=m[`${v==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${C}-${v}`),m=m[`${v==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${C}-${v}-${v}`)))}function d(m){const v=m.target.closest(to(e.params.pagination.bulletClass));if(!v)return;m.preventDefault();const C=pu(v)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===C)return;const x=e.getSlideIndexByData(C),S=e.getSlideIndexByData(e.realIndex);x>e.slides.length-e.loopedSlides&&e.loopFix({direction:x>S?"next":"prev",activeSlideIndex:x,slideTo:!1}),e.slideToLoop(C)}else e.slideTo(C)}function h(){const m=e.rtl,v=e.params.pagination;if(u())return;let C=e.pagination.el;C=a(C);let x,S;const L=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,b=e.params.loop?Math.ceil(L/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(S=e.previousRealIndex||0,x=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(x=e.snapIndex,S=e.previousSnapIndex):(S=e.previousIndex||0,x=e.activeIndex||0),v.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const k=e.pagination.bullets;let T,M,I;if(v.dynamicBullets&&(o=th(k[0],e.isHorizontal()?"width":"height",!0),C.forEach(O=>{O.style[e.isHorizontal()?"width":"height"]=`${o*(v.dynamicMainBullets+4)}px`}),v.dynamicMainBullets>1&&S!==void 0&&(l+=x-(S||0),l>v.dynamicMainBullets-1?l=v.dynamicMainBullets-1:l<0&&(l=0)),T=Math.max(x-l,0),M=T+(Math.min(k.length,v.dynamicMainBullets)-1),I=(M+T)/2),k.forEach(O=>{const W=[...["","-next","-next-next","-prev","-prev-prev","-main"].map($=>`${v.bulletActiveClass}${$}`)].map($=>typeof $=="string"&&$.includes(" ")?$.split(" "):$).flat();O.classList.remove(...W)}),C.length>1)k.forEach(O=>{const W=pu(O);W===x?O.classList.add(...v.bulletActiveClass.split(" ")):e.isElement&&O.setAttribute("part","bullet"),v.dynamicBullets&&(W>=T&&W<=M&&O.classList.add(...`${v.bulletActiveClass}-main`.split(" ")),W===T&&c(O,"prev"),W===M&&c(O,"next"))});else{const O=k[x];if(O&&O.classList.add(...v.bulletActiveClass.split(" ")),e.isElement&&k.forEach((W,$)=>{W.setAttribute("part",$===x?"bullet-active":"bullet")}),v.dynamicBullets){const W=k[T],$=k[M];for(let H=T;H<=M;H+=1)k[H]&&k[H].classList.add(...`${v.bulletActiveClass}-main`.split(" "));c(W,"prev"),c($,"next")}}if(v.dynamicBullets){const O=Math.min(k.length,v.dynamicMainBullets+4),W=(o*O-o)/2-I*o,$=m?"right":"left";k.forEach(H=>{H.style[e.isHorizontal()?$:"top"]=`${W}px`})}}C.forEach((k,T)=>{if(v.type==="fraction"&&(k.querySelectorAll(to(v.currentClass)).forEach(M=>{M.textContent=v.formatFractionCurrent(x+1)}),k.querySelectorAll(to(v.totalClass)).forEach(M=>{M.textContent=v.formatFractionTotal(b)})),v.type==="progressbar"){let M;v.progressbarOpposite?M=e.isHorizontal()?"vertical":"horizontal":M=e.isHorizontal()?"horizontal":"vertical";const I=(x+1)/b;let O=1,W=1;M==="horizontal"?O=I:W=I,k.querySelectorAll(to(v.progressbarFillClass)).forEach($=>{$.style.transform=`translate3d(0,0,0) scaleX(${O}) scaleY(${W})`,$.style.transitionDuration=`${e.params.speed}ms`})}v.type==="custom"&&v.renderCustom?(k.innerHTML=v.renderCustom(e,x+1,b),T===0&&r("paginationRender",k)):(T===0&&r("paginationRender",k),r("paginationUpdate",k)),e.params.watchOverflow&&e.enabled&&k.classList[e.isLocked?"add":"remove"](v.lockClass)})}function g(){const m=e.params.pagination;if(u())return;const v=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let C=e.pagination.el;C=a(C);let x="";if(m.type==="bullets"){let S=e.params.loop?Math.ceil(v/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&S>v&&(S=v);for(let L=0;L<S;L+=1)m.renderBullet?x+=m.renderBullet.call(e,L,m.bulletClass):x+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?x=m.renderFraction.call(e,m.currentClass,m.totalClass):x=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?x=m.renderProgressbar.call(e,m.progressbarFillClass):x=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],C.forEach(S=>{m.type!=="custom"&&(S.innerHTML=x||""),m.type==="bullets"&&e.pagination.bullets.push(...S.querySelectorAll(to(m.bulletClass)))}),m.type!=="custom"&&r("paginationRender",C[0])}function w(){e.params.pagination=sR(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const m=e.params.pagination;if(!m.el)return;let v;typeof m.el=="string"&&e.isElement&&(v=e.el.querySelector(m.el)),!v&&typeof m.el=="string"&&(v=[...document.querySelectorAll(m.el)]),v||(v=m.el),!(!v||v.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(v)&&v.length>1&&(v=[...e.el.querySelectorAll(m.el)],v.length>1&&(v=v.filter(C=>hS(C,".swiper")[0]===e.el)[0])),Array.isArray(v)&&v.length===1&&(v=v[0]),Object.assign(e.pagination,{el:v}),v=a(v),v.forEach(C=>{m.type==="bullets"&&m.clickable&&C.classList.add(m.clickableClass),C.classList.add(m.modifierClass+m.type),C.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(C.classList.add(`${m.modifierClass}${m.type}-dynamic`),l=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&C.classList.add(m.progressbarOppositeClass),m.clickable&&C.addEventListener("click",d),e.enabled||C.classList.add(m.lockClass)}))}function y(){const m=e.params.pagination;if(u())return;let v=e.pagination.el;v&&(v=a(v),v.forEach(C=>{C.classList.remove(m.hiddenClass),C.classList.remove(m.modifierClass+m.type),C.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&C.removeEventListener("click",d)})),e.pagination.bullets&&e.pagination.bullets.forEach(C=>C.classList.remove(...m.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const m=e.params.pagination;let{el:v}=e.pagination;v=a(v),v.forEach(C=>{C.classList.remove(m.horizontalClass,m.verticalClass),C.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?_():(w(),g(),h())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),i("snapIndexChange",()=>{h()}),i("snapGridLengthChange",()=>{g(),h()}),i("destroy",()=>{y()}),i("enable disable",()=>{let{el:m}=e.pagination;m&&(m=a(m),m.forEach(v=>v.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{h()}),i("click",(m,v)=>{const C=v.target,x=a(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&x&&x.length>0&&!C.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&C===e.navigation.nextEl||e.navigation.prevEl&&C===e.navigation.prevEl))return;const S=x[0].classList.contains(e.params.pagination.hiddenClass);r(S===!0?"paginationShow":"paginationHide"),x.forEach(L=>L.classList.toggle(e.params.pagination.hiddenClass))}});const E=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=a(m),m.forEach(v=>v.classList.remove(e.params.pagination.paginationDisabledClass))),w(),g(),h()},_=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=a(m),m.forEach(v=>v.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:E,disable:_,render:g,update:h,init:w,destroy:y})}function aR(){const t=ye("main-slider"),e={clickable:!0},n=i=>{};return p.jsx("div",{className:"main-slider",children:p.jsx(xS,{slidesPerView:1,spaceBetween:30,pagination:e,modules:[oR],className:"mySwiper",children:t.map((i,r)=>p.jsx(bS,{children:p.jsx(Je,{className:"card__img",to:"",onClick:()=>n(i.id),children:p.jsx("img",{src:i.img})})},r))})})}var LS={exports:{}},kS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ms=f;function lR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uR=typeof Object.is=="function"?Object.is:lR,cR=Ms.useState,dR=Ms.useEffect,fR=Ms.useLayoutEffect,hR=Ms.useDebugValue;function pR(t,e){var n=e(),i=cR({inst:{value:n,getSnapshot:e}}),r=i[0].inst,s=i[1];return fR(function(){r.value=n,r.getSnapshot=e,Cd(r)&&s({inst:r})},[t,n,e]),dR(function(){return Cd(r)&&s({inst:r}),t(function(){Cd(r)&&s({inst:r})})},[t]),hR(n),n}function Cd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uR(t,n)}catch{return!0}}function gR(t,e){return e()}var mR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gR:pR;kS.useSyncExternalStore=Ms.useSyncExternalStore!==void 0?Ms.useSyncExternalStore:mR;LS.exports=kS;var vR=LS.exports,yR={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac=f,_R=vR;function wR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var CR=typeof Object.is=="function"?Object.is:wR,SR=_R.useSyncExternalStore,ER=ac.useRef,xR=ac.useEffect,bR=ac.useMemo,LR=ac.useDebugValue;yR.useSyncExternalStoreWithSelector=function(t,e,n,i,r){var s=ER(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=bR(function(){function a(g){if(!u){if(u=!0,c=g,g=i(g),r!==void 0&&o.hasValue){var w=o.value;if(r(w,g))return d=w}return d=g}if(w=d,CR(c,g))return w;var y=i(g);return r!==void 0&&r(w,y)?w:(c=g,d=y)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return a(e())},h===null?void 0:function(){return a(h())}]},[e,n,i,r]);var l=SR(t,s[0],s[1]);return xR(function(){o.hasValue=!0,o.value=l},[l]),LR(l),l};function kR(t){t()}let TS=kR;const TR=t=>TS=t,IR=()=>TS,Vv=Symbol.for("react-redux-context"),Wv=typeof globalThis<"u"?globalThis:{};function PR(){var t;if(!f.createContext)return{};const e=(t=Wv[Vv])!=null?t:Wv[Vv]=new Map;let n=e.get(f.createContext);return n||(n=f.createContext(null),e.set(f.createContext,n)),n}const MR=PR();var IS={exports:{}},Te={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ct=typeof Symbol=="function"&&Symbol.for,Yp=Ct?Symbol.for("react.element"):60103,Zp=Ct?Symbol.for("react.portal"):60106,lc=Ct?Symbol.for("react.fragment"):60107,uc=Ct?Symbol.for("react.strict_mode"):60108,cc=Ct?Symbol.for("react.profiler"):60114,dc=Ct?Symbol.for("react.provider"):60109,fc=Ct?Symbol.for("react.context"):60110,Xp=Ct?Symbol.for("react.async_mode"):60111,hc=Ct?Symbol.for("react.concurrent_mode"):60111,pc=Ct?Symbol.for("react.forward_ref"):60112,gc=Ct?Symbol.for("react.suspense"):60113,NR=Ct?Symbol.for("react.suspense_list"):60120,mc=Ct?Symbol.for("react.memo"):60115,vc=Ct?Symbol.for("react.lazy"):60116,RR=Ct?Symbol.for("react.block"):60121,OR=Ct?Symbol.for("react.fundamental"):60117,AR=Ct?Symbol.for("react.responder"):60118,DR=Ct?Symbol.for("react.scope"):60119;function an(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Yp:switch(t=t.type,t){case Xp:case hc:case lc:case cc:case uc:case gc:return t;default:switch(t=t&&t.$$typeof,t){case fc:case pc:case vc:case mc:case dc:return t;default:return e}}case Zp:return e}}}function PS(t){return an(t)===hc}Te.AsyncMode=Xp;Te.ConcurrentMode=hc;Te.ContextConsumer=fc;Te.ContextProvider=dc;Te.Element=Yp;Te.ForwardRef=pc;Te.Fragment=lc;Te.Lazy=vc;Te.Memo=mc;Te.Portal=Zp;Te.Profiler=cc;Te.StrictMode=uc;Te.Suspense=gc;Te.isAsyncMode=function(t){return PS(t)||an(t)===Xp};Te.isConcurrentMode=PS;Te.isContextConsumer=function(t){return an(t)===fc};Te.isContextProvider=function(t){return an(t)===dc};Te.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yp};Te.isForwardRef=function(t){return an(t)===pc};Te.isFragment=function(t){return an(t)===lc};Te.isLazy=function(t){return an(t)===vc};Te.isMemo=function(t){return an(t)===mc};Te.isPortal=function(t){return an(t)===Zp};Te.isProfiler=function(t){return an(t)===cc};Te.isStrictMode=function(t){return an(t)===uc};Te.isSuspense=function(t){return an(t)===gc};Te.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===lc||t===hc||t===cc||t===uc||t===gc||t===NR||typeof t=="object"&&t!==null&&(t.$$typeof===vc||t.$$typeof===mc||t.$$typeof===dc||t.$$typeof===fc||t.$$typeof===pc||t.$$typeof===OR||t.$$typeof===AR||t.$$typeof===DR||t.$$typeof===RR)};Te.typeOf=an;IS.exports=Te;var jR=IS.exports,MS=jR,FR={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},UR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},NS={};NS[MS.ForwardRef]=FR;NS[MS.Memo]=UR;var Me={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp=Symbol.for("react.element"),eg=Symbol.for("react.portal"),yc=Symbol.for("react.fragment"),_c=Symbol.for("react.strict_mode"),wc=Symbol.for("react.profiler"),Cc=Symbol.for("react.provider"),Sc=Symbol.for("react.context"),zR=Symbol.for("react.server_context"),Ec=Symbol.for("react.forward_ref"),xc=Symbol.for("react.suspense"),bc=Symbol.for("react.suspense_list"),Lc=Symbol.for("react.memo"),kc=Symbol.for("react.lazy"),BR=Symbol.for("react.offscreen"),RS;RS=Symbol.for("react.module.reference");function xn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Jp:switch(t=t.type,t){case yc:case wc:case _c:case xc:case bc:return t;default:switch(t=t&&t.$$typeof,t){case zR:case Sc:case Ec:case kc:case Lc:case Cc:return t;default:return e}}case eg:return e}}}Me.ContextConsumer=Sc;Me.ContextProvider=Cc;Me.Element=Jp;Me.ForwardRef=Ec;Me.Fragment=yc;Me.Lazy=kc;Me.Memo=Lc;Me.Portal=eg;Me.Profiler=wc;Me.StrictMode=_c;Me.Suspense=xc;Me.SuspenseList=bc;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(t){return xn(t)===Sc};Me.isContextProvider=function(t){return xn(t)===Cc};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jp};Me.isForwardRef=function(t){return xn(t)===Ec};Me.isFragment=function(t){return xn(t)===yc};Me.isLazy=function(t){return xn(t)===kc};Me.isMemo=function(t){return xn(t)===Lc};Me.isPortal=function(t){return xn(t)===eg};Me.isProfiler=function(t){return xn(t)===wc};Me.isStrictMode=function(t){return xn(t)===_c};Me.isSuspense=function(t){return xn(t)===xc};Me.isSuspenseList=function(t){return xn(t)===bc};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===yc||t===wc||t===_c||t===xc||t===bc||t===BR||typeof t=="object"&&t!==null&&(t.$$typeof===kc||t.$$typeof===Lc||t.$$typeof===Cc||t.$$typeof===Sc||t.$$typeof===Ec||t.$$typeof===RS||t.getModuleId!==void 0)};Me.typeOf=xn;function $R(){const t=IR();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){let i=[],r=e;for(;r;)i.push(r),r=r.next;return i},subscribe(i){let r=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const Hv={notify(){},get:()=>[]};function VR(t,e){let n,i=Hv;function r(d){return a(),i.subscribe(d)}function s(){i.notify()}function o(){c.onStateChange&&c.onStateChange()}function l(){return!!n}function a(){n||(n=e?e.addNestedSub(o):t.subscribe(o),i=$R())}function u(){n&&(n(),n=void 0,i.clear(),i=Hv)}const c={addNestedSub:r,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:l,trySubscribe:a,tryUnsubscribe:u,getListeners:()=>i};return c}const WR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HR=WR?f.useLayoutEffect:f.useEffect;function GR({store:t,context:e,children:n,serverState:i,stabilityCheck:r="once",noopCheck:s="once"}){const o=f.useMemo(()=>{const u=VR(t);return{store:t,subscription:u,getServerState:i?()=>i:void 0,stabilityCheck:r,noopCheck:s}},[t,i,r,s]),l=f.useMemo(()=>t.getState(),[t]);HR(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,l]);const a=e||MR;return f.createElement(a.Provider,{value:o},n)}TR(rr.unstable_batchedUpdates);const KR="DATA_CARD",QR="DATA_ID";function Sl({item:t,handleClosed:e}){f.useRef(null),f.useState([]);const n=ye("usersId"),i="authorization";f.useState(!1);const[r,s]=f.useState(""),[o,l]=f.useState(!0);f.useEffect(()=>{const h=n.map(g=>g.id).join(", ");console.log(h),s(h)},[n]);const a=Date.now(),u=new Date(a);u.getDate(),u.getMonth()+1,u.getFullYear(),`${t.id}`;const c=d=>{l(!1);const h=He.database(),g=`${d.id}`,w={id:d.id,img:d.img,title:d.title,text:d.text,group:d.group,price:d.price,describe:d.describe},y=h.ref(n.length===0?"basket":`${i}/${r}/basket`);y.child(g).set(w).then(()=>{console.log("Карточка успешно добавлена в Firebase."),n.length===0&&window.addEventListener("unload",function(_){y.remove()})}).catch(_=>{console.error("Ошибка при добавлении карточки в Firebase: ",_)})};return p.jsxs("div",{className:"content__card card hover-img ",children:[p.jsx(Je,{onClick:e,className:"card__img image_block",to:`/CardsPage/${t.id}`,children:p.jsx("img",{width:"100",className:"img block",src:t.img})}),p.jsxs("div",{className:"card__about",children:[p.jsx(Je,{onClick:e,className:"card__name",to:`/CardsPage/${t.id}`,children:t.title}),p.jsx("span",{className:"card__text",children:t.text}),p.jsx("span",{className:"card__price",children:t.price})]}),o?p.jsx("button",{onClick:()=>c(t),className:"card__button",children:"Добавить в корзину"}):p.jsx("button",{onClick:()=>c(t),className:"card__button",children:"Товар добавлен в корзину"})]})}function qR({sortType:t,handleChange:e}){return p.jsxs("form",{className:"filter",children:[p.jsx("label",{htmlFor:"sort",children:"Сортировка по "}),p.jsxs("select",{className:"filter__select",value:t,onChange:e,id:"sort",children:[p.jsx("option",{value:"descending",children:"по убыванию цены"}),p.jsx("option",{value:"ascending",children:"по возрастанию цены"}),p.jsx("option",{value:"popularity",children:"по популярности"})]})]})}function tg({showFilter:t,slice:e,pagination:n}){const{itemId:i}=op();console.log(i);const r=ye("cards");console.log(r);const[s,o]=f.useState("descending"),l=12,[a,u]=f.useState(1),c=m=>{o(m.target.value)},h=r.filter(m=>m.group===i).map(m=>({...m})).slice().sort((m,v)=>{switch(s){case"ascending":return console.log("Сортировка по возрастанию"),parseFloat(m.price)-parseFloat(v.price);case"popularity":return console.log("Сортировка по популярности"),parseFloat(m.popularity)-parseFloat(v.popularity);default:return console.log("Сортировка по убыванию цены (по умолчанию)"),parseFloat(v.price)-parseFloat(m.price)}}),g=(a-1)*l,w=g+l,y=h.slice(g,w),E=Math.ceil(h.length/l),_=m=>{u(m)};return p.jsxs("div",{className:"content__selection selection",children:[p.jsx("div",{className:"selection__title",children:i==="Кухни"||i==="Спальни"||i==="Гостинные"||i==="Прихожие"||i==="Офисная мебель"||i==="Детская"?i:"Хиты продаж"}),t&&p.jsxs("div",{children:[p.jsx(qR,{sortType:s,handleChange:c}),p.jsx("div",{className:"selection__cards",children:y.map((m,v)=>p.jsx(Sl,{item:m},v))})]}),e&&p.jsx("div",{className:"selection__cards",children:r.slice(0,8).map((m,v)=>p.jsx(Sl,{item:m},v))}),!t&&!e&&p.jsx("div",{className:"selection__cards",children:r.slice(0,20).map((m,v)=>p.jsx(Sl,{item:m},v))}),n&&p.jsx("div",{className:"pagination",children:Array.from({length:E},(m,v)=>p.jsx("button",{onClick:()=>_(v+1),className:a===v+1?"active":"",children:v+1},v))})]})}function YR(){const t=ye("cards");return console.log(t),p.jsxs("div",{className:"content",children:[p.jsx(aR,{}),p.jsx(tg,{pagination:!1,slice:!1,showFilter:!1})]})}function ZR({click:t,handleActive:e}){const n=ye("menu");return f.useState("/Cards"),p.jsx("div",{className:"menu menu-mobil",children:p.jsx("nav",{className:"menu__main",children:p.jsx("ul",{children:n.map((i,r)=>p.jsxs("li",{children:[p.jsx("span",{children:p.jsx("img",{src:i.img,alt:""})}),p.jsx(Je,{id:r,className:t===r||t===null&&i.link==="/"?"active":"",onClick:()=>e(r),to:`/Cards/${i.item}`,children:i.item})]},r))})})})}function XR(){const[t,e]=f.useState(""),i=ye("cards").filter(s=>{const o=s.title&&s.title.toLowerCase().includes(t.toLowerCase()),l=s.text&&s.text.toLowerCase().includes(t.toLowerCase());return o||l}),r=()=>{e("")};return p.jsx("div",{className:`search-block ${t.length>0?"active":""}`,children:p.jsxs("div",{className:"example",children:[p.jsx("input",{type:"text",placeholder:"Поиск",value:t,name:"search",onChange:s=>e(s.target.value)}),p.jsx("button",{className:`search-button ${t.length>0?"active":""}`,onClick:()=>e(""),children:"+"}),p.jsx("div",{className:"selection__cards",children:i.map((s,o)=>p.jsx(Sl,{item:s,handleClosed:r},o))})]})})}function OS(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function AS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JR=AS,DS=new Ur("auth","Firebase",AS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new ga("@firebase/auth");function eO(t,...e){mu.logLevel<=be.WARN&&mu.warn(`Auth (${zr}): ${t}`,...e)}function El(t,...e){mu.logLevel<=be.ERROR&&mu.error(`Auth (${zr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t,...e){throw ng(t,...e)}function jS(t,...e){return ng(t,...e)}function tO(t,e,n){const i=Object.assign(Object.assign({},JR()),{[e]:n});return new Ur("auth","Firebase",i).create(e,{appName:t.name})}function ng(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return DS.create(t,...e)}function Le(t,e,...n){if(!t)throw ng(e,...n)}function bo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw El(e),new Error(e)}function vu(t,e){t||bo(e)}function nO(){return Kv()==="http:"||Kv()==="https:"}function Kv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nO()||ak()||"connection"in navigator)?navigator.onLine:!0}function rO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.shortDelay=e,this.longDelay=n,vu(n>e,"Short delay should be less than long delay!"),this.isMobile=lp()||T0()}get(){return iO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t,e){vu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;bo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;bo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;bo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=new La(3e4,6e4);function lO(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ig(t,e,n,i,r={}){return US(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const l=up(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),FS.fetch()(zS(t,t.config.apiHost,n,l),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},s))})}async function US(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},oO),e);try{const r=new uO(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw rl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[a,u]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw rl(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw rl(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw rl(t,"user-disabled",o);const c=i[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tO(t,c,u);Gv(t,c)}}catch(r){if(r instanceof fi)throw r;Gv(t,"network-request-failed",{message:String(r)})}}function zS(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?sO(t.config,r):`${t.config.apiScheme}://${r}`}class uO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(jS(this.auth,"network-request-failed")),aO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=jS(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(t,e){return ig(t,"POST","/v1/accounts:delete",e)}async function dO(t,e){return ig(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fO(t,e=!1){const n=st(t),i=await n.getIdToken(e),r=BS(i);Le(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Lo(Sd(r.auth_time)),issuedAtTime:Lo(Sd(r.iat)),expirationTime:Lo(Sd(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Sd(t){return Number(t)*1e3}function BS(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return El("JWT malformed, contained fewer than 3 sections"),null;try{const r=Zl(n);return r?JSON.parse(r):(El("Failed to decode base64 JWT payload"),null)}catch(r){return El("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function hO(t){const e=BS(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof fi&&pO(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function pO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lo(this.lastLoginAt),this.creationTime=Lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t){var e;const n=t.auth,i=await t.getIdToken(),r=await ih(t,dO(n,{idToken:i}));Le(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?yO(s.providerUserInfo):[],l=vO(t.providerData,o),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),c=a?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new $S(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function mO(t){const e=st(t);await yu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vO(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function yO(t){return t.map(e=>{var{providerId:n}=e,i=OS(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e){const n=await US(t,{},async()=>{const i=up({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=zS(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",FS.fetch()(o,{method:"POST",headers:l,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Le(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await _O(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new la;return i&&(Le(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Le(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new la,this.toJSON())}_performRefresh(){return bo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vs{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=OS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $S(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ih(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fO(this,e)}reload(){return mO(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await yu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ih(this,cO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,l,a,u,c;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,E=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:C,isAnonymous:x,providerData:S,stsTokenManager:L}=n;Le(v&&L,e,"internal-error");const b=la.fromJSON(this.name,L);Le(typeof v=="string",e,"internal-error"),yi(d,e.name),yi(h,e.name),Le(typeof C=="boolean",e,"internal-error"),Le(typeof x=="boolean",e,"internal-error"),yi(g,e.name),yi(w,e.name),yi(y,e.name),yi(E,e.name),yi(_,e.name),yi(m,e.name);const k=new vs({uid:v,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:x,photoURL:w,phoneNumber:g,tenantId:y,stsTokenManager:b,createdAt:_,lastLoginAt:m});return S&&Array.isArray(S)&&(k.providerData=S.map(T=>Object.assign({},T))),E&&(k._redirectEventId=E),k}static async _fromIdTokenResponse(e,n,i=!1){const r=new la;r.updateFromServerResponse(n);const s=new vs({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await yu(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map;function _r(t){vu(t instanceof Function,"Expected a class definition");let e=Qv.get(t);return e?(vu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Qv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VS.type="NONE";const qv=VS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t,e,n){return`firebase:${t}:${e}:${n}`}class ys{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Ed(this.userKey,r.apiKey,s),this.fullPersistenceKey=Ed("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ys(_r(qv),e,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||_r(qv);const o=Ed(i,e.config.apiKey,e.name);let l=null;for(const u of n)try{const c=await u._get(o);if(c){const d=vs._fromJSON(e,c);u!==s&&(l=d),s=u;break}}catch{}const a=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new ys(s,e,i):(s=a[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ys(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bO(e))return"Blackberry";if(LO(e))return"Webos";if(CO(e))return"Safari";if((e.includes("chrome/")||SO(e))&&!e.includes("edge/"))return"Chrome";if(xO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function wO(t=Gn()){return/firefox\//i.test(t)}function CO(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SO(t=Gn()){return/crios\//i.test(t)}function EO(t=Gn()){return/iemobile/i.test(t)}function xO(t=Gn()){return/android/i.test(t)}function bO(t=Gn()){return/blackberry/i.test(t)}function LO(t=Gn()){return/webos/i.test(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e=[]){let n;switch(t){case"Browser":n=Yv(Gn());break;case"Worker":n=`${Yv(Gn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,l)=>{try{const a=e(s);o(a)}catch(a){l(a)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e={}){return ig(t,"GET","/v2/passwordPolicy",lO(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=6;class PO{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:IO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,l;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(i=a.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(r=a.containsLowercaseLetter)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(l=a.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),a}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zv(this),this.idTokenSubscription=new Zv(this),this.beforeStateQueue=new kO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await ys.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===l)&&(a!=null&&a.user)&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?st(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TO(this),n=new PO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ur("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_r(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await ys.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const a=e.addObserver(n,i,r);return()=>{o=!0,a()}}else{const a=e.addObserver(n);return()=>{o=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function NO(t){return st(t)}class Zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=M0(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function RO(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(_r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}new La(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new La(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new La(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new La(5e3,15e3);var Xv="@firebase/auth",Jv="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function DO(t){ui(new Sn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=i.options;Le(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const a={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WS(t)},u=new MO(i,r,s,a);return RO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ui(new Sn("auth-internal",e=>{const n=NO(e.getProvider("auth").getImmediate());return(i=>new OO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_n(Xv,Jv,AO(t)),_n(Xv,Jv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=5*60;rk("authIdTokenMaxAge");DO("Browser");function FO({handleClose:t}){const e=ye("admin"),[n,i]=f.useState(""),[r,s]=f.useState(""),[o,l]=f.useState(!1),[a,u]=f.useState(""),c=e.filter(g=>(console.log(g),g.login===r&&g.password===a));console.log(c);const d=async()=>{const g=e.filter(w=>w.login===r&&w.password===a);if(console.log(g),g.length===0)l(!0);else{const w=g[0],y=w.id;i(w.id),t();const _=He.database().ref(`usersIdAdmin/userId${y}`),m=y;_.child("id").set(m).then(()=>{console.log(`Id ${m} успешно добавлен в Firebase.`)}).catch(v=>{console.error(`Ошибка при добавлении Id ${m} в Firebase:`,v)})}console.log(n)};console.log(n);const h=g=>{g.preventDefault()};return p.jsx("div",{className:"modal modal-admin",children:p.jsxs("div",{className:"modal-content",children:[p.jsxs("form",{className:"contacts__left-block",onSubmit:h,children:[p.jsx("div",{className:"contacts__title",children:"Вход администратора"}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Логин (введите admin)"}),p.jsx("input",{type:"text",placeholder:"",value:r,name:"login",required:!0,onChange:g=>{s(g.target.value),l(!1)}})]}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Пароль (введите admin)"}),p.jsx("input",{type:"password",placeholder:"",value:a,name:"password",required:!0,onChange:g=>{u(g.target.value),l(!1)}})]}),o?p.jsx("div",{className:"error",children:"неправильный логин или пароль"}):null,p.jsx("button",{className:"contacts__button",onClick:d,type:"submit",children:"Войти"})]}),p.jsx("button",{onClick:t,className:"close",type:"button",children:"✕"})]})})}const UO=[{id:"1",item:"Главная",link:"/"},{id:"2",item:"О нас",link:"/About"},{id:"3",item:"Контакты",link:"/Contacts"}],zO=[{id:"1",item:"Оплата",link:"/Payment"},{id:"2",item:"Доставка",link:"/Delivery"}];function BO({click:t}){const e=ye("usersIdAdmin"),n=ye("usersIdAdmin"),[i,r]=f.useState("");f.useEffect(()=>{const d=n.map(h=>h.id).join(", ");r(d)},[n]);const[s,o]=f.useState(!1),l=()=>{o(!1)},a=c=>{c.preventDefault(),o(!0)},u=()=>{He.database().ref(`usersIdAdmin/userId${i}`).remove().then(()=>{console.log("Объект успешно удален из базы данных.")}).catch(h=>{console.error("Ошибка при удалении объекта из базы данных: ",h)})};return f.useEffect(()=>{console.log("hello")},[]),p.jsxs("nav",{className:"menu__top-main",children:[p.jsx("ul",{children:UO.map((c,d)=>p.jsx("li",{children:p.jsx(Je,{id:d,className:t===d||t===null&&c.link==="/"?"active":"",to:c.link,children:c.item})},d))}),p.jsxs("ul",{children:[zO.map((c,d)=>p.jsx("li",{children:p.jsx(Je,{id:d,className:t===d||t===null&&c.link==="/"?"active":"",to:c.link,children:c.item})},d)),p.jsxs(Je,{className:"rt",onClick:e.length===0?a:null,children:[e.length===0?p.jsx("span",{children:"Админ"}):p.jsx("span",{className:"admin-auto",children:"Админ"}),e.length===0?null:p.jsxs("div",{className:"user__menu",children:[p.jsx(Je,{to:"/AdminPanel",children:"Личный кабинет"}),p.jsx(Je,{onClick:u,to:"",children:"Выйти из кабинета"})]})]})]}),s?p.jsx(FO,{handleClose:l}):null]})}function $O({handleClose:t}){const e=ye("authorization");e.map(h=>h.email),e.map(h=>h.password);const[n,i]=f.useState(""),[r,s]=f.useState(""),[o,l]=f.useState(!1),[a,u]=f.useState("");f.useState("65");const c=async()=>{const h=e.filter(g=>g.email===r&&g.password===a);if(h.length===0)l(!0);else{const g=h[0],w=g.id;i(g.id),t();const E=He.database().ref(`usersId/userId${w}`),_=w;E.child("id").set(_).then(()=>{console.log(`Id ${_} успешно добавлен в Firebase.`)}).catch(m=>{console.error(`Ошибка при добавлении Id ${_} в Firebase:`,m)})}console.log(n)};console.log(n);const d=h=>{h.preventDefault()};return p.jsx("div",{className:"modal",children:p.jsxs("div",{className:"modal-content",children:[p.jsxs("form",{className:"contacts__left-block",onSubmit:d,children:[p.jsx("div",{className:"contacts__title",children:"Я уже покупал"}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Е-mail"}),p.jsx("input",{type:"email",placeholder:"",value:r,name:"email",required:!0,onChange:h=>{s(h.target.value),l(!1)}})]}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Пароль"}),p.jsx("input",{type:"password",placeholder:"",value:a,name:"password",required:!0,onChange:h=>{u(h.target.value),l(!1)}})]}),o?p.jsx("div",{className:"error",children:"неправильный логин или пароль"}):null,p.jsx("button",{className:"contacts__button",onClick:c,type:"submit",children:"Войти"})]}),p.jsxs("div",{className:"contacts__right-block",children:[p.jsx("div",{className:"contacts__title",children:"Я новый клиент"}),p.jsx("div",{children:"Быстро, удобно и легко!"}),p.jsx("nav",{children:p.jsxs("ul",{children:[p.jsx("li",{children:"Отслеживайте статус заказа"}),p.jsx("li",{children:"Получайте лучшие предложения"}),p.jsx("li",{children:"Накапливайте бонусные баллы"}),p.jsx("li",{children:"Сохраняйте историю заказов"})]})}),p.jsx(Je,{to:"/Cabinet",onClick:t,className:"contacts__button",children:"Зарегистрироваться"})]}),p.jsx("button",{onClick:t,className:"close",type:"button",children:"✕"})]})})}function VO(){const[t,e]=f.useState(!1),i=ye("basket"),r=ye("usersId"),s=ye("authorization");console.log(s),console.log(s);const[o,l]=f.useState(s),[a,u]=f.useState("");console.log(o&&o.basket?o.basket.length:0),console.log(o);const c=Object.values(o||{});f.useEffect(()=>{if(r){const w=s.filter(y=>y.id===a);w.length>0&&l(w[0].basket)}},[a,s]),f.useEffect(()=>{const y=r.map(E=>E.id).join(", ");u(y)},[r]),console.log(a),console.log(o);const d=w=>{w.preventDefault(),e(!0)},h=()=>{e(!1)},g=()=>{He.database().ref(`usersId/userId${a}`).remove().then(()=>{console.log("Объект успешно удален из базы данных.")}).catch(E=>{console.error("Ошибка при удалении объекта из базы данных: ",E)})};return f.useEffect(()=>{console.log("hello")},[i]),p.jsxs("div",{className:`users ${t?"active":""}`,children:[p.jsxs(Je,{to:"/Basket",className:"basket-",children:[i.length!==0&&p.jsx("span",{children:i.length})||c.length>0&&p.jsx("span",{children:c.length}),p.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/newproject-9cd70.appspot.com/o/bag.svg?alt=media&token=43d4dfc4-5211-4e72-8d15-f6502d5bdd2a",alt:""})]}),p.jsxs(Je,{to:"",onClick:r.length===0?d:null,className:r.length===0?"user":"user active",children:[r.length!==0?p.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/newproject-9cd70.appspot.com/o/profile-icon12.svg?alt=media&token=af31aac3-2dd4-4c59-8bd6-71790a73956e"}):p.jsx("img",{src:"https://firebasestorage.googleapis.com/v0/b/newproject-9cd70.appspot.com/o/profile-icon.svg?alt=media&token=0d7147e0-24ee-4c08-bc54-127fac3c585b",alt:""}),p.jsxs("div",{className:"user__menu",children:[p.jsx(Je,{to:"/Cabinet",children:"Личный кабинет"}),p.jsx(Je,{onClick:g,to:"",children:"Выйти из кабинета"})]})]}),p.jsx($O,{handleClose:h})]})}function WO({onClick:t}){const e=ye("logo");return p.jsx(Je,{to:"/",className:"logo",onClick:t,children:e.map(n=>p.jsx("img",{src:n.img,alt:""},n.id))})}function HO(){const[t,e]=f.useState(null);return p.jsxs("div",{className:"header",children:[p.jsx("div",{className:"header__top",children:p.jsx("div",{className:"container-wrap",children:p.jsx(BO,{})})}),p.jsxs("div",{className:"container-wrap",children:[p.jsxs("div",{className:"header__main",children:[p.jsx(WO,{onClick:()=>e(null)}),p.jsx(XR,{}),p.jsx(VO,{})]}),p.jsx("div",{className:"header__menu",children:p.jsx(ZR,{click:t,handleActive:e})})]})]})}function GO({click:t,handleActive:e}){const n=ye("menu-footer");return p.jsx("div",{className:"menu-footer",children:p.jsx("nav",{className:"menu__footer",children:p.jsx("ul",{children:n.map((i,r)=>p.jsx("li",{children:p.jsx(Je,{id:r,className:t===r||t===null&&i.link==="/"?"active":"",onClick:()=>e(r),to:i.link,children:i.item})},r))})})})}function KO(){return p.jsx("div",{className:"footer",children:p.jsxs("div",{className:"container-wrap",children:[p.jsxs("div",{className:"footer__box",children:[p.jsxs("div",{className:"footer__left",children:[p.jsx("div",{className:"footer__title",children:"НАВИГАЦИЯ"}),p.jsx(GO,{})]}),p.jsxs("div",{className:"footer__right",children:[p.jsx("div",{className:"footer__logo",children:"LM"}),p.jsx("div",{className:"footer__address",children:p.jsx("span",{children:"г. Киев"})})]})]}),p.jsx("div",{className:"footer__bottom",children:p.jsx("div",{className:"footer__bottom-right",children:p.jsx("nav",{children:p.jsxs("ul",{children:[p.jsx("li",{children:p.jsx(Je,{to:"",children:"8 (964) 89 99 119"})}),p.jsx("li",{children:p.jsx(Je,{to:"",children:"INSTAGRAM"})}),p.jsx("li",{children:p.jsx(Je,{to:"",children:"mebel_loft@gmail.com"})})]})})})})]})})}function QO(){return p.jsx("div",{className:"content cards",children:p.jsx("main",{className:"content__main cards__main",children:p.jsx(tg,{pagination:!0,slice:!1,showFilter:!0})})})}function HS({cardId:t,collectionName:e,filterCards:n}){const[i,r]=f.useState([]),[s,o]=f.useState([]),[l,a]=f.useState("");console.log(n),f.useEffect(()=>{a("")},[l]);const u=g=>{o(Array.from({length:g+1},(w,y)=>y+1))};console.log(t);const c=i.length>0?i.reduce((g,w)=>g+w,0)/i.length:0,d=g=>{const w=Array.from({length:g+1},(m,v)=>v+1);console.log(w),r(w);const y=w.length,_=(w.reduce((m,v)=>m+v,0)/y).toFixed(2);if(console.log(_),t!==void 0){const m="rating";He.database().ref(`${e}/${t}`).update({[m]:_}).then(()=>{console.log("Поле добавлено к карточке.")}).catch(C=>{console.error("Ошибка при добавлении поля: ",C)})}},h=[1,2,3,4,5];return p.jsxs("div",{className:"star",children:[h.map((g,w)=>p.jsx("div",{className:`star__item ${i.includes(w+1)?"star__item_select":""}`,onMouseOver:()=>u(w),onClick:()=>d(w),onMouseOut:()=>o([]),children:p.jsx("i",{className:`fa fa-star ${s.includes(w+1)||w<n?"star__item_active":""}`,"aria-hidden":"true",children:" "})},w)),p.jsxs("p",{children:["Средний рейтинг: ",n||c.toFixed(2)]})]})}function qO({filterCards:t}){console.log(t[0]);const e="cards";ye(e);const[n,i]=f.useState("");f.useState("");const[r,s]=f.useState("");console.log(n);const o=ye("authorization"),l=ye("usersId"),[a,u]=f.useState("");console.log(typeof a);const[c,d]=f.useState(o);console.log(a),f.useEffect(()=>{if(l){const I=o.filter(O=>O.id===a);I.length>0&&d(I[0])}},[a,o]),console.log(c),f.useEffect(()=>{(c.name!==void 0||c.mail!==void 0)&&(s(c.name),i(c.email))},[c.name,c.mail]),f.useEffect(()=>{const O=l.map(W=>W.id).join(", ");console.log(O),u(O)},[l]);const h=ye("delivery"),g=ye("payment"),[w,y]=f.useState("");f.useEffect(()=>{y(t[0].id)},[w]),console.log(w);const[E,_]=f.useState("");f.useEffect(()=>{t[0].review?_(t[0].review):_("")},[t]),console.log(E);const[m,v]=f.useState(1),C=I=>{v(I)},[x,S]=f.useState(""),L=I=>{S(I)},b=I=>{I.preventDefault();const O=new Date().toLocaleDateString(),W={review:x,name:r,mail:n,date:O},$=He.database().ref(`${e}/${w}/review`);$.once("value").then(H=>{const A=H.numChildren()+1;$.child(A).set(W).then(()=>{S(""),s(""),i(""),console.log('Отзыв добавлен в папку "review" с номером',A)}).catch(F=>{console.error("Ошибка при добавлении отзыва: ",F)})}).catch(H=>{console.error('Ошибка при получении данных из папки "review": ',H)})},[k,T]=f.useState(3),M=()=>{T(I=>I+3)};return p.jsxs("div",{className:"tabs",children:[p.jsx("input",{type:"radio",name:"tab",id:"tab1",checked:m===1,onChange:()=>C(1)}),p.jsx("label",{htmlFor:"tab1",children:"Характеристики"}),p.jsx("input",{type:"radio",name:"tab",id:"tab2",checked:m===2,onChange:()=>C(2)}),p.jsx("label",{htmlFor:"tab2",children:"Отзывы"}),p.jsx("input",{type:"radio",name:"tab",id:"tab3",checked:m===3,onChange:()=>C(3)}),p.jsx("label",{htmlFor:"tab3",children:"Доставка и оплата"}),p.jsxs("div",{className:"tab-content",children:[t.map((I,O)=>p.jsx("div",{className:"tab-content__items",id:"content1",style:{display:m===1?"flex":"none"},children:p.jsx("div",{className:"describe-",children:I.describe})},O)),p.jsxs("div",{className:"tab-content__items review",id:"content2",style:{display:m===2?"flex":"none"},children:[p.jsxs("div",{className:"review__block",children:[p.jsx("div",{className:"review__title",children:"Отзыв по даному товару"}),Object.values(E).slice(0,k).map((I,O)=>p.jsxs("div",{className:"review__box",children:[p.jsxs("div",{className:"review__name",children:[p.jsx("div",{children:I.name}),p.jsx("div",{children:I.date})]}),p.jsx("div",{className:"review__item",children:I.review})]},O)),k<E.length&&p.jsx("button",{className:"contacts__button",id:"loadMore",onClick:M,children:"Загрузить отзывы"})]}),p.jsx(HS,{cardId:w,collectionName:e}),p.jsx("div",{className:"review__title",children:"Оставьте свой отзыв на данный товар"}),p.jsxs("form",{action:"",onSubmit:b,children:[p.jsx("textarea",{onChange:I=>L(I.target.value),className:"review__text",required:!0,value:x,name:"",id:"",cols:"30",rows:"10"}),!parseInt(a)>0?p.jsx("input",{placeholder:"Имя",name:"name",type:"text",required:!0,value:r,onChange:I=>{s(I.target.value)}}):p.jsx("input",{placeholder:`   ${c.name}`,name:r,value:r,type:"text",disabled:!0}),!parseInt(a)>0?p.jsx("input",{name:"email",required:!0,onChange:I=>{i(I.target.value)},placeholder:"Ваш email",value:n,type:"email"}):p.jsx("input",{placeholder:`   ${c.email}`,type:"text",disabled:!0}),!parseInt(a)>0?p.jsx("button",{type:"submit",className:"page__button",children:"Оставить отзыв"}):p.jsx("button",{type:"submit",className:"page__button",children:"Оставить отзыв"})]})]}),p.jsxs("div",{className:"tab-content__items pay",id:"content3",style:{display:m===3?"flex":"none"},children:[p.jsx("div",{className:"payment__info",children:g.map((I,O)=>p.jsxs("div",{children:[p.jsx("div",{className:"payment__info-title",children:I.titleMain}),p.jsx("p",{children:I.text}),p.jsx("p",{children:I.text1}),p.jsx("p",{children:I.text2}),p.jsx("p",{children:I.text3}),p.jsx("p",{children:I.text4})]},O))}),p.jsx("div",{className:"delivery__text",children:h.map((I,O)=>p.jsxs("div",{children:[p.jsx("div",{className:"delivery__text-title",children:I.titleMain}),p.jsx("p",{children:I.text}),p.jsx("div",{className:"delivery__text-title",children:I.titleElse}),p.jsx("p",{children:I.textElse})]},O))})]})]})]})}function YO(){const{itemId:t}=op();console.log(t);const e=ye("usersId"),n="authorization",[i,r]=f.useState([]),[s,o]=f.useState(""),[l,a]=f.useState(!0),u=ye("cards"),[c,d]=f.useState(parseInt(t)),[h,g]=f.useState([]);f.useEffect(()=>{const E=e.map(_=>_.id).join(", ");console.log(E),o(E)},[e]),f.useEffect(()=>{const y=parseInt(t);d(y)},[t]),f.useEffect(()=>{const y=u.filter(E=>E.id===c).map(E=>({...E}));g(y)},[c,u]),console.log(h);const w=y=>{const E=He.database(),_=`${y.id}`,m={id:y.id,img:y.img,title:y.title,text:y.text,group:y.group,price:y.price,describe:y.describe};E.ref(e.length===0?"basket":`${n}/${s}/basket`).child(_).set(m).then(()=>{console.log("Карточка успешно добавлена в Firebase."),r(x=>{const S=[...x,m];return console.log(S),S})}).catch(x=>{console.error("Ошибка при добавлении карточки в Firebase: ",x)})};return p.jsx("div",{className:"content__page page",children:h.map(y=>p.jsxs("div",{children:[p.jsxs("div",{className:"page__describe",children:[p.jsx("div",{className:"page__slider",children:p.jsx("img",{src:y.img,alt:""})}),p.jsxs("div",{className:"page__about",children:[p.jsx(HS,{filterCards:y.rating}),p.jsx("div",{className:"page__title",children:y.title}),p.jsx("div",{className:"page__subtitle",children:y.group}),p.jsxs("div",{className:"page__pay",children:[p.jsxs("div",{className:"page__price",children:[y.price," грн."]}),p.jsx("button",{onClick:()=>{w(y),a(!1)},className:"page__button",children:l?"Купить":"В корзине"})]}),p.jsx("div",{className:"page__choose",children:p.jsxs("form",{className:"filter__number",children:[p.jsx("label",{htmlFor:"sort",children:"Количество: "}),p.jsx("span",{children:"1"})]})}),p.jsxs("div",{className:"page__describes",children:[p.jsx("span",{children:"Описание"}),y.describe]})]})]}),p.jsx("div",{className:"page__characteristic",children:p.jsx(qO,{filterCards:h})})]},y.id))})}function ZO(){return p.jsxs("div",{className:"content",children:[p.jsx(YO,{}),p.jsx(tg,{pagination:!1,slice:!0,showFilter:!1})]})}function XO(){const t=ye("about");return console.log(t),p.jsx("div",{className:"content about",children:t.map((e,n)=>p.jsxs("div",{children:[p.jsxs("div",{className:"container-wrap",children:[p.jsxs("div",{className:"about__top",children:[p.jsxs("div",{className:"about__info",children:[p.jsx("div",{className:"about__info-subtitle",children:e.about}),p.jsx("div",{className:"about__info-title",children:e.title}),p.jsx("div",{className:"about__info-text",children:p.jsx("p",{children:e.text})})]}),p.jsx("div",{className:"about__img",children:p.jsx("img",{src:e.img,alt:""})})]}),p.jsxs("div",{className:"about__benefit benefit",children:[p.jsx("div",{className:"benefit__title",children:e.benefit.title}),Object.values(e.benefit.items).map((i,r)=>p.jsxs("div",{className:"benefit__item",children:[p.jsx("div",{className:"benefit__item-img",children:p.jsx("img",{src:i.img,alt:""})}),p.jsxs("div",{className:"benefit__item-text",children:[p.jsx("span",{children:i.title}),i.text]})]},r))]})]}),p.jsx("div",{className:"about__offers offers",children:p.jsx("div",{className:"container-wrap",children:Object.values(e.offers.items).map((i,r)=>p.jsxs("div",{className:"offers__item",children:[p.jsx("div",{className:"offers__title",children:i.title}),p.jsx("div",{className:"offers__text",children:i.text})]},r))})}),p.jsxs("div",{className:"container-wrap",children:[p.jsx("div",{className:"about__order order",children:Object.values(e.order.items).map((i,r)=>p.jsxs("div",{className:"order__item",children:[p.jsx("div",{className:"order__title",children:i.title}),p.jsx("div",{className:"order__text",children:i.text})]},r))}),p.jsxs("div",{className:"about__saving saving",children:[p.jsx("div",{className:"saving__title",children:"Мы поможем сэкономить время, силы и деньги!"}),Object.values(e.saving.items).map((i,r)=>p.jsx("div",{className:"saving__item",children:p.jsxs("div",{className:"saving__info",children:[p.jsx("img",{src:i.img,alt:""}),p.jsx("div",{className:"saving__title-",children:i.title}),p.jsx("div",{className:"saving__text",children:i.text})]})},r))]})]})]},n))})}function JO(){const[t,e]=f.useState(""),[n,i]=f.useState(!0),[r,s]=f.useState(""),[o,l]=f.useState(""),a=u=>{u.preventDefault();const c=He.database(),d="message";c.ref(d).once("value").then(h=>{const w=h.numChildren()+1,y={name:t,mail:r,area:o};c.ref(`${d}/${w}`).set(y).then(()=>{e(""),s(""),l(""),i(!1)}).catch(E=>{console.error(`Ошибка: ${E}`)})}).catch(h=>{console.error(`Ошибка: ${h}`)})};return p.jsxs("div",{className:"contacts__form",children:[p.jsxs("form",{className:"contacts__left-block",onSubmit:a,children:[p.jsx("div",{className:"contacts__title",children:"Свяжитесь с нами"}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Ваше имя"}),p.jsx("input",{type:"text",required:!0,placeholder:"",value:t,name:"name",onChange:u=>e(u.target.value)})]}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Ваш e-mail"}),p.jsx("input",{type:"email",required:!0,placeholder:"",value:r,name:"email",onChange:u=>s(u.target.value)})]}),p.jsx("label",{children:"Сообщение"}),p.jsx("textarea",{required:!0,placeholder:"",value:o,name:"text",onChange:u=>l(u.target.value)}),p.jsx("button",{type:"submit",className:"contacts__button",children:n?"Отправить":"Сообщение отправленно"})]}),p.jsx("div",{className:"contacts__right-block",children:p.jsx("div",{className:"footer__bottom-right",children:p.jsx("nav",{children:p.jsxs("ul",{children:[p.jsx("li",{children:p.jsx(Je,{to:"",children:"8 (964) 89 99 119"})}),p.jsx("li",{children:p.jsx(Je,{to:"",children:"INSTAGRAM"})}),p.jsx("li",{children:p.jsx(Je,{to:"",children:"mebel_loft@gmail.com"})})]})})})})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rh=function(t,e){return rh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},rh(t,e)};function Oe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rh(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var q=function(){return q=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},q.apply(this,arguments)};function rg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function eA(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(i.next(c))}catch(d){o(d)}}function a(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):r(c.value).then(l,a)}u((i=i.apply(t,e||[])).next())})}function tA(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(c){return a([u,c])}}function a(u){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,r=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function GS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nA=function(t,e,n,i,r,s,o,l){if(!t){var a;if(e===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,s,o,l],c=0;a=new Error(e.replace(/%s/g,function(){return u[c++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}},iA=nA,rt=GS(iA),ae=f.createContext(null);function rA(){rt(!!f.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=f.useContext(ae);return rt(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function sA(t,e,n){return Object.keys(t).reduce(function(r,s){return e(r,t[s],s)},n)}function oA(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function aA(t,e,n,i){var r={},s=function(o,l){var a=n[l];a!==e[l]&&(r[l]=a,o(i,a))};return oA(t,s),r}function lA(t,e,n){var i=sA(n,function(s,o,l){return typeof t[l]=="function"&&s.push(google.maps.event.addListener(e,o,t[l])),s},[]);return i}function uA(t){google.maps.event.removeListener(t)}function ve(t){t===void 0&&(t=[]),t.forEach(uA)}function pe(t){var e=t.updaterMap,n=t.eventMap,i=t.prevProps,r=t.nextProps,s=t.instance,o=lA(r,s,n);return aA(e,i,r,s),o}var ey={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},ty={extraMapTypes:function(t,e){e.forEach(function(i,r){t.mapTypes.set(String(r),i)})},center:function(t,e){t.setCenter(e)},clickableIcons:function(t,e){t.setClickableIcons(e)},heading:function(t,e){t.setHeading(e)},mapTypeId:function(t,e){t.setMapTypeId(e)},options:function(t,e){t.setOptions(e)},streetView:function(t,e){t.setStreetView(e)},tilt:function(t,e){t.setTilt(e)},zoom:function(t,e){t.setZoom(e)}};function cA(t){var e=t.children,n=t.options,i=t.id,r=t.mapContainerStyle,s=t.mapContainerClassName,o=t.center,l=t.onClick,a=t.onDblClick,u=t.onDrag,c=t.onDragEnd,d=t.onDragStart,h=t.onMouseMove,g=t.onMouseOut,w=t.onMouseOver,y=t.onMouseDown,E=t.onMouseUp,_=t.onRightClick,m=t.onCenterChanged,v=t.onLoad,C=t.onUnmount,x=f.useState(null),S=x[0],L=x[1],b=f.useRef(null),k=f.useState(null),T=k[0],M=k[1],I=f.useState(null),O=I[0],W=I[1],$=f.useState(null),H=$[0],z=$[1],A=f.useState(null),j=A[0],F=A[1],N=f.useState(null),B=N[0],Z=N[1],ee=f.useState(null),ge=ee[0],D=ee[1],re=f.useState(null),Ne=re[0],X=re[1],P=f.useState(null),ie=P[0],G=P[1],oe=f.useState(null),me=oe[0],Ee=oe[1],Ie=f.useState(null),Ze=Ie[0],Ae=Ie[1],De=f.useState(null),ue=De[0],le=De[1],ot=f.useState(null),ht=ot[0],J=ot[1];return f.useEffect(function(){n&&S!==null&&S.setOptions(n)},[S,n]),f.useEffect(function(){S!==null&&typeof o<"u"&&S.setCenter(o)},[S,o]),f.useEffect(function(){S&&a&&(O!==null&&google.maps.event.removeListener(O),W(google.maps.event.addListener(S,"dblclick",a)))},[a]),f.useEffect(function(){S&&c&&(H!==null&&google.maps.event.removeListener(H),z(google.maps.event.addListener(S,"dragend",c)))},[c]),f.useEffect(function(){S&&d&&(j!==null&&google.maps.event.removeListener(j),F(google.maps.event.addListener(S,"dragstart",d)))},[d]),f.useEffect(function(){S&&y&&(B!==null&&google.maps.event.removeListener(B),Z(google.maps.event.addListener(S,"mousedown",y)))},[y]),f.useEffect(function(){S&&h&&(ge!==null&&google.maps.event.removeListener(ge),D(google.maps.event.addListener(S,"mousemove",h)))},[h]),f.useEffect(function(){S&&g&&(Ne!==null&&google.maps.event.removeListener(Ne),X(google.maps.event.addListener(S,"mouseout",g)))},[g]),f.useEffect(function(){S&&w&&(ie!==null&&google.maps.event.removeListener(ie),G(google.maps.event.addListener(S,"mouseover",w)))},[w]),f.useEffect(function(){S&&E&&(me!==null&&google.maps.event.removeListener(me),Ee(google.maps.event.addListener(S,"mouseup",E)))},[E]),f.useEffect(function(){S&&_&&(Ze!==null&&google.maps.event.removeListener(Ze),Ae(google.maps.event.addListener(S,"rightclick",_)))},[_]),f.useEffect(function(){S&&l&&(ue!==null&&google.maps.event.removeListener(ue),le(google.maps.event.addListener(S,"click",l)))},[l]),f.useEffect(function(){S&&u&&(ht!==null&&google.maps.event.removeListener(ht),J(google.maps.event.addListener(S,"drag",u)))},[u]),f.useEffect(function(){S&&m&&(T!==null&&google.maps.event.removeListener(T),M(google.maps.event.addListener(S,"center_changed",m)))},[l]),f.useEffect(function(){var Kt=b.current===null?null:new google.maps.Map(b.current,n);return L(Kt),Kt!==null&&v&&v(Kt),function(){Kt!==null&&C&&C(Kt)}},[]),p.jsx("div",{id:i,ref:b,style:r,className:s,children:p.jsx(ae.Provider,{value:S,children:S!==null?e:p.jsx(p.Fragment,{})})})}f.memo(cA);var dA=function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={map:null},n.registeredEvents=[],n.mapRef=null,n.getInstance=function(){return n.mapRef===null?null:new google.maps.Map(n.mapRef,n.props.options)},n.panTo=function(i){var r=n.getInstance();r&&r.panTo(i)},n.setMapCallback=function(){n.state.map!==null&&n.props.onLoad&&n.props.onLoad(n.state.map)},n.getRef=function(i){n.mapRef=i},n}return e.prototype.componentDidMount=function(){var n=this.getInstance();this.registeredEvents=pe({updaterMap:ty,eventMap:ey,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{map:n}},this.setMapCallback)},e.prototype.componentDidUpdate=function(n){this.state.map!==null&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:ty,eventMap:ey,prevProps:n,nextProps:this.props,instance:this.state.map}))},e.prototype.componentWillUnmount=function(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),ve(this.registeredEvents))},e.prototype.render=function(){return p.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:p.jsx(ae.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:p.jsx(p.Fragment,{})})})},e}(f.PureComponent),wr=typeof document<"u";function KS(t){var e=t.url,n=t.id,i=t.nonce;return wr?new Promise(function(s,o){var l=document.getElementById(n),a=window;if(l){var u=l.getAttribute("data-state");if(l.src===e&&u!=="error"){if(u==="ready")return s(n);var c=a.initMap,d=l.onerror;a.initMap=function(){c&&c(),s(n)},l.onerror=function(g){d&&d(g),o(g)};return}else l.remove()}var h=document.createElement("script");h.type="text/javascript",h.src=e,h.id=n,h.async=!0,h.nonce=i||"",h.onerror=function(w){h.setAttribute("data-state","error"),o(w)},a.initMap=function(){h.setAttribute("data-state","ready"),s(n)},document.head.appendChild(h)}).catch(function(r){throw console.error("injectScript error: ",r),r}):Promise.reject(new Error("document is undefined"))}function ny(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function QS(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(r,s){return ny(r)||Reflect.apply(e,t,[r,s]),r};var n=t.appendChild.bind(t);t.appendChild=function(r){return ny(r)||Reflect.apply(n,t,[r]),r}}}function qS(t){var e=t.googleMapsApiKey,n=t.googleMapsClientId,i=t.version,r=i===void 0?"weekly":i,s=t.language,o=t.region,l=t.libraries,a=t.channel,u=t.mapIds,c=t.authReferrerPolicy,d=[];return rt(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?d.push("key=".concat(e)):n&&d.push("client=".concat(n)),r&&d.push("v=".concat(r)),s&&d.push("language=".concat(s)),o&&d.push("region=".concat(o)),l&&l.length&&d.push("libraries=".concat(l.sort().join(","))),a&&d.push("channel=".concat(a)),u&&u.length&&d.push("map_ids=".concat(u.join(","))),c&&d.push("auth_referrer_policy=".concat(c)),d.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(d.join("&"))}var no=!1;function YS(){return p.jsx("div",{children:"Loading..."})}var sh={id:"script-loader",version:"weekly"};(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.check=f.createRef(),n.state={loaded:!1},n.cleanupCallback=function(){delete window.google.maps,n.injectScript()},n.isCleaningUp=function(){return eA(n,void 0,void 0,function(){function i(r){if(!no)r();else if(wr)var s=window.setInterval(function(){no||(window.clearInterval(s),r())},1)}return tA(this,function(r){return[2,new Promise(i)]})})},n.cleanup=function(){no=!0;var i=document.getElementById(n.props.id);i&&i.parentNode&&i.parentNode.removeChild(i),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})},n.injectScript=function(){n.props.preventGoogleFontsLoading&&QS(),rt(!!n.props.id,'LoadScript requires "id" prop to be a string: %s',n.props.id);var i={id:n.props.id,nonce:n.props.nonce,url:qS(n.props)};KS(i).then(function(){n.props.onLoad&&n.props.onLoad(),n.setState(function(){return{loaded:!0}})}).catch(function(r){n.props.onError&&n.props.onError(r),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(n.props.googleMapsApiKey||"-",") or Client ID (").concat(n.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})},n}return e.prototype.componentDidMount=function(){if(wr){if(window.google&&window.google.maps&&!no){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(i){console.error("Error at injecting script after cleaning up: ",i)})}},e.prototype.componentDidUpdate=function(n){this.props.libraries!==n.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),wr&&n.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))},e.prototype.componentWillUnmount=function(){var n=this;if(wr){this.cleanup();var i=function(){n.check.current||(delete window.google,no=!1)};window.setTimeout(i,1),this.props.onUnmount&&this.props.onUnmount()}},e.prototype.render=function(){return p.jsxs(p.Fragment,{children:[p.jsx("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||p.jsx(YS,{})]})},e.defaultProps=sh,e})(f.PureComponent);var iy;function fA(t){var e=t.id,n=e===void 0?sh.id:e,i=t.version,r=i===void 0?sh.version:i,s=t.nonce,o=t.googleMapsApiKey,l=t.googleMapsClientId,a=t.language,u=t.region,c=t.libraries,d=t.preventGoogleFontsLoading,h=t.channel,g=t.mapIds,w=t.authReferrerPolicy,y=f.useRef(!1),E=f.useState(!1),_=E[0],m=E[1],v=f.useState(void 0),C=v[0],x=v[1];f.useEffect(function(){return y.current=!0,function(){y.current=!1}},[]),f.useEffect(function(){wr&&d&&QS()},[d]),f.useEffect(function(){_&&rt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[_]);var S=qS({version:r,googleMapsApiKey:o,googleMapsClientId:l,language:a,region:u,libraries:c,channel:h,mapIds:g,authReferrerPolicy:w});f.useEffect(function(){if(!wr)return;function k(){y.current&&(m(!0),iy=S)}if(window.google&&window.google.maps&&iy===S){k();return}KS({id:n,url:S,nonce:s}).then(k).catch(function(M){y.current&&x(M),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(o||"-",") or Client ID (").concat(l||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(M)})},[n,S,s]);var L=f.useRef();return f.useEffect(function(){L.current&&c!==L.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),L.current=c},[c]),{isLoaded:_,loadError:C,url:S}}var hA=p.jsx(YS,{});function pA(t){var e=t.loadingElement,n=t.onLoad,i=t.onError,r=t.onUnmount,s=t.children,o=rg(t,["loadingElement","onLoad","onError","onUnmount","children"]),l=fA(o),a=l.isLoaded,u=l.loadError;return f.useEffect(function(){a&&typeof n=="function"&&n()},[a,n]),f.useEffect(function(){u&&typeof i=="function"&&i(u)},[u,i]),f.useEffect(function(){return function(){r&&r()}},[r]),a?s:e||hA}f.memo(pA);var ry;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(ry||(ry={}));var sy={},oy={options:function(t,e){t.setOptions(e)}};function gA(t){var e=t.options,n=t.onLoad,i=t.onUnmount,r=f.useContext(ae),s=f.useState(null),o=s[0],l=s[1];return f.useEffect(function(){o!==null&&o.setMap(r)},[r]),f.useEffect(function(){e&&o!==null&&o.setOptions(e)},[o,e]),f.useEffect(function(){var a=new google.maps.TrafficLayer(q(q({},e||{}),{map:r}));return l(a),n&&n(a),function(){o!==null&&(i&&i(o),o.setMap(null))}},[]),null}f.memo(gA);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={trafficLayer:null},n.setTrafficLayerCallback=function(){n.state.trafficLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.trafficLayer)},n.registeredEvents=[],n}return e.prototype.componentDidMount=function(){var n=new google.maps.TrafficLayer(q(q({},this.props.options||{}),{map:this.context}));this.registeredEvents=pe({updaterMap:oy,eventMap:sy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{trafficLayer:n}},this.setTrafficLayerCallback)},e.prototype.componentDidUpdate=function(n){this.state.trafficLayer!==null&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:oy,eventMap:sy,prevProps:n,nextProps:this.props,instance:this.state.trafficLayer}))},e.prototype.componentWillUnmount=function(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),ve(this.registeredEvents),this.state.trafficLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=ae,e})(f.PureComponent);function mA(t){var e=t.onLoad,n=t.onUnmount,i=f.useContext(ae),r=f.useState(null),s=r[0],o=r[1];return f.useEffect(function(){s!==null&&s.setMap(i)},[i]),f.useEffect(function(){var l=new google.maps.BicyclingLayer;return o(l),l.setMap(i),e&&e(l),function(){l!==null&&(n&&n(l),l.setMap(null))}},[]),null}f.memo(mA);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={bicyclingLayer:null},n.setBicyclingLayerCallback=function(){n.state.bicyclingLayer!==null&&(n.state.bicyclingLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.bicyclingLayer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.BicyclingLayer;this.setState(function(){return{bicyclingLayer:n}},this.setBicyclingLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=ae,e})(f.PureComponent);function vA(t){var e=t.onLoad,n=t.onUnmount,i=f.useContext(ae),r=f.useState(null),s=r[0],o=r[1];return f.useEffect(function(){s!==null&&s.setMap(i)},[i]),f.useEffect(function(){var l=new google.maps.TransitLayer;return o(l),l.setMap(i),e&&e(l),function(){s!==null&&(n&&n(s),s.setMap(null))}},[]),null}f.memo(vA);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={transitLayer:null},n.setTransitLayerCallback=function(){n.state.transitLayer!==null&&(n.state.transitLayer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.transitLayer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:n}},this.setTransitLayerCallback)},e.prototype.componentWillUnmount=function(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=ae,e})(f.PureComponent);var ay={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},ly={drawingMode:function(t,e){t.setDrawingMode(e)},options:function(t,e){t.setOptions(e)}};function yA(t){var e=t.options,n=t.drawingMode,i=t.onCircleComplete,r=t.onMarkerComplete,s=t.onOverlayComplete,o=t.onPolygonComplete,l=t.onPolylineComplete,a=t.onRectangleComplete,u=t.onLoad,c=t.onUnmount,d=f.useContext(ae),h=f.useState(null),g=h[0],w=h[1],y=f.useState(null),E=y[0],_=y[1],m=f.useState(null),v=m[0],C=m[1],x=f.useState(null),S=x[0],L=x[1],b=f.useState(null),k=b[0],T=b[1],M=f.useState(null),I=M[0],O=M[1],W=f.useState(null),$=W[0],H=W[1];return f.useEffect(function(){g!==null&&g.setMap(d)},[d]),f.useEffect(function(){e&&g!==null&&g.setOptions(e)},[g,e]),f.useEffect(function(){n&&g!==null&&g.setDrawingMode(n)},[g,n]),f.useEffect(function(){g&&i&&(E!==null&&google.maps.event.removeListener(E),_(google.maps.event.addListener(g,"circlecomplete",i)))},[g,i]),f.useEffect(function(){g&&r&&(v!==null&&google.maps.event.removeListener(v),C(google.maps.event.addListener(g,"markercomplete",r)))},[g,r]),f.useEffect(function(){g&&s&&(S!==null&&google.maps.event.removeListener(S),L(google.maps.event.addListener(g,"overlaycomplete",s)))},[g,s]),f.useEffect(function(){g&&o&&(k!==null&&google.maps.event.removeListener(k),T(google.maps.event.addListener(g,"polygoncomplete",o)))},[g,o]),f.useEffect(function(){g&&l&&(I!==null&&google.maps.event.removeListener(I),O(google.maps.event.addListener(g,"polylinecomplete",l)))},[g,l]),f.useEffect(function(){g&&a&&($!==null&&google.maps.event.removeListener($),H(google.maps.event.addListener(g,"rectanglecomplete",a)))},[g,a]),f.useEffect(function(){rt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var z=new google.maps.drawing.DrawingManager(q(q({},e||{}),{map:d}));return n&&z.setDrawingMode(n),i&&_(google.maps.event.addListener(z,"circlecomplete",i)),r&&C(google.maps.event.addListener(z,"markercomplete",r)),s&&L(google.maps.event.addListener(z,"overlaycomplete",s)),o&&T(google.maps.event.addListener(z,"polygoncomplete",o)),l&&O(google.maps.event.addListener(z,"polylinecomplete",l)),a&&H(google.maps.event.addListener(z,"rectanglecomplete",a)),w(z),u&&u(z),function(){g!==null&&(E&&google.maps.event.removeListener(E),v&&google.maps.event.removeListener(v),S&&google.maps.event.removeListener(S),k&&google.maps.event.removeListener(k),I&&google.maps.event.removeListener(I),$&&google.maps.event.removeListener($),c&&c(g),g.setMap(null))}},[]),null}f.memo(yA);(function(t){Oe(e,t);function e(n){var i=t.call(this,n)||this;return i.registeredEvents=[],i.state={drawingManager:null},i.setDrawingManagerCallback=function(){i.state.drawingManager!==null&&i.props.onLoad&&i.props.onLoad(i.state.drawingManager)},rt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),i}return e.prototype.componentDidMount=function(){var n=new google.maps.drawing.DrawingManager(q(q({},this.props.options||{}),{map:this.context}));this.registeredEvents=pe({updaterMap:ly,eventMap:ay,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{drawingManager:n}},this.setDrawingManagerCallback)},e.prototype.componentDidUpdate=function(n){this.state.drawingManager!==null&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:ly,eventMap:ay,prevProps:n,nextProps:this.props,instance:this.state.drawingManager}))},e.prototype.componentWillUnmount=function(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),ve(this.registeredEvents),this.state.drawingManager.setMap(null))},e.prototype.render=function(){return null},e.contextType=ae,e})(f.PureComponent);var uy={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},cy={animation:function(t,e){t.setAnimation(e)},clickable:function(t,e){t.setClickable(e)},cursor:function(t,e){t.setCursor(e)},draggable:function(t,e){t.setDraggable(e)},icon:function(t,e){t.setIcon(e)},label:function(t,e){t.setLabel(e)},map:function(t,e){t.setMap(e)},opacity:function(t,e){t.setOpacity(e)},options:function(t,e){t.setOptions(e)},position:function(t,e){t.setPosition(e)},shape:function(t,e){t.setShape(e)},title:function(t,e){t.setTitle(e)},visible:function(t,e){t.setVisible(e)},zIndex:function(t,e){t.setZIndex(e)}},_u={};function _A(t){var e=t.position,n=t.options,i=t.clusterer,r=t.noClustererRedraw,s=t.children,o=t.draggable,l=t.visible,a=t.animation,u=t.clickable,c=t.cursor,d=t.icon,h=t.label,g=t.opacity,w=t.shape,y=t.title,E=t.zIndex,_=t.onClick,m=t.onDblClick,v=t.onDrag,C=t.onDragEnd,x=t.onDragStart,S=t.onMouseOut,L=t.onMouseOver,b=t.onMouseUp,k=t.onMouseDown,T=t.onRightClick,M=t.onClickableChanged,I=t.onCursorChanged,O=t.onAnimationChanged,W=t.onDraggableChanged,$=t.onFlatChanged,H=t.onIconChanged,z=t.onPositionChanged,A=t.onShapeChanged,j=t.onTitleChanged,F=t.onVisibleChanged,N=t.onZindexChanged,B=t.onLoad,Z=t.onUnmount,ee=f.useContext(ae),ge=f.useState(null),D=ge[0],re=ge[1],Ne=f.useState(null),X=Ne[0],P=Ne[1],ie=f.useState(null),G=ie[0],oe=ie[1],me=f.useState(null),Ee=me[0],Ie=me[1],Ze=f.useState(null),Ae=Ze[0],De=Ze[1],ue=f.useState(null),le=ue[0],ot=ue[1],ht=f.useState(null),J=ht[0],Kt=ht[1],ar=f.useState(null),bn=ar[0],lr=ar[1],Pe=f.useState(null),Hr=Pe[0],hi=Pe[1],ka=f.useState(null),Gr=ka[0],Ta=ka[1],Ia=f.useState(null),Pa=Ia[0],R=Ia[1],Y=f.useState(null),K=Y[0],fe=Y[1],ze=f.useState(null),Be=ze[0],ln=ze[1],pi=f.useState(null),ut=pi[0],Ma=pi[1],Tc=f.useState(null),gi=Tc[0],Ic=Tc[1],mi=f.useState(null),un=mi[0],Kr=mi[1],qn=f.useState(null),Na=qn[0],fg=qn[1],hg=f.useState(null),Ra=hg[0],pg=hg[1],gg=f.useState(null),mg=gg[0],vg=gg[1],yg=f.useState(null),Oa=yg[0],_g=yg[1],wg=f.useState(null),Aa=wg[0],Cg=wg[1],Sg=f.useState(null),Da=Sg[0],Eg=Sg[1];f.useEffect(function(){D!==null&&D.setMap(ee)},[ee]),f.useEffect(function(){typeof n<"u"&&D!==null&&D.setOptions(n)},[D,n]),f.useEffect(function(){typeof o<"u"&&D!==null&&D.setDraggable(o)},[D,o]),f.useEffect(function(){e&&D!==null&&D.setPosition(e)},[D,e]),f.useEffect(function(){typeof l<"u"&&D!==null&&D.setVisible(l)},[D,l]),f.useEffect(function(){D==null||D.setAnimation(a)},[D,a]),f.useEffect(function(){D&&m&&(X!==null&&google.maps.event.removeListener(X),P(google.maps.event.addListener(D,"dblclick",m)))},[m]),f.useEffect(function(){D&&C&&(G!==null&&google.maps.event.removeListener(G),oe(google.maps.event.addListener(D,"dragend",C)))},[C]),f.useEffect(function(){D&&x&&(Ee!==null&&google.maps.event.removeListener(Ee),Ie(google.maps.event.addListener(D,"dragstart",x)))},[x]),f.useEffect(function(){D&&k&&(Ae!==null&&google.maps.event.removeListener(Ae),De(google.maps.event.addListener(D,"mousedown",k)))},[k]),f.useEffect(function(){D&&S&&(le!==null&&google.maps.event.removeListener(le),ot(google.maps.event.addListener(D,"mouseout",S)))},[S]),f.useEffect(function(){D&&L&&(J!==null&&google.maps.event.removeListener(J),Kt(google.maps.event.addListener(D,"mouseover",L)))},[L]),f.useEffect(function(){D&&b&&(bn!==null&&google.maps.event.removeListener(bn),lr(google.maps.event.addListener(D,"mouseup",b)))},[b]),f.useEffect(function(){D&&T&&(Hr!==null&&google.maps.event.removeListener(Hr),hi(google.maps.event.addListener(D,"rightclick",T)))},[T]),f.useEffect(function(){D&&_&&(Gr!==null&&google.maps.event.removeListener(Gr),Ta(google.maps.event.addListener(D,"click",_)))},[_]),f.useEffect(function(){D&&v&&(Pa!==null&&google.maps.event.removeListener(Pa),R(google.maps.event.addListener(D,"drag",v)))},[v]),f.useEffect(function(){D&&M&&(K!==null&&google.maps.event.removeListener(K),fe(google.maps.event.addListener(D,"clickable_changed",M)))},[M]),f.useEffect(function(){D&&I&&(Be!==null&&google.maps.event.removeListener(Be),ln(google.maps.event.addListener(D,"cursor_changed",I)))},[I]),f.useEffect(function(){D&&O&&(ut!==null&&google.maps.event.removeListener(ut),Ma(google.maps.event.addListener(D,"animation_changed",O)))},[O]),f.useEffect(function(){D&&W&&(gi!==null&&google.maps.event.removeListener(gi),Ic(google.maps.event.addListener(D,"draggable_changed",W)))},[W]),f.useEffect(function(){D&&$&&(un!==null&&google.maps.event.removeListener(un),Kr(google.maps.event.addListener(D,"flat_changed",$)))},[$]),f.useEffect(function(){D&&H&&(Na!==null&&google.maps.event.removeListener(Na),fg(google.maps.event.addListener(D,"icon_changed",H)))},[H]),f.useEffect(function(){D&&z&&(Ra!==null&&google.maps.event.removeListener(Ra),pg(google.maps.event.addListener(D,"position_changed",z)))},[z]),f.useEffect(function(){D&&A&&(mg!==null&&google.maps.event.removeListener(mg),vg(google.maps.event.addListener(D,"shape_changed",A)))},[A]),f.useEffect(function(){D&&j&&(Oa!==null&&google.maps.event.removeListener(Oa),_g(google.maps.event.addListener(D,"title_changed",j)))},[j]),f.useEffect(function(){D&&F&&(Aa!==null&&google.maps.event.removeListener(Aa),Cg(google.maps.event.addListener(D,"visible_changed",F)))},[F]),f.useEffect(function(){D&&N&&(Da!==null&&google.maps.event.removeListener(Da),Eg(google.maps.event.addListener(D,"zindex_changed",N)))},[N]),f.useEffect(function(){var $s=q(q(q({},n||_u),i?_u:{map:ee}),{position:e}),se=new google.maps.Marker($s);return i?i.addMarker(se,!!r):se.setMap(ee),e&&se.setPosition(e),typeof l<"u"&&se.setVisible(l),typeof o<"u"&&se.setDraggable(o),typeof u<"u"&&se.setClickable(u),typeof c=="string"&&se.setCursor(c),d&&se.setIcon(d),typeof h<"u"&&se.setLabel(h),typeof g<"u"&&se.setOpacity(g),w&&se.setShape(w),typeof y=="string"&&se.setTitle(y),typeof E=="number"&&se.setZIndex(E),m&&P(google.maps.event.addListener(se,"dblclick",m)),C&&oe(google.maps.event.addListener(se,"dragend",C)),x&&Ie(google.maps.event.addListener(se,"dragstart",x)),k&&De(google.maps.event.addListener(se,"mousedown",k)),S&&ot(google.maps.event.addListener(se,"mouseout",S)),L&&Kt(google.maps.event.addListener(se,"mouseover",L)),b&&lr(google.maps.event.addListener(se,"mouseup",b)),T&&hi(google.maps.event.addListener(se,"rightclick",T)),_&&Ta(google.maps.event.addListener(se,"click",_)),v&&R(google.maps.event.addListener(se,"drag",v)),M&&fe(google.maps.event.addListener(se,"clickable_changed",M)),I&&ln(google.maps.event.addListener(se,"cursor_changed",I)),O&&Ma(google.maps.event.addListener(se,"animation_changed",O)),W&&Ic(google.maps.event.addListener(se,"draggable_changed",W)),$&&Kr(google.maps.event.addListener(se,"flat_changed",$)),H&&fg(google.maps.event.addListener(se,"icon_changed",H)),z&&pg(google.maps.event.addListener(se,"position_changed",z)),A&&vg(google.maps.event.addListener(se,"shape_changed",A)),j&&_g(google.maps.event.addListener(se,"title_changed",j)),F&&Cg(google.maps.event.addListener(se,"visible_changed",F)),N&&Eg(google.maps.event.addListener(se,"zindex_changed",N)),re(se),B&&B(se),function(){X!==null&&google.maps.event.removeListener(X),G!==null&&google.maps.event.removeListener(G),Ee!==null&&google.maps.event.removeListener(Ee),Ae!==null&&google.maps.event.removeListener(Ae),le!==null&&google.maps.event.removeListener(le),J!==null&&google.maps.event.removeListener(J),bn!==null&&google.maps.event.removeListener(bn),Hr!==null&&google.maps.event.removeListener(Hr),Gr!==null&&google.maps.event.removeListener(Gr),K!==null&&google.maps.event.removeListener(K),Be!==null&&google.maps.event.removeListener(Be),ut!==null&&google.maps.event.removeListener(ut),gi!==null&&google.maps.event.removeListener(gi),un!==null&&google.maps.event.removeListener(un),Na!==null&&google.maps.event.removeListener(Na),Ra!==null&&google.maps.event.removeListener(Ra),Oa!==null&&google.maps.event.removeListener(Oa),Aa!==null&&google.maps.event.removeListener(Aa),Da!==null&&google.maps.event.removeListener(Da),Z&&Z(se),i?i.removeMarker(se,!!r):se&&se.setMap(null)}},[]);var EE=f.useMemo(function(){return s?f.Children.map(s,function($s){if(!f.isValidElement($s))return $s;var se=$s;return f.cloneElement(se,{anchor:D})}):null},[s,D]);return p.jsx(p.Fragment,{children:EE})||null}f.memo(_A);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n}return e.prototype.componentDidMount=function(){var n=q(q(q({},this.props.options||_u),this.props.clusterer?_u:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(n),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=pe({updaterMap:cy,eventMap:uy,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},e.prototype.componentDidUpdate=function(n){this.marker&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:cy,eventMap:uy,prevProps:n,nextProps:this.props,instance:this.marker}))},e.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),ve(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},e.prototype.render=function(){var n=this,i=null;return this.props.children&&(i=f.Children.map(this.props.children,function(r){if(!f.isValidElement(r))return r;var s=r;return f.cloneElement(s,{anchor:n.marker})})),i||null},e.contextType=ae,e})(f.PureComponent);var wA=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var i=n.getMaxZoom(),r=this.cluster.getBounds(),s=n.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(r),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(r);var l=o.getZoom()||0;i!==null&&l>i&&o.setZoom(i+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,i,r,s,o;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,a=this.backgroundPosition.split(" "),u=parseInt(((e=a[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt(((n=a[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),d=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(d!==null?"".concat(d.y,"px"):"0","; left: ").concat(d!==null?"".concat(d.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var h=document.createElement("img");h.alt=l,h.src=this.url,h.width=this.width,h.height=this.height,h.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(h.style.clip="rect(-".concat(c,"px, -").concat(u+this.width,"px, -").concat(c+this.height,", -").concat(u,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((i=this.sums)===null||i===void 0)&&i.text&&(g.innerText="".concat((r=this.sums)===null||r===void 0?void 0:r.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(g.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(h),this.div.appendChild(g),this.div.title=l,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),i=n[Math.min(n.length-1,Math.max(0,e.index-1))];i&&(this.url=i.url,this.height=i.height,this.width=i.width,i.className&&(this.className="".concat(this.clusterClassName," ").concat(i.className)),this.anchorText=i.anchorText||[0,0],this.anchorIcon=i.anchorIcon||[this.height/2,this.width/2],this.textColor=i.textColor||"black",this.textSize=i.textSize||11,this.textDecoration=i.textDecoration||"none",this.fontWeight=i.fontWeight||"bold",this.fontStyle=i.fontStyle||"normal",this.fontFamily=i.fontFamily||"Arial,sans-serif",this.backgroundPosition=i.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),CA=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new wA(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),i=0,r=n;i<r.length;i++){var s=r[i],o=s.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var i=e.getPosition();if(i){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+i.lat())/r,(this.center.lng()*(r-1)+i.lng())/r),this.calculateBounds()}}}else{var i=e.getPosition();i&&(this.center=i,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),l=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof l<"u"&&l>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var a=0,u=this.markers;a<u.length;a++){var c=u[a];c.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,i=this.markerClusterer.getMaxZoom(),r=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(i!==null&&typeof r<"u"&&r>i){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function SA(t,e){var n=t.length,i=n.toString().length,r=Math.min(i,e);return{text:n.toString(),index:r,title:""}}var EA=2e3,xA=500,bA="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",LA="png",kA=[53,56,66,78,90],TA="cluster",ZS=function(){function t(e,n,i){n===void 0&&(n=[]),i===void 0&&(i={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=i.gridSize||60,this.minClusterSize=i.minimumClusterSize||2,this.maxZoom=i.maxZoom||null,this.styles=i.styles||[],this.title=i.title||"",this.zoomOnClick=!0,i.zoomOnClick!==void 0&&(this.zoomOnClick=i.zoomOnClick),this.averageCenter=!1,i.averageCenter!==void 0&&(this.averageCenter=i.averageCenter),this.ignoreHidden=!1,i.ignoreHidden!==void 0&&(this.ignoreHidden=i.ignoreHidden),this.enableRetinaIcons=!1,i.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=i.enableRetinaIcons),this.imagePath=i.imagePath||bA,this.imageExtension=i.imageExtension||LA,this.imageSizes=i.imageSizes||kA,this.calculator=i.calculator||SA,this.batchSize=i.batchSize||EA,this.batchSizeIE=i.batchSizeIE||xA,this.clusterClass=i.clusterClass||TA,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var i=n[e];i.getMap()!==this.activeMap&&i.setMap(this.activeMap)}for(var r=0,s=this.clusters;r<s.length;r++){var o=s[r];o.remove()}this.clusters=[];for(var l=0,a=this.listeners;l<a.length;l++){var u=a[l];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,i=0,r=e;i<r.length;i++){var s=r[i],o=s.getPosition();o&&n.extend(o)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];r&&this.pushMarkerTo(r)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var i=0;i<this.markers.length;i++)if(e===this.markers[i]){n=i;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var i=this.removeMarker_(e);return!n&&i&&this.repaint(),i},t.prototype.removeMarkers=function(e,n){for(var i=!1,r=0,s=e;r<s.length;r++){var o=s[r];i=i||this.removeMarker_(o)}return!n&&i&&this.repaint(),i},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var i=0,r=e;i<r.length;i++){var s=r[i];s.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));i!==null&&(i.x+=this.gridSize,i.y-=this.gridSize);var r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(r!==null&&(r.x-=this.gridSize,r.y+=this.gridSize),i!==null){var s=n.fromDivPixelToLatLng(i);s!==null&&e.extend(s)}if(r!==null){var o=n.fromDivPixelToLatLng(r);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,i=this.clusters;n<i.length;n++){var r=i[n];r.remove()}this.clusters=[];for(var s=0,o=this.markers;s<o.length;s++){var l=o[s];l.isAdded=!1,e&&l.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var i=6371,r=(n.lat()-e.lat())*Math.PI/180,s=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return i*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var i=e.getPosition();return i?n.contains(i):!1},t.prototype.addToClosestCluster=function(e){for(var n,i=4e4,r=null,s=0,o=this.clusters;s<o.length;s++){var l=o[s];n=l;var a=n.getCenter(),u=e.getPosition();if(a&&u){var c=this.distanceBetweenPoints(a,u);c<i&&(i=c,r=n)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):(n=new CA(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var i=this.getMap(),r=i!==null&&("getBounds"in i)?i.getBounds():null,s=(i==null?void 0:i.getZoom())||0,o=s>3?new google.maps.LatLngBounds(r==null?void 0:r.getSouthWest(),r==null?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(o),a=Math.min(e+this.batchSize,this.markers.length),u=e;u<a;u++){var c=this.markers[u];c&&!c.isAdded&&this.isMarkerInBounds(c,l)&&(!this.ignoreHidden||this.ignoreHidden&&c.getVisible())&&this.addToClosestCluster(c)}if(a<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(a)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var d=0,h=this.clusters;d<h.length;d++){var g=h[d];g.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(r){for(var s in r.prototype){var o=s;this.prototype[o]=r.prototype[o]}return this}).apply(e,[n])},t}(),dn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Ce={averageCenter:function(t,e){t.setAverageCenter(e)},batchSizeIE:function(t,e){t.setBatchSizeIE(e)},calculator:function(t,e){t.setCalculator(e)},clusterClass:function(t,e){t.setClusterClass(e)},enableRetinaIcons:function(t,e){t.setEnableRetinaIcons(e)},gridSize:function(t,e){t.setGridSize(e)},ignoreHidden:function(t,e){t.setIgnoreHidden(e)},imageExtension:function(t,e){t.setImageExtension(e)},imagePath:function(t,e){t.setImagePath(e)},imageSizes:function(t,e){t.setImageSizes(e)},maxZoom:function(t,e){t.setMaxZoom(e)},minimumClusterSize:function(t,e){t.setMinimumClusterSize(e)},styles:function(t,e){t.setStyles(e)},title:function(t,e){t.setTitle(e)},zoomOnClick:function(t,e){t.setZoomOnClick(e)}},IA={};function PA(t){var e=t.children,n=t.options,i=t.averageCenter,r=t.batchSizeIE,s=t.calculator,o=t.clusterClass,l=t.enableRetinaIcons,a=t.gridSize,u=t.ignoreHidden,c=t.imageExtension,d=t.imagePath,h=t.imageSizes,g=t.maxZoom,w=t.minimumClusterSize,y=t.styles,E=t.title,_=t.zoomOnClick,m=t.onClick,v=t.onClusteringBegin,C=t.onClusteringEnd,x=t.onMouseOver,S=t.onMouseOut,L=t.onLoad,b=t.onUnmount,k=f.useState(null),T=k[0],M=k[1],I=f.useContext(ae),O=f.useState(null),W=O[0],$=O[1],H=f.useState(null),z=H[0],A=H[1],j=f.useState(null),F=j[0],N=j[1],B=f.useState(null),Z=B[0],ee=B[1],ge=f.useState(null),D=ge[0],re=ge[1];return f.useEffect(function(){T&&S&&(Z!==null&&google.maps.event.removeListener(Z),ee(google.maps.event.addListener(T,dn.onMouseOut,S)))},[S]),f.useEffect(function(){T&&x&&(D!==null&&google.maps.event.removeListener(D),re(google.maps.event.addListener(T,dn.onMouseOver,x)))},[x]),f.useEffect(function(){T&&m&&(W!==null&&google.maps.event.removeListener(W),$(google.maps.event.addListener(T,dn.onClick,m)))},[m]),f.useEffect(function(){T&&v&&(z!==null&&google.maps.event.removeListener(z),A(google.maps.event.addListener(T,dn.onClusteringBegin,v)))},[v]),f.useEffect(function(){T&&C&&(F!==null&&google.maps.event.removeListener(F),A(google.maps.event.addListener(T,dn.onClusteringEnd,C)))},[C]),f.useEffect(function(){typeof i<"u"&&T!==null&&Ce.averageCenter(T,i)},[T,i]),f.useEffect(function(){typeof r<"u"&&T!==null&&Ce.batchSizeIE(T,r)},[T,r]),f.useEffect(function(){typeof s<"u"&&T!==null&&Ce.calculator(T,s)},[T,s]),f.useEffect(function(){typeof o<"u"&&T!==null&&Ce.clusterClass(T,o)},[T,o]),f.useEffect(function(){typeof l<"u"&&T!==null&&Ce.enableRetinaIcons(T,l)},[T,l]),f.useEffect(function(){typeof a<"u"&&T!==null&&Ce.gridSize(T,a)},[T,a]),f.useEffect(function(){typeof u<"u"&&T!==null&&Ce.ignoreHidden(T,u)},[T,u]),f.useEffect(function(){typeof c<"u"&&T!==null&&Ce.imageExtension(T,c)},[T,c]),f.useEffect(function(){typeof d<"u"&&T!==null&&Ce.imagePath(T,d)},[T,d]),f.useEffect(function(){typeof h<"u"&&T!==null&&Ce.imageSizes(T,h)},[T,h]),f.useEffect(function(){typeof g<"u"&&T!==null&&Ce.maxZoom(T,g)},[T,g]),f.useEffect(function(){typeof w<"u"&&T!==null&&Ce.minimumClusterSize(T,w)},[T,w]),f.useEffect(function(){typeof y<"u"&&T!==null&&Ce.styles(T,y)},[T,y]),f.useEffect(function(){typeof E<"u"&&T!==null&&Ce.title(T,E)},[T,E]),f.useEffect(function(){typeof _<"u"&&T!==null&&Ce.zoomOnClick(T,_)},[T,_]),f.useEffect(function(){if(I){var Ne=q({},n||IA),X=new ZS(I,[],Ne);return i&&Ce.averageCenter(X,i),r&&Ce.batchSizeIE(X,r),s&&Ce.calculator(X,s),o&&Ce.clusterClass(X,o),l&&Ce.enableRetinaIcons(X,l),a&&Ce.gridSize(X,a),u&&Ce.ignoreHidden(X,u),c&&Ce.imageExtension(X,c),d&&Ce.imagePath(X,d),h&&Ce.imageSizes(X,h),g&&Ce.maxZoom(X,g),w&&Ce.minimumClusterSize(X,w),y&&Ce.styles(X,y),E&&Ce.title(X,E),_&&Ce.zoomOnClick(X,_),S&&ee(google.maps.event.addListener(X,dn.onMouseOut,S)),x&&re(google.maps.event.addListener(X,dn.onMouseOver,x)),m&&$(google.maps.event.addListener(X,dn.onClick,m)),v&&A(google.maps.event.addListener(X,dn.onClusteringBegin,v)),C&&N(google.maps.event.addListener(X,dn.onClusteringEnd,C)),M(X),L&&L(X),function(){Z!==null&&google.maps.event.removeListener(Z),D!==null&&google.maps.event.removeListener(D),W!==null&&google.maps.event.removeListener(W),z!==null&&google.maps.event.removeListener(z),F!==null&&google.maps.event.removeListener(F),b&&b(X)}}},[]),T!==null&&e(T)||null}f.memo(PA);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={markerClusterer:null},n.setClustererCallback=function(){n.state.markerClusterer!==null&&n.props.onLoad&&n.props.onLoad(n.state.markerClusterer)},n}return e.prototype.componentDidMount=function(){if(this.context){var n=new ZS(this.context,[],this.props.options);this.registeredEvents=pe({updaterMap:Ce,eventMap:dn,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{markerClusterer:n}},this.setClustererCallback)}},e.prototype.componentDidUpdate=function(n){this.state.markerClusterer&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:Ce,eventMap:dn,prevProps:n,nextProps:this.props,instance:this.state.markerClusterer}))},e.prototype.componentWillUnmount=function(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),ve(this.registeredEvents),this.state.markerClusterer.setMap(null))},e.prototype.render=function(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null},e.contextType=ae,e})(f.PureComponent);function dy(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var XS=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(u){u.returnValue=!1,u.preventDefault&&u.preventDefault(),e.enableEventPropagation||dy(u)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var i=this.getPanes();if(i!==null&&i[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var r=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-r.left-r.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,l=s;o<l.length;o++){var a=l[o];this.eventListeners.push(google.maps.event.addListener(this.div,a,dy))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var i=0,r=0,s=n.getBounds();s&&!s.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),l=o.offsetWidth,a=o.offsetHeight,u=this.pixelOffset.width,c=this.pixelOffset.height,d=this.div.offsetWidth,h=this.div.offsetHeight,g=this.infoBoxClearance.width,w=this.infoBoxClearance.height,y=this.getProjection(),E=y.fromLatLngToContainerPixel(this.position);E!==null&&(E.x<-u+g?i=E.x+u-g:E.x+d+u+g>l&&(i=E.x+d+u+g-l),this.alignBottom?E.y<-c+w+h?r=E.y+c-w-h:E.y+c+w>a&&(r=E.y+c+w-a):E.y<-c+w?r=E.y+c-w:E.y+h+c+w>a&&(r=E.y+h+c+w-a)),i===0&&r===0||n.panBy(i,r)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var i=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+i*100+')"',this.div.style.filter="alpha(opacity="+i*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,i=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var i=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var r=n.getPosition();i.setPosition(r)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){i.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var i=n[e];google.maps.event.removeListener(i)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(r){for(var s in r.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=r.prototype[s]);return this}).apply(e,[n])},t}(),fy={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},hy={options:function(t,e){t.setOptions(e)},position:function(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible:function(t,e){t.setVisible(e)},zIndex:function(t,e){t.setZIndex(e)}},MA={};function NA(t){var e=t.children,n=t.anchor,i=t.options,r=t.position,s=t.zIndex,o=t.onCloseClick,l=t.onDomReady,a=t.onContentChanged,u=t.onPositionChanged,c=t.onZindexChanged,d=t.onLoad,h=t.onUnmount,g=f.useContext(ae),w=f.useState(null),y=w[0],E=w[1],_=f.useState(null),m=_[0],v=_[1],C=f.useState(null),x=C[0],S=C[1],L=f.useState(null),b=L[0],k=L[1],T=f.useState(null),M=T[0],I=T[1],O=f.useState(null),W=O[0],$=O[1],H=f.useRef(null);return f.useEffect(function(){g&&y!==null&&(y.close(),n?y.open(g,n):y.getPosition()&&y.open(g))},[g,y,n]),f.useEffect(function(){i&&y!==null&&y.setOptions(i)},[y,i]),f.useEffect(function(){if(r&&y!==null){var z=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r.lat,r.lng);y.setPosition(z)}},[r]),f.useEffect(function(){typeof s=="number"&&y!==null&&y.setZIndex(s)},[s]),f.useEffect(function(){y&&o&&(m!==null&&google.maps.event.removeListener(m),v(google.maps.event.addListener(y,"closeclick",o)))},[o]),f.useEffect(function(){y&&l&&(x!==null&&google.maps.event.removeListener(x),S(google.maps.event.addListener(y,"domready",l)))},[l]),f.useEffect(function(){y&&a&&(b!==null&&google.maps.event.removeListener(b),k(google.maps.event.addListener(y,"content_changed",a)))},[a]),f.useEffect(function(){y&&u&&(M!==null&&google.maps.event.removeListener(M),I(google.maps.event.addListener(y,"position_changed",u)))},[u]),f.useEffect(function(){y&&c&&(W!==null&&google.maps.event.removeListener(W),$(google.maps.event.addListener(y,"zindex_changed",c)))},[c]),f.useEffect(function(){if(g){var z=i||MA,A=z.position,j=rg(z,["position"]),F=void 0;A&&!(A instanceof google.maps.LatLng)&&(F=new google.maps.LatLng(A.lat,A.lng));var N=new XS(q(q({},j),F?{position:F}:{}));H.current=document.createElement("div"),E(N),o&&v(google.maps.event.addListener(N,"closeclick",o)),l&&S(google.maps.event.addListener(N,"domready",l)),a&&k(google.maps.event.addListener(N,"content_changed",a)),u&&I(google.maps.event.addListener(N,"position_changed",u)),c&&$(google.maps.event.addListener(N,"zindex_changed",c)),N.setContent(H.current),n?N.open(g,n):N.getPosition()?N.open(g):rt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),d&&d(N)}return function(){y!==null&&(m&&google.maps.event.removeListener(m),b&&google.maps.event.removeListener(b),x&&google.maps.event.removeListener(x),M&&google.maps.event.removeListener(M),W&&google.maps.event.removeListener(W),h&&h(y),y.close())}},[]),H.current?rr.createPortal(f.Children.only(e),H.current):null}f.memo(NA);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoBox:null},n.open=function(i,r){r?n.context!==null&&i.open(n.context,r):i.getPosition()?n.context!==null&&i.open(n.context):rt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},n.setInfoBoxCallback=function(){n.state.infoBox!==null&&n.containerElement!==null&&(n.state.infoBox.setContent(n.containerElement),n.open(n.state.infoBox,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoBox))},n}return e.prototype.componentDidMount=function(){var n=this.props.options||{},i=n.position,r=rg(n,["position"]),s;i&&!(i instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(i.lat,i.lng));var o=new XS(q(q({},r),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=pe({updaterMap:hy,eventMap:fy,prevProps:{},nextProps:this.props,instance:o}),this.setState({infoBox:o},this.setInfoBoxCallback)},e.prototype.componentDidUpdate=function(n){var i=this.state.infoBox;i!==null&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:hy,eventMap:fy,prevProps:n,nextProps:this.props,instance:i}))},e.prototype.componentWillUnmount=function(){var n=this.props.onUnmount,i=this.state.infoBox;i!==null&&(n&&n(i),ve(this.registeredEvents),i.close())},e.prototype.render=function(){return this.containerElement?rr.createPortal(f.Children.only(this.props.children),this.containerElement):null},e.contextType=ae,e})(f.PureComponent);var RA=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(n).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=i;r--!==0;){var o=s[r];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},py=GS(RA);const gy=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],xd=1,io=8;class sg{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,i]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const r=i>>4;if(r!==xd)throw new Error(`Got v${r} data when expected v${xd}.`);const s=gy[i&15];if(!s)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(e,2,1),[l]=new Uint32Array(e,4,1);return new sg(l,o,s,e)}constructor(e,n=64,i=Float64Array,r){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=i,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const s=gy.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,l=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-l%8)%8;if(s<0)throw new Error(`Unexpected typed array class: ${i}.`);r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,io,e),this.coords=new this.ArrayType(this.data,io+l+a,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(io+o+l+a),this.ids=new this.IndexArrayType(this.data,io,e),this.coords=new this.ArrayType(this.data,io+l+a,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(xd<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const i=this._pos>>1;return this.ids[i]=i,this.coords[this._pos++]=e,this.coords[this._pos++]=n,i}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return oh(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,i,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:o,nodeSize:l}=this,a=[0,s.length-1,0],u=[];for(;a.length;){const c=a.pop()||0,d=a.pop()||0,h=a.pop()||0;if(d-h<=l){for(let E=h;E<=d;E++){const _=o[2*E],m=o[2*E+1];_>=e&&_<=i&&m>=n&&m<=r&&u.push(s[E])}continue}const g=h+d>>1,w=o[2*g],y=o[2*g+1];w>=e&&w<=i&&y>=n&&y<=r&&u.push(s[g]),(c===0?e<=w:n<=y)&&(a.push(h),a.push(g-1),a.push(1-c)),(c===0?i>=w:r>=y)&&(a.push(g+1),a.push(d),a.push(1-c))}return u}within(e,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:s,nodeSize:o}=this,l=[0,r.length-1,0],a=[],u=i*i;for(;l.length;){const c=l.pop()||0,d=l.pop()||0,h=l.pop()||0;if(d-h<=o){for(let E=h;E<=d;E++)my(s[2*E],s[2*E+1],e,n)<=u&&a.push(r[E]);continue}const g=h+d>>1,w=s[2*g],y=s[2*g+1];my(w,y,e,n)<=u&&a.push(r[g]),(c===0?e-i<=w:n-i<=y)&&(l.push(h),l.push(g-1),l.push(1-c)),(c===0?e+i>=w:n+i>=y)&&(l.push(g+1),l.push(d),l.push(1-c))}return a}}function oh(t,e,n,i,r,s){if(r-i<=n)return;const o=i+r>>1;JS(t,e,o,i,r,s),oh(t,e,n,i,o-1,1-s),oh(t,e,n,o+1,r,1-s)}function JS(t,e,n,i,r,s){for(;r>i;){if(r-i>600){const u=r-i+1,c=n-i+1,d=Math.log(u),h=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*h*(u-h)/u)*(c-u/2<0?-1:1),w=Math.max(i,Math.floor(n-c*h/u+g)),y=Math.min(r,Math.floor(n+(u-c)*h/u+g));JS(t,e,n,w,y,s)}const o=e[2*n+s];let l=i,a=r;for(ro(t,e,i,n),e[2*r+s]>o&&ro(t,e,i,r);l<a;){for(ro(t,e,l,a),l++,a--;e[2*l+s]<o;)l++;for(;e[2*a+s]>o;)a--}e[2*i+s]===o?ro(t,e,i,a):(a++,ro(t,e,a,r)),a<=n&&(i=a+1),n<=a&&(r=a-1)}}function ro(t,e,n,i){bd(t,n,i),bd(e,2*n,2*i),bd(e,2*n+1,2*i+1)}function bd(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function my(t,e,n,i){const r=t-n,s=e-i;return r*r+s*s}const OA={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},vy=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),ur=2,Si=3,Ld=4,_i=5,eE=6;class AA{constructor(e){this.options=Object.assign(Object.create(OA),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:i,maxZoom:r}=this.options;n&&console.time("total time");const s=`prepare ${e.length} points`;n&&console.time(s),this.points=e;const o=[];for(let a=0;a<e.length;a++){const u=e[a];if(!u.geometry)continue;const[c,d]=u.geometry.coordinates,h=vy(sl(c)),g=vy(ol(d));o.push(h,g,1/0,a,-1,1),this.options.reduce&&o.push(0)}let l=this.trees[r+1]=this._createTree(o);n&&console.timeEnd(s);for(let a=r;a>=i;a--){const u=+Date.now();l=this.trees[a]=this._createTree(this._cluster(l,a)),n&&console.log("z%d: %d clusters in %dms",a,l.numItems,+Date.now()-u)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let i=((e[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)i=-180,s=180;else if(i>s){const d=this.getClusters([i,r,180,o],n),h=this.getClusters([-180,r,s,o],n);return d.concat(h)}const l=this.trees[this._limitZoom(n)],a=l.range(sl(i),ol(o),sl(s),ol(r)),u=l.data,c=[];for(const d of a){const h=this.stride*d;c.push(u[h+_i]>1?yy(u,h,this.clusterProps):this.points[u[h+Si]])}return c}getChildren(e){const n=this._getOriginId(e),i=this._getOriginZoom(e),r="No cluster with the specified id.",s=this.trees[i];if(!s)throw new Error(r);const o=s.data;if(n*this.stride>=o.length)throw new Error(r);const l=this.options.radius/(this.options.extent*Math.pow(2,i-1)),a=o[n*this.stride],u=o[n*this.stride+1],c=s.within(a,u,l),d=[];for(const h of c){const g=h*this.stride;o[g+Ld]===e&&d.push(o[g+_i]>1?yy(o,g,this.clusterProps):this.points[o[g+Si]])}if(d.length===0)throw new Error(r);return d}getLeaves(e,n,i){n=n||10,i=i||0;const r=[];return this._appendLeaves(r,e,n,i,0),r}getTile(e,n,i){const r=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:l}=this.options,a=l/o,u=(i-a)/s,c=(i+1+a)/s,d={features:[]};return this._addTileFeatures(r.range((n-a)/s,u,(n+1+a)/s,c),r.data,n,i,s,d),n===0&&this._addTileFeatures(r.range(1-a/s,u,1,c),r.data,s,i,s,d),n===s-1&&this._addTileFeatures(r.range(0,u,a/s,c),r.data,-1,i,s,d),d.features.length?d:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const i=this.getChildren(e);if(n++,i.length!==1)break;e=i[0].properties.cluster_id}return n}_appendLeaves(e,n,i,r,s){const o=this.getChildren(n);for(const l of o){const a=l.properties;if(a&&a.cluster?s+a.point_count<=r?s+=a.point_count:s=this._appendLeaves(e,a.cluster_id,i,r,s):s<r?s++:e.push(l),e.length===i)break}return s}_createTree(e){const n=new sg(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let i=0;i<e.length;i+=this.stride)n.add(e[i],e[i+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,i,r,s,o){for(const l of e){const a=l*this.stride,u=n[a+_i]>1;let c,d,h;if(u)c=tE(n,a,this.clusterProps),d=n[a],h=n[a+1];else{const y=this.points[n[a+Si]];c=y.properties;const[E,_]=y.geometry.coordinates;d=sl(E),h=ol(_)}const g={type:1,geometry:[[Math.round(this.options.extent*(d*s-i)),Math.round(this.options.extent*(h*s-r))]],tags:c};let w;u||this.options.generateId?w=n[a+Si]:w=this.points[n[a+Si]].id,w!==void 0&&(g.id=w),o.features.push(g)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:i,extent:r,reduce:s,minPoints:o}=this.options,l=i/(r*Math.pow(2,n)),a=e.data,u=[],c=this.stride;for(let d=0;d<a.length;d+=c){if(a[d+ur]<=n)continue;a[d+ur]=n;const h=a[d],g=a[d+1],w=e.within(a[d],a[d+1],l),y=a[d+_i];let E=y;for(const _ of w){const m=_*c;a[m+ur]>n&&(E+=a[m+_i])}if(E>y&&E>=o){let _=h*y,m=g*y,v,C=-1;const x=((d/c|0)<<5)+(n+1)+this.points.length;for(const S of w){const L=S*c;if(a[L+ur]<=n)continue;a[L+ur]=n;const b=a[L+_i];_+=a[L]*b,m+=a[L+1]*b,a[L+Ld]=x,s&&(v||(v=this._map(a,d,!0),C=this.clusterProps.length,this.clusterProps.push(v)),s(v,this._map(a,L)))}a[d+Ld]=x,u.push(_/E,m/E,1/0,x,-1,E),s&&u.push(C)}else{for(let _=0;_<c;_++)u.push(a[d+_]);if(E>1)for(const _ of w){const m=_*c;if(!(a[m+ur]<=n)){a[m+ur]=n;for(let v=0;v<c;v++)u.push(a[m+v])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,i){if(e[n+_i]>1){const o=this.clusterProps[e[n+eE]];return i?Object.assign({},o):o}const r=this.points[e[n+Si]].properties,s=this.options.map(r);return i&&s===r?Object.assign({},s):s}}function yy(t,e,n){return{type:"Feature",id:t[e+Si],properties:tE(t,e,n),geometry:{type:"Point",coordinates:[DA(t[e]),jA(t[e+1])]}}}function tE(t,e,n){const i=t[e+_i],r=i>=1e4?`${Math.round(i/1e3)}k`:i>=1e3?`${Math.round(i/100)/10}k`:i,s=t[e+eE],o=s===-1?{}:Object.assign({},n[s]);return Object.assign(o,{cluster:!0,cluster_id:t[e+Si],point_count:i,point_count_abbreviated:r})}function sl(t){return t/360+.5}function ol(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function DA(t){return(t-.5)*360}function jA(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function FA(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}class Yt{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class ah{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(Yt.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Yt.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Yt.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class UA{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return zA(e)}}const zA=t=>t.map(n=>new ah({position:Yt.getPosition(n),markers:[n]}));class BA extends UA{constructor(e){var{maxZoom:n,radius:i=60}=e,r=FA(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new AA(Object.assign({maxZoom:this.maxZoom,radius:i},r))}calculate(e){let n=!1;const i={zoom:e.map.getZoom()};if(!py(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const r=this.markers.map(s=>{const o=Yt.getPosition(s);return{type:"Feature",geometry:{type:"Point",coordinates:[o.lng(),o.lat()]},properties:{marker:s}}});this.superCluster.load(r)}return n||(this.state.zoom<=this.maxZoom||i.zoom<=this.maxZoom)&&(n=!py(this.state,i)),this.state=i,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:i}){if(i.cluster)return new ah({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:n,lng:e}});const r=i.marker;return new ah({markers:[r],position:Yt.getPosition(r)})}}class $A{constructor(e,n){this.markers={sum:e.length};const i=n.map(s=>s.count),r=i.reduce((s,o)=>s+o,0);this.clusters={count:n.length,markers:{mean:r/n.length,sum:r,min:Math.min(...i),max:Math.max(...i)}}}}class VA{render({count:e,position:n},i,r){const o=`<svg fill="${e>Math.max(10,i.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,l=`Cluster of ${e} markers`,a=Number(google.maps.Marker.MAX_ZINDEX)+e;if(Yt.isAdvancedMarkerAvailable(r)){const c=document.createElement("div");c.innerHTML=o;const d=c.firstElementChild;d.setAttribute("transform","translate(0 25)");const h={map:r,position:n,zIndex:a,title:l,content:d};return new google.maps.marker.AdvancedMarkerElement(h)}const u={position:n,zIndex:a,title:l,icon:{url:`data:image/svg+xml;base64,${btoa(o)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(u)}}function WA(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class og{constructor(){WA(og,google.maps.OverlayView)}}var ko;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(ko||(ko={}));const HA=(t,e,n)=>{n.fitBounds(e.bounds)};class GA extends og{constructor({map:e,markers:n=[],algorithmOptions:i={},algorithm:r=new BA(i),renderer:s=new VA,onClusterClick:o=HA}){super(),this.markers=[...n],this.clusters=[],this.algorithm=r,this.renderer=s,this.onClusterClick=o,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(i=>{this.addMarker(i,!0)}),n||this.render()}removeMarker(e,n){const i=this.markers.indexOf(e);return i===-1?!1:(Yt.setMap(e,null),this.markers.splice(i,1),n||this.render(),!0)}removeMarkers(e,n){let i=!1;return e.forEach(r=>{i=this.removeMarker(r,!0)||i}),i&&!n&&this.render(),i}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,ko.CLUSTERING_BEGIN,this);const{clusters:n,changed:i}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(i||i==null){const r=new Set;for(const o of n)o.markers.length==1&&r.add(o.markers[0]);const s=[];for(const o of this.clusters)o.marker!=null&&(o.markers.length==1?r.has(o.marker)||Yt.setMap(o.marker,null):s.push(o.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>s.forEach(o=>Yt.setMap(o,null)))}google.maps.event.trigger(this,ko.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Yt.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new $A(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(i=>{i.markers.length===1?i.marker=i.markers[0]:(i.marker=this.renderer.render(i,e,n),i.markers.forEach(r=>Yt.setMap(r,null)),this.onClusterClick&&i.marker.addListener("click",r=>{google.maps.event.trigger(this,ko.CLUSTER_CLICK,i),this.onClusterClick(r,i,n)})),Yt.setMap(i.marker,n)})}}function KA(t){var e=rA(),n=f.useState(null),i=n[0],r=n[1];return f.useEffect(function(){if(e&&i===null){var s=new GA(q(q({},t),{map:e}));r(s)}},[e]),i}function QA(t){var e=t.children,n=t.options,i=KA(n);return i!==null?e(i):null}f.memo(QA);var _y={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},wy={options:function(t,e){t.setOptions(e)},position:function(t,e){t.setPosition(e)},zIndex:function(t,e){t.setZIndex(e)}};function qA(t){var e=t.children,n=t.anchor,i=t.options,r=t.position,s=t.zIndex,o=t.onCloseClick,l=t.onDomReady,a=t.onContentChanged,u=t.onPositionChanged,c=t.onZindexChanged,d=t.onLoad,h=t.onUnmount,g=f.useContext(ae),w=f.useState(null),y=w[0],E=w[1],_=f.useState(null),m=_[0],v=_[1],C=f.useState(null),x=C[0],S=C[1],L=f.useState(null),b=L[0],k=L[1],T=f.useState(null),M=T[0],I=T[1],O=f.useState(null),W=O[0],$=O[1],H=f.useRef(null);return f.useEffect(function(){y!==null&&(y.close(),n?y.open(g,n):y.getPosition()&&y.open(g))},[g,y,n]),f.useEffect(function(){i&&y!==null&&y.setOptions(i)},[y,i]),f.useEffect(function(){r&&y!==null&&y.setPosition(r)},[r]),f.useEffect(function(){typeof s=="number"&&y!==null&&y.setZIndex(s)},[s]),f.useEffect(function(){y&&o&&(m!==null&&google.maps.event.removeListener(m),v(google.maps.event.addListener(y,"closeclick",o)))},[o]),f.useEffect(function(){y&&l&&(x!==null&&google.maps.event.removeListener(x),S(google.maps.event.addListener(y,"domready",l)))},[l]),f.useEffect(function(){y&&a&&(b!==null&&google.maps.event.removeListener(b),k(google.maps.event.addListener(y,"content_changed",a)))},[a]),f.useEffect(function(){y&&u&&(M!==null&&google.maps.event.removeListener(M),I(google.maps.event.addListener(y,"position_changed",u)))},[u]),f.useEffect(function(){y&&c&&(W!==null&&google.maps.event.removeListener(W),$(google.maps.event.addListener(y,"zindex_changed",c)))},[c]),f.useEffect(function(){var z=new google.maps.InfoWindow(q({},i||{}));return E(z),H.current=document.createElement("div"),o&&v(google.maps.event.addListener(z,"closeclick",o)),l&&S(google.maps.event.addListener(z,"domready",l)),a&&k(google.maps.event.addListener(z,"content_changed",a)),u&&I(google.maps.event.addListener(z,"position_changed",u)),c&&$(google.maps.event.addListener(z,"zindex_changed",c)),z.setContent(H.current),r&&z.setPosition(r),s&&z.setZIndex(s),n?z.open(g,n):z.getPosition()?z.open(g):rt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),d&&d(z),function(){m&&google.maps.event.removeListener(m),b&&google.maps.event.removeListener(b),x&&google.maps.event.removeListener(x),M&&google.maps.event.removeListener(M),W&&google.maps.event.removeListener(W),h&&h(z),z.close()}},[]),H.current?rr.createPortal(f.Children.only(e),H.current):null}f.memo(qA);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=null,n.state={infoWindow:null},n.open=function(i,r){r?i.open(n.context,r):i.getPosition()?i.open(n.context):rt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},n.setInfoWindowCallback=function(){n.state.infoWindow!==null&&n.containerElement!==null&&(n.state.infoWindow.setContent(n.containerElement),n.open(n.state.infoWindow,n.props.anchor),n.props.onLoad&&n.props.onLoad(n.state.infoWindow))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.InfoWindow(q({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=pe({updaterMap:wy,eventMap:_y,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{infoWindow:n}},this.setInfoWindowCallback)},e.prototype.componentDidUpdate=function(n){this.state.infoWindow!==null&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:wy,eventMap:_y,prevProps:n,nextProps:this.props,instance:this.state.infoWindow}))},e.prototype.componentWillUnmount=function(){this.state.infoWindow!==null&&(ve(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},e.prototype.render=function(){return this.containerElement?rr.createPortal(f.Children.only(this.props.children),this.containerElement):null},e.contextType=ae,e})(f.PureComponent);var Cy={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Sy={draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},path:function(t,e){t.setPath(e)},visible:function(t,e){t.setVisible(e)}},YA={};function ZA(t){var e=t.options,n=t.draggable,i=t.editable,r=t.visible,s=t.path,o=t.onDblClick,l=t.onDragEnd,a=t.onDragStart,u=t.onMouseDown,c=t.onMouseMove,d=t.onMouseOut,h=t.onMouseOver,g=t.onMouseUp,w=t.onRightClick,y=t.onClick,E=t.onDrag,_=t.onLoad,m=t.onUnmount,v=f.useContext(ae),C=f.useState(null),x=C[0],S=C[1],L=f.useState(null),b=L[0],k=L[1],T=f.useState(null),M=T[0],I=T[1],O=f.useState(null),W=O[0],$=O[1],H=f.useState(null),z=H[0],A=H[1],j=f.useState(null),F=j[0],N=j[1],B=f.useState(null),Z=B[0],ee=B[1],ge=f.useState(null),D=ge[0],re=ge[1],Ne=f.useState(null),X=Ne[0],P=Ne[1],ie=f.useState(null),G=ie[0],oe=ie[1],me=f.useState(null),Ee=me[0],Ie=me[1],Ze=f.useState(null),Ae=Ze[0],De=Ze[1];return f.useEffect(function(){x!==null&&x.setMap(v)},[v]),f.useEffect(function(){typeof e<"u"&&x!==null&&x.setOptions(e)},[x,e]),f.useEffect(function(){typeof n<"u"&&x!==null&&x.setDraggable(n)},[x,n]),f.useEffect(function(){typeof i<"u"&&x!==null&&x.setEditable(i)},[x,i]),f.useEffect(function(){typeof r<"u"&&x!==null&&x.setVisible(r)},[x,r]),f.useEffect(function(){typeof s<"u"&&x!==null&&x.setPath(s)},[x,s]),f.useEffect(function(){x&&o&&(b!==null&&google.maps.event.removeListener(b),k(google.maps.event.addListener(x,"dblclick",o)))},[o]),f.useEffect(function(){x&&l&&(M!==null&&google.maps.event.removeListener(M),I(google.maps.event.addListener(x,"dragend",l)))},[l]),f.useEffect(function(){x&&a&&(W!==null&&google.maps.event.removeListener(W),$(google.maps.event.addListener(x,"dragstart",a)))},[a]),f.useEffect(function(){x&&u&&(z!==null&&google.maps.event.removeListener(z),A(google.maps.event.addListener(x,"mousedown",u)))},[u]),f.useEffect(function(){x&&c&&(F!==null&&google.maps.event.removeListener(F),N(google.maps.event.addListener(x,"mousemove",c)))},[c]),f.useEffect(function(){x&&d&&(Z!==null&&google.maps.event.removeListener(Z),ee(google.maps.event.addListener(x,"mouseout",d)))},[d]),f.useEffect(function(){x&&h&&(D!==null&&google.maps.event.removeListener(D),re(google.maps.event.addListener(x,"mouseover",h)))},[h]),f.useEffect(function(){x&&g&&(X!==null&&google.maps.event.removeListener(X),P(google.maps.event.addListener(x,"mouseup",g)))},[g]),f.useEffect(function(){x&&w&&(G!==null&&google.maps.event.removeListener(G),oe(google.maps.event.addListener(x,"rightclick",w)))},[w]),f.useEffect(function(){x&&y&&(Ee!==null&&google.maps.event.removeListener(Ee),Ie(google.maps.event.addListener(x,"click",y)))},[y]),f.useEffect(function(){x&&E&&(Ae!==null&&google.maps.event.removeListener(Ae),De(google.maps.event.addListener(x,"drag",E)))},[E]),f.useEffect(function(){var ue=new google.maps.Polyline(q(q({},e||YA),{map:v}));return s&&ue.setPath(s),typeof r<"u"&&ue.setVisible(r),typeof i<"u"&&ue.setEditable(i),typeof n<"u"&&ue.setDraggable(n),o&&k(google.maps.event.addListener(ue,"dblclick",o)),l&&I(google.maps.event.addListener(ue,"dragend",l)),a&&$(google.maps.event.addListener(ue,"dragstart",a)),u&&A(google.maps.event.addListener(ue,"mousedown",u)),c&&N(google.maps.event.addListener(ue,"mousemove",c)),d&&ee(google.maps.event.addListener(ue,"mouseout",d)),h&&re(google.maps.event.addListener(ue,"mouseover",h)),g&&P(google.maps.event.addListener(ue,"mouseup",g)),w&&oe(google.maps.event.addListener(ue,"rightclick",w)),y&&Ie(google.maps.event.addListener(ue,"click",y)),E&&De(google.maps.event.addListener(ue,"drag",E)),S(ue),_&&_(ue),function(){b!==null&&google.maps.event.removeListener(b),M!==null&&google.maps.event.removeListener(M),W!==null&&google.maps.event.removeListener(W),z!==null&&google.maps.event.removeListener(z),F!==null&&google.maps.event.removeListener(F),Z!==null&&google.maps.event.removeListener(Z),D!==null&&google.maps.event.removeListener(D),X!==null&&google.maps.event.removeListener(X),G!==null&&google.maps.event.removeListener(G),Ee!==null&&google.maps.event.removeListener(Ee),m&&m(ue),ue.setMap(null)}},[]),null}f.memo(ZA);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polyline:null},n.setPolylineCallback=function(){n.state.polyline!==null&&n.props.onLoad&&n.props.onLoad(n.state.polyline)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Polyline(q(q({},this.props.options||{}),{map:this.context}));this.registeredEvents=pe({updaterMap:Sy,eventMap:Cy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polyline:n}},this.setPolylineCallback)},e.prototype.componentDidUpdate=function(n){this.state.polyline!==null&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:Sy,eventMap:Cy,prevProps:n,nextProps:this.props,instance:this.state.polyline}))},e.prototype.componentWillUnmount=function(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),ve(this.registeredEvents),this.state.polyline.setMap(null))},e.prototype.render=function(){return null},e.contextType=ae,e})(f.PureComponent);var Ey={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},xy={draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},path:function(t,e){t.setPath(e)},paths:function(t,e){t.setPaths(e)},visible:function(t,e){t.setVisible(e)}};function XA(t){var e=t.options,n=t.draggable,i=t.editable,r=t.visible,s=t.path,o=t.paths,l=t.onDblClick,a=t.onDragEnd,u=t.onDragStart,c=t.onMouseDown,d=t.onMouseMove,h=t.onMouseOut,g=t.onMouseOver,w=t.onMouseUp,y=t.onRightClick,E=t.onClick,_=t.onDrag,m=t.onLoad,v=t.onUnmount,C=f.useContext(ae),x=f.useState(null),S=x[0],L=x[1],b=f.useState(null),k=b[0],T=b[1],M=f.useState(null),I=M[0],O=M[1],W=f.useState(null),$=W[0],H=W[1],z=f.useState(null),A=z[0],j=z[1],F=f.useState(null),N=F[0],B=F[1],Z=f.useState(null),ee=Z[0],ge=Z[1],D=f.useState(null),re=D[0],Ne=D[1],X=f.useState(null),P=X[0],ie=X[1],G=f.useState(null),oe=G[0],me=G[1],Ee=f.useState(null),Ie=Ee[0],Ze=Ee[1],Ae=f.useState(null),De=Ae[0],ue=Ae[1];return f.useEffect(function(){S!==null&&S.setMap(C)},[C]),f.useEffect(function(){typeof e<"u"&&S!==null&&S.setOptions(e)},[S,e]),f.useEffect(function(){typeof n<"u"&&S!==null&&S.setDraggable(n)},[S,n]),f.useEffect(function(){typeof i<"u"&&S!==null&&S.setEditable(i)},[S,i]),f.useEffect(function(){typeof r<"u"&&S!==null&&S.setVisible(r)},[S,r]),f.useEffect(function(){typeof s<"u"&&S!==null&&S.setPath(s)},[S,s]),f.useEffect(function(){typeof o<"u"&&S!==null&&S.setPaths(o)},[S,o]),f.useEffect(function(){S&&l&&(k!==null&&google.maps.event.removeListener(k),T(google.maps.event.addListener(S,"dblclick",l)))},[l]),f.useEffect(function(){S&&a&&(I!==null&&google.maps.event.removeListener(I),O(google.maps.event.addListener(S,"dragend",a)))},[a]),f.useEffect(function(){S&&u&&($!==null&&google.maps.event.removeListener($),H(google.maps.event.addListener(S,"dragstart",u)))},[u]),f.useEffect(function(){S&&c&&(A!==null&&google.maps.event.removeListener(A),j(google.maps.event.addListener(S,"mousedown",c)))},[c]),f.useEffect(function(){S&&d&&(N!==null&&google.maps.event.removeListener(N),B(google.maps.event.addListener(S,"mousemove",d)))},[d]),f.useEffect(function(){S&&h&&(ee!==null&&google.maps.event.removeListener(ee),ge(google.maps.event.addListener(S,"mouseout",h)))},[h]),f.useEffect(function(){S&&g&&(re!==null&&google.maps.event.removeListener(re),Ne(google.maps.event.addListener(S,"mouseover",g)))},[g]),f.useEffect(function(){S&&w&&(P!==null&&google.maps.event.removeListener(P),ie(google.maps.event.addListener(S,"mouseup",w)))},[w]),f.useEffect(function(){S&&y&&(oe!==null&&google.maps.event.removeListener(oe),me(google.maps.event.addListener(S,"rightclick",y)))},[y]),f.useEffect(function(){S&&E&&(Ie!==null&&google.maps.event.removeListener(Ie),Ze(google.maps.event.addListener(S,"click",E)))},[E]),f.useEffect(function(){S&&_&&(De!==null&&google.maps.event.removeListener(De),ue(google.maps.event.addListener(S,"drag",_)))},[_]),f.useEffect(function(){var le=new google.maps.Polygon(q(q({},e||{}),{map:C}));return s&&le.setPath(s),o&&le.setPaths(o),typeof r<"u"&&le.setVisible(r),typeof i<"u"&&le.setEditable(i),typeof n<"u"&&le.setDraggable(n),l&&T(google.maps.event.addListener(le,"dblclick",l)),a&&O(google.maps.event.addListener(le,"dragend",a)),u&&H(google.maps.event.addListener(le,"dragstart",u)),c&&j(google.maps.event.addListener(le,"mousedown",c)),d&&B(google.maps.event.addListener(le,"mousemove",d)),h&&ge(google.maps.event.addListener(le,"mouseout",h)),g&&Ne(google.maps.event.addListener(le,"mouseover",g)),w&&ie(google.maps.event.addListener(le,"mouseup",w)),y&&me(google.maps.event.addListener(le,"rightclick",y)),E&&Ze(google.maps.event.addListener(le,"click",E)),_&&ue(google.maps.event.addListener(le,"drag",_)),L(le),m&&m(le),function(){k!==null&&google.maps.event.removeListener(k),I!==null&&google.maps.event.removeListener(I),$!==null&&google.maps.event.removeListener($),A!==null&&google.maps.event.removeListener(A),N!==null&&google.maps.event.removeListener(N),ee!==null&&google.maps.event.removeListener(ee),re!==null&&google.maps.event.removeListener(re),P!==null&&google.maps.event.removeListener(P),oe!==null&&google.maps.event.removeListener(oe),Ie!==null&&google.maps.event.removeListener(Ie),v&&v(le),le.setMap(null)}},[]),null}f.memo(XA);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={polygon:null},n.setPolygonCallback=function(){n.state.polygon!==null&&n.props.onLoad&&n.props.onLoad(n.state.polygon)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Polygon(q(q({},this.props.options||{}),{map:this.context}));this.registeredEvents=pe({updaterMap:xy,eventMap:Ey,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{polygon:n}},this.setPolygonCallback)},e.prototype.componentDidUpdate=function(n){this.state.polygon!==null&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:xy,eventMap:Ey,prevProps:n,nextProps:this.props,instance:this.state.polygon}))},e.prototype.componentWillUnmount=function(){this.state.polygon!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),ve(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},e.prototype.render=function(){return null},e.contextType=ae,e})(f.PureComponent);var by={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ly={bounds:function(t,e){t.setBounds(e)},draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},visible:function(t,e){t.setVisible(e)}};function JA(t){var e=t.options,n=t.bounds,i=t.draggable,r=t.editable,s=t.visible,o=t.onDblClick,l=t.onDragEnd,a=t.onDragStart,u=t.onMouseDown,c=t.onMouseMove,d=t.onMouseOut,h=t.onMouseOver,g=t.onMouseUp,w=t.onRightClick,y=t.onClick,E=t.onDrag,_=t.onBoundsChanged,m=t.onLoad,v=t.onUnmount,C=f.useContext(ae),x=f.useState(null),S=x[0],L=x[1],b=f.useState(null),k=b[0],T=b[1],M=f.useState(null),I=M[0],O=M[1],W=f.useState(null),$=W[0],H=W[1],z=f.useState(null),A=z[0],j=z[1],F=f.useState(null),N=F[0],B=F[1],Z=f.useState(null),ee=Z[0],ge=Z[1],D=f.useState(null),re=D[0],Ne=D[1],X=f.useState(null),P=X[0],ie=X[1],G=f.useState(null),oe=G[0],me=G[1],Ee=f.useState(null),Ie=Ee[0],Ze=Ee[1],Ae=f.useState(null),De=Ae[0],ue=Ae[1],le=f.useState(null),ot=le[0],ht=le[1];return f.useEffect(function(){S!==null&&S.setMap(C)},[C]),f.useEffect(function(){typeof e<"u"&&S!==null&&S.setOptions(e)},[S,e]),f.useEffect(function(){typeof i<"u"&&S!==null&&S.setDraggable(i)},[S,i]),f.useEffect(function(){typeof r<"u"&&S!==null&&S.setEditable(r)},[S,r]),f.useEffect(function(){typeof s<"u"&&S!==null&&S.setVisible(s)},[S,s]),f.useEffect(function(){typeof n<"u"&&S!==null&&S.setBounds(n)},[S,n]),f.useEffect(function(){S&&o&&(k!==null&&google.maps.event.removeListener(k),T(google.maps.event.addListener(S,"dblclick",o)))},[o]),f.useEffect(function(){S&&l&&(I!==null&&google.maps.event.removeListener(I),O(google.maps.event.addListener(S,"dragend",l)))},[l]),f.useEffect(function(){S&&a&&($!==null&&google.maps.event.removeListener($),H(google.maps.event.addListener(S,"dragstart",a)))},[a]),f.useEffect(function(){S&&u&&(A!==null&&google.maps.event.removeListener(A),j(google.maps.event.addListener(S,"mousedown",u)))},[u]),f.useEffect(function(){S&&c&&(N!==null&&google.maps.event.removeListener(N),B(google.maps.event.addListener(S,"mousemove",c)))},[c]),f.useEffect(function(){S&&d&&(ee!==null&&google.maps.event.removeListener(ee),ge(google.maps.event.addListener(S,"mouseout",d)))},[d]),f.useEffect(function(){S&&h&&(re!==null&&google.maps.event.removeListener(re),Ne(google.maps.event.addListener(S,"mouseover",h)))},[h]),f.useEffect(function(){S&&g&&(P!==null&&google.maps.event.removeListener(P),ie(google.maps.event.addListener(S,"mouseup",g)))},[g]),f.useEffect(function(){S&&w&&(oe!==null&&google.maps.event.removeListener(oe),me(google.maps.event.addListener(S,"rightclick",w)))},[w]),f.useEffect(function(){S&&y&&(Ie!==null&&google.maps.event.removeListener(Ie),Ze(google.maps.event.addListener(S,"click",y)))},[y]),f.useEffect(function(){S&&E&&(De!==null&&google.maps.event.removeListener(De),ue(google.maps.event.addListener(S,"drag",E)))},[E]),f.useEffect(function(){S&&_&&(ot!==null&&google.maps.event.removeListener(ot),ht(google.maps.event.addListener(S,"bounds_changed",_)))},[_]),f.useEffect(function(){var J=new google.maps.Rectangle(q(q({},e||{}),{map:C}));return typeof s<"u"&&J.setVisible(s),typeof r<"u"&&J.setEditable(r),typeof i<"u"&&J.setDraggable(i),typeof n<"u"&&J.setBounds(n),o&&T(google.maps.event.addListener(J,"dblclick",o)),l&&O(google.maps.event.addListener(J,"dragend",l)),a&&H(google.maps.event.addListener(J,"dragstart",a)),u&&j(google.maps.event.addListener(J,"mousedown",u)),c&&B(google.maps.event.addListener(J,"mousemove",c)),d&&ge(google.maps.event.addListener(J,"mouseout",d)),h&&Ne(google.maps.event.addListener(J,"mouseover",h)),g&&ie(google.maps.event.addListener(J,"mouseup",g)),w&&me(google.maps.event.addListener(J,"rightclick",w)),y&&Ze(google.maps.event.addListener(J,"click",y)),E&&ue(google.maps.event.addListener(J,"drag",E)),_&&ht(google.maps.event.addListener(J,"bounds_changed",_)),L(J),m&&m(J),function(){k!==null&&google.maps.event.removeListener(k),I!==null&&google.maps.event.removeListener(I),$!==null&&google.maps.event.removeListener($),A!==null&&google.maps.event.removeListener(A),N!==null&&google.maps.event.removeListener(N),ee!==null&&google.maps.event.removeListener(ee),re!==null&&google.maps.event.removeListener(re),P!==null&&google.maps.event.removeListener(P),oe!==null&&google.maps.event.removeListener(oe),Ie!==null&&google.maps.event.removeListener(Ie),De!==null&&google.maps.event.removeListener(De),ot!==null&&google.maps.event.removeListener(ot),v&&v(J),J.setMap(null)}},[]),null}f.memo(JA);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={rectangle:null},n.setRectangleCallback=function(){n.state.rectangle!==null&&n.props.onLoad&&n.props.onLoad(n.state.rectangle)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Rectangle(q(q({},this.props.options||{}),{map:this.context}));this.registeredEvents=pe({updaterMap:Ly,eventMap:by,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{rectangle:n}},this.setRectangleCallback)},e.prototype.componentDidUpdate=function(n){this.state.rectangle!==null&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:Ly,eventMap:by,prevProps:n,nextProps:this.props,instance:this.state.rectangle}))},e.prototype.componentWillUnmount=function(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),ve(this.registeredEvents),this.state.rectangle.setMap(null))},e.prototype.render=function(){return null},e.contextType=ae,e})(f.PureComponent);var ky={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ty={center:function(t,e){t.setCenter(e)},draggable:function(t,e){t.setDraggable(e)},editable:function(t,e){t.setEditable(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},radius:function(t,e){t.setRadius(e)},visible:function(t,e){t.setVisible(e)}},eD={};function tD(t){var e=t.options,n=t.center,i=t.radius,r=t.draggable,s=t.editable,o=t.visible,l=t.onDblClick,a=t.onDragEnd,u=t.onDragStart,c=t.onMouseDown,d=t.onMouseMove,h=t.onMouseOut,g=t.onMouseOver,w=t.onMouseUp,y=t.onRightClick,E=t.onClick,_=t.onDrag,m=t.onCenterChanged,v=t.onRadiusChanged,C=t.onLoad,x=t.onUnmount,S=f.useContext(ae),L=f.useState(null),b=L[0],k=L[1],T=f.useState(null),M=T[0],I=T[1],O=f.useState(null),W=O[0],$=O[1],H=f.useState(null),z=H[0],A=H[1],j=f.useState(null),F=j[0],N=j[1],B=f.useState(null),Z=B[0],ee=B[1],ge=f.useState(null),D=ge[0],re=ge[1],Ne=f.useState(null),X=Ne[0],P=Ne[1],ie=f.useState(null),G=ie[0],oe=ie[1],me=f.useState(null),Ee=me[0],Ie=me[1],Ze=f.useState(null),Ae=Ze[0],De=Ze[1],ue=f.useState(null),le=ue[0],ot=ue[1],ht=f.useState(null),J=ht[0],Kt=ht[1],ar=f.useState(null),bn=ar[0],lr=ar[1];return f.useEffect(function(){b!==null&&b.setMap(S)},[S]),f.useEffect(function(){typeof e<"u"&&b!==null&&b.setOptions(e)},[b,e]),f.useEffect(function(){typeof r<"u"&&b!==null&&b.setDraggable(r)},[b,r]),f.useEffect(function(){typeof s<"u"&&b!==null&&b.setEditable(s)},[b,s]),f.useEffect(function(){typeof o<"u"&&b!==null&&b.setVisible(o)},[b,o]),f.useEffect(function(){typeof i=="number"&&b!==null&&b.setRadius(i)},[b,i]),f.useEffect(function(){typeof n<"u"&&b!==null&&b.setCenter(n)},[b,n]),f.useEffect(function(){b&&l&&(M!==null&&google.maps.event.removeListener(M),I(google.maps.event.addListener(b,"dblclick",l)))},[l]),f.useEffect(function(){b&&a&&(W!==null&&google.maps.event.removeListener(W),$(google.maps.event.addListener(b,"dragend",a)))},[a]),f.useEffect(function(){b&&u&&(z!==null&&google.maps.event.removeListener(z),A(google.maps.event.addListener(b,"dragstart",u)))},[u]),f.useEffect(function(){b&&c&&(F!==null&&google.maps.event.removeListener(F),N(google.maps.event.addListener(b,"mousedown",c)))},[c]),f.useEffect(function(){b&&d&&(Z!==null&&google.maps.event.removeListener(Z),ee(google.maps.event.addListener(b,"mousemove",d)))},[d]),f.useEffect(function(){b&&h&&(D!==null&&google.maps.event.removeListener(D),re(google.maps.event.addListener(b,"mouseout",h)))},[h]),f.useEffect(function(){b&&g&&(X!==null&&google.maps.event.removeListener(X),P(google.maps.event.addListener(b,"mouseover",g)))},[g]),f.useEffect(function(){b&&w&&(G!==null&&google.maps.event.removeListener(G),oe(google.maps.event.addListener(b,"mouseup",w)))},[w]),f.useEffect(function(){b&&y&&(Ee!==null&&google.maps.event.removeListener(Ee),Ie(google.maps.event.addListener(b,"rightclick",y)))},[y]),f.useEffect(function(){b&&E&&(Ae!==null&&google.maps.event.removeListener(Ae),De(google.maps.event.addListener(b,"click",E)))},[E]),f.useEffect(function(){b&&_&&(le!==null&&google.maps.event.removeListener(le),ot(google.maps.event.addListener(b,"drag",_)))},[_]),f.useEffect(function(){b&&m&&(J!==null&&google.maps.event.removeListener(J),Kt(google.maps.event.addListener(b,"center_changed",m)))},[E]),f.useEffect(function(){b&&v&&(bn!==null&&google.maps.event.removeListener(bn),lr(google.maps.event.addListener(b,"radius_changed",v)))},[v]),f.useEffect(function(){var Pe=new google.maps.Circle(q(q({},e||eD),{map:S}));return typeof i=="number"&&Pe.setRadius(i),typeof n<"u"&&Pe.setCenter(n),typeof i=="number"&&Pe.setRadius(i),typeof o<"u"&&Pe.setVisible(o),typeof s<"u"&&Pe.setEditable(s),typeof r<"u"&&Pe.setDraggable(r),l&&I(google.maps.event.addListener(Pe,"dblclick",l)),a&&$(google.maps.event.addListener(Pe,"dragend",a)),u&&A(google.maps.event.addListener(Pe,"dragstart",u)),c&&N(google.maps.event.addListener(Pe,"mousedown",c)),d&&ee(google.maps.event.addListener(Pe,"mousemove",d)),h&&re(google.maps.event.addListener(Pe,"mouseout",h)),g&&P(google.maps.event.addListener(Pe,"mouseover",g)),w&&oe(google.maps.event.addListener(Pe,"mouseup",w)),y&&Ie(google.maps.event.addListener(Pe,"rightclick",y)),E&&De(google.maps.event.addListener(Pe,"click",E)),_&&ot(google.maps.event.addListener(Pe,"drag",_)),m&&Kt(google.maps.event.addListener(Pe,"center_changed",m)),v&&lr(google.maps.event.addListener(Pe,"radius_changed",v)),k(Pe),C&&C(Pe),function(){M!==null&&google.maps.event.removeListener(M),W!==null&&google.maps.event.removeListener(W),z!==null&&google.maps.event.removeListener(z),F!==null&&google.maps.event.removeListener(F),Z!==null&&google.maps.event.removeListener(Z),D!==null&&google.maps.event.removeListener(D),X!==null&&google.maps.event.removeListener(X),G!==null&&google.maps.event.removeListener(G),Ee!==null&&google.maps.event.removeListener(Ee),Ae!==null&&google.maps.event.removeListener(Ae),J!==null&&google.maps.event.removeListener(J),bn!==null&&google.maps.event.removeListener(bn),x&&x(Pe),Pe.setMap(null)}},[]),null}f.memo(tD);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={circle:null},n.setCircleCallback=function(){n.state.circle!==null&&n.props.onLoad&&n.props.onLoad(n.state.circle)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.Circle(q(q({},this.props.options||{}),{map:this.context}));this.registeredEvents=pe({updaterMap:Ty,eventMap:ky,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{circle:n}},this.setCircleCallback)},e.prototype.componentDidUpdate=function(n){this.state.circle!==null&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:Ty,eventMap:ky,prevProps:n,nextProps:this.props,instance:this.state.circle}))},e.prototype.componentWillUnmount=function(){var n;this.state.circle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),ve(this.registeredEvents),(n=this.state.circle)===null||n===void 0||n.setMap(null))},e.prototype.render=function(){return null},e.contextType=ae,e})(f.PureComponent);var Iy={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Py={add:function(t,e){t.add(e)},addgeojson:function(t,e,n){t.addGeoJson(e,n)},contains:function(t,e){t.contains(e)},foreach:function(t,e){t.forEach(e)},loadgeojson:function(t,e,n,i){t.loadGeoJson(e,n,i)},overridestyle:function(t,e,n){t.overrideStyle(e,n)},remove:function(t,e){t.remove(e)},revertstyle:function(t,e){t.revertStyle(e)},controlposition:function(t,e){t.setControlPosition(e)},controls:function(t,e){t.setControls(e)},drawingmode:function(t,e){t.setDrawingMode(e)},map:function(t,e){t.setMap(e)},style:function(t,e){t.setStyle(e)},togeojson:function(t,e){t.toGeoJson(e)}};function nD(t){var e=t.options,n=t.onClick,i=t.onDblClick,r=t.onMouseDown,s=t.onMouseMove,o=t.onMouseOut,l=t.onMouseOver,a=t.onMouseUp,u=t.onRightClick,c=t.onAddFeature,d=t.onRemoveFeature,h=t.onRemoveProperty,g=t.onSetGeometry,w=t.onSetProperty,y=t.onLoad,E=t.onUnmount,_=f.useContext(ae),m=f.useState(null),v=m[0],C=m[1],x=f.useState(null),S=x[0],L=x[1],b=f.useState(null),k=b[0],T=b[1],M=f.useState(null),I=M[0],O=M[1],W=f.useState(null),$=W[0],H=W[1],z=f.useState(null),A=z[0],j=z[1],F=f.useState(null),N=F[0],B=F[1],Z=f.useState(null),ee=Z[0],ge=Z[1],D=f.useState(null),re=D[0],Ne=D[1],X=f.useState(null),P=X[0],ie=X[1],G=f.useState(null),oe=G[0],me=G[1],Ee=f.useState(null),Ie=Ee[0],Ze=Ee[1],Ae=f.useState(null),De=Ae[0],ue=Ae[1],le=f.useState(null),ot=le[0],ht=le[1];return f.useEffect(function(){v!==null&&v.setMap(_)},[_]),f.useEffect(function(){v&&i&&(S!==null&&google.maps.event.removeListener(S),L(google.maps.event.addListener(v,"dblclick",i)))},[i]),f.useEffect(function(){v&&r&&(k!==null&&google.maps.event.removeListener(k),T(google.maps.event.addListener(v,"mousedown",r)))},[r]),f.useEffect(function(){v&&s&&(I!==null&&google.maps.event.removeListener(I),O(google.maps.event.addListener(v,"mousemove",s)))},[s]),f.useEffect(function(){v&&o&&($!==null&&google.maps.event.removeListener($),H(google.maps.event.addListener(v,"mouseout",o)))},[o]),f.useEffect(function(){v&&l&&(A!==null&&google.maps.event.removeListener(A),j(google.maps.event.addListener(v,"mouseover",l)))},[l]),f.useEffect(function(){v&&a&&(N!==null&&google.maps.event.removeListener(N),B(google.maps.event.addListener(v,"mouseup",a)))},[a]),f.useEffect(function(){v&&u&&(ee!==null&&google.maps.event.removeListener(ee),ge(google.maps.event.addListener(v,"rightclick",u)))},[u]),f.useEffect(function(){v&&n&&(re!==null&&google.maps.event.removeListener(re),Ne(google.maps.event.addListener(v,"click",n)))},[n]),f.useEffect(function(){v&&c&&(P!==null&&google.maps.event.removeListener(P),ie(google.maps.event.addListener(v,"addfeature",c)))},[c]),f.useEffect(function(){v&&d&&(oe!==null&&google.maps.event.removeListener(oe),me(google.maps.event.addListener(v,"removefeature",d)))},[d]),f.useEffect(function(){v&&h&&(Ie!==null&&google.maps.event.removeListener(Ie),Ze(google.maps.event.addListener(v,"removeproperty",h)))},[h]),f.useEffect(function(){v&&g&&(De!==null&&google.maps.event.removeListener(De),ue(google.maps.event.addListener(v,"setgeometry",g)))},[g]),f.useEffect(function(){v&&w&&(ot!==null&&google.maps.event.removeListener(ot),ht(google.maps.event.addListener(v,"setproperty",w)))},[w]),f.useEffect(function(){if(_!==null){var J=new google.maps.Data(q(q({},e||{}),{map:_}));i&&L(google.maps.event.addListener(J,"dblclick",i)),r&&T(google.maps.event.addListener(J,"mousedown",r)),s&&O(google.maps.event.addListener(J,"mousemove",s)),o&&H(google.maps.event.addListener(J,"mouseout",o)),l&&j(google.maps.event.addListener(J,"mouseover",l)),a&&B(google.maps.event.addListener(J,"mouseup",a)),u&&ge(google.maps.event.addListener(J,"rightclick",u)),n&&Ne(google.maps.event.addListener(J,"click",n)),c&&ie(google.maps.event.addListener(J,"addfeature",c)),d&&me(google.maps.event.addListener(J,"removefeature",d)),h&&Ze(google.maps.event.addListener(J,"removeproperty",h)),g&&ue(google.maps.event.addListener(J,"setgeometry",g)),w&&ht(google.maps.event.addListener(J,"setproperty",w)),C(J),y&&y(J)}return function(){v&&(S!==null&&google.maps.event.removeListener(S),k!==null&&google.maps.event.removeListener(k),I!==null&&google.maps.event.removeListener(I),$!==null&&google.maps.event.removeListener($),A!==null&&google.maps.event.removeListener(A),N!==null&&google.maps.event.removeListener(N),ee!==null&&google.maps.event.removeListener(ee),re!==null&&google.maps.event.removeListener(re),P!==null&&google.maps.event.removeListener(P),oe!==null&&google.maps.event.removeListener(oe),Ie!==null&&google.maps.event.removeListener(Ie),De!==null&&google.maps.event.removeListener(De),ot!==null&&google.maps.event.removeListener(ot),E&&E(v),v.setMap(null))}},[]),null}f.memo(nD);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={data:null},n.setDataCallback=function(){n.state.data!==null&&n.props.onLoad&&n.props.onLoad(n.state.data)},n}return e.prototype.componentDidMount=function(){if(this.context!==null){var n=new google.maps.Data(q(q({},this.props.options||{}),{map:this.context}));this.registeredEvents=pe({updaterMap:Py,eventMap:Iy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{data:n}},this.setDataCallback)}},e.prototype.componentDidUpdate=function(n){this.state.data!==null&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:Py,eventMap:Iy,prevProps:n,nextProps:this.props,instance:this.state.data}))},e.prototype.componentWillUnmount=function(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),ve(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},e.prototype.render=function(){return null},e.contextType=ae,e})(f.PureComponent);var My={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Ny={options:function(t,e){t.setOptions(e)},url:function(t,e){t.setUrl(e)},zIndex:function(t,e){t.setZIndex(e)}};(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={kmlLayer:null},n.setKmlLayerCallback=function(){n.state.kmlLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.kmlLayer)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.KmlLayer(q(q({},this.props.options),{map:this.context}));this.registeredEvents=pe({updaterMap:Ny,eventMap:My,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{kmlLayer:n}},this.setKmlLayerCallback)},e.prototype.componentDidUpdate=function(n){this.state.kmlLayer!==null&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:Ny,eventMap:My,prevProps:n,nextProps:this.props,instance:this.state.kmlLayer}))},e.prototype.componentWillUnmount=function(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),ve(this.registeredEvents),this.state.kmlLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=ae,e})(f.PureComponent);function nE(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function iD(t,e){return new e(t.lat,t.lng)}function rD(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function sD(t,e,n){return t instanceof e?t:n(t,e)}function oD(t,e,n){return t instanceof e?t:n(t,e)}function aD(t,e,n){var i=t&&t.fromLatLngToDivPixel(n.getNorthEast()),r=t&&t.fromLatLngToDivPixel(n.getSouthWest());return i&&r?{left:"".concat(r.x+e.x,"px"),top:"".concat(i.y+e.y,"px"),width:"".concat(i.x-r.x-e.x,"px"),height:"".concat(r.y-i.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function lD(t,e,n){var i=t&&t.fromLatLngToDivPixel(n);if(i){var r=i.x,s=i.y;return{left:"".concat(r+e.x,"px"),top:"".concat(s+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function iE(t,e,n,i){return n!==void 0?aD(t,e,oD(n,google.maps.LatLngBounds,rD)):lD(t,e,sD(i,google.maps.LatLng,iD))}function uD(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function cD(t,e,n,i,r){var s=function(o){Oe(l,o);function l(a,u,c,d){var h=o.call(this)||this;return h.container=a,h.pane=u,h.position=c,h.bounds=d,h}return l.prototype.onAdd=function(){var a,u=(a=this.getPanes())===null||a===void 0?void 0:a[this.pane];u==null||u.appendChild(this.container)},l.prototype.draw=function(){for(var a=this.getProjection(),u=q({},this.container?nE(this.container,r):{x:0,y:0}),c=iE(a,u,this.bounds,this.position),d=0,h=Object.entries(c);d<h.length;d++){var g=h[d],w=g[0],y=g[1];this.container.style[w]=y}},l.prototype.onRemove=function(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)},l}(google.maps.OverlayView);return new s(t,e,n,i)}function Ry(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function Oy(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function dD(t){var e=t.position,n=t.bounds,i=t.mapPaneName,r=t.zIndex,s=t.onLoad,o=t.onUnmount,l=t.getPixelPositionOffset,a=t.children,u=f.useContext(ae),c=f.useMemo(function(){var h=document.createElement("div");return h.style.position="absolute",h},[]),d=f.useMemo(function(){return cD(c,i,e,n,l)},[c,i,e,n]);return f.useEffect(function(){return s==null||s(d),d==null||d.setMap(u),function(){o==null||o(d),d==null||d.setMap(null)}},[u,d]),f.useEffect(function(){c.style.zIndex="".concat(r)},[r,c]),rr.createPortal(a,c)}f.memo(dD);(function(t){Oe(e,t);function e(n){var i=t.call(this,n)||this;i.state={paneEl:null,containerStyle:{position:"absolute"}},i.updatePane=function(){var s=i.props.mapPaneName,o=i.overlayView.getPanes();rt(!!s,"OverlayView requires props.mapPaneName but got %s",s),o?i.setState({paneEl:o[s]}):i.setState({paneEl:null})},i.onAdd=function(){var s,o;i.updatePane(),(o=(s=i.props).onLoad)===null||o===void 0||o.call(s,i.overlayView)},i.onPositionElement=function(){var s,o=i.overlayView.getProjection(),l=q({x:0,y:0},i.containerRef.current?nE(i.containerRef.current,i.props.getPixelPositionOffset):{}),a=iE(o,l,i.props.bounds,i.props.position),u=(s=i.state.containerStyle,s.left),c=s.top,d=s.width,h=s.height;uD(a,{left:u,top:c,width:d,height:h})||i.setState({containerStyle:{top:a.top||0,left:a.left||0,width:a.width||0,height:a.height||0,position:"absolute"}})},i.draw=function(){i.onPositionElement()},i.onRemove=function(){var s,o;i.setState(function(){return{paneEl:null}}),(o=(s=i.props).onUnmount)===null||o===void 0||o.call(s,i.overlayView)},i.containerRef=f.createRef();var r=new google.maps.OverlayView;return r.onAdd=i.onAdd,r.draw=i.draw,r.onRemove=i.onRemove,i.overlayView=r,i}return e.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},e.prototype.componentDidUpdate=function(n){var i=Ry(n.position),r=Ry(this.props.position),s=Oy(n.bounds),o=Oy(this.props.bounds);(i!==r||s!==o)&&this.overlayView.draw(),n.mapPaneName!==this.props.mapPaneName&&this.updatePane()},e.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},e.prototype.render=function(){var n=this.state.paneEl;return n?rr.createPortal(p.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:f.Children.only(this.props.children)}),n):null},e.FLOAT_PANE="floatPane",e.MAP_PANE="mapPane",e.MARKER_LAYER="markerLayer",e.OVERLAY_LAYER="overlayLayer",e.OVERLAY_MOUSE_TARGET="overlayMouseTarget",e.contextType=ae,e})(f.PureComponent);function fD(){}var Ay={onDblClick:"dblclick",onClick:"click"},Dy={opacity:function(t,e){t.setOpacity(e)}};function hD(t){var e=t.url,n=t.bounds,i=t.options,r=t.visible,s=f.useContext(ae),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=f.useMemo(function(){var a=new google.maps.GroundOverlay(e,o,q({},i));return a},[]);return f.useEffect(function(){l!==null&&l.setMap(s)},[s]),f.useEffect(function(){typeof e<"u"&&l!==null&&(l.set("url",e),l.setMap(s))},[l,e]),f.useEffect(function(){typeof r<"u"&&l!==null&&l.setOpacity(r?1:0)},[l,r]),f.useEffect(function(){var a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&l!==null&&(l.set("bounds",a),l.setMap(s))},[l,n]),null}f.memo(hD);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={groundOverlay:null},n.setGroundOverlayCallback=function(){n.state.groundOverlay!==null&&n.props.onLoad&&n.props.onLoad(n.state.groundOverlay)},n}return e.prototype.componentDidMount=function(){rt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var n=new google.maps.GroundOverlay(this.props.url,this.props.bounds,q(q({},this.props.options),{map:this.context}));this.registeredEvents=pe({updaterMap:Dy,eventMap:Ay,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{groundOverlay:n}},this.setGroundOverlayCallback)},e.prototype.componentDidUpdate=function(n){this.state.groundOverlay!==null&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:Dy,eventMap:Ay,prevProps:n,nextProps:this.props,instance:this.state.groundOverlay}))},e.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},e.prototype.render=function(){return null},e.defaultProps={onLoad:fD},e.contextType=ae,e})(f.PureComponent);var jy={},Fy={data:function(t,e){t.setData(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)}};function pD(t){var e=t.data,n=t.onLoad,i=t.onUnmount,r=t.options,s=f.useContext(ae),o=f.useState(null),l=o[0],a=o[1];return f.useEffect(function(){google.maps.visualization||rt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),f.useEffect(function(){rt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),f.useEffect(function(){l!==null&&l.setMap(s)},[s]),f.useEffect(function(){r&&l!==null&&l.setOptions(r)},[l,r]),f.useEffect(function(){var u=new google.maps.visualization.HeatmapLayer(q(q({},r||{}),{data:e,map:s}));return a(u),n&&n(u),function(){l!==null&&(i&&i(l),l.setMap(null))}},[]),null}f.memo(pD);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={heatmapLayer:null},n.setHeatmapLayerCallback=function(){n.state.heatmapLayer!==null&&n.props.onLoad&&n.props.onLoad(n.state.heatmapLayer)},n}return e.prototype.componentDidMount=function(){rt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),rt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var n=new google.maps.visualization.HeatmapLayer(q(q({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=pe({updaterMap:Fy,eventMap:jy,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{heatmapLayer:n}},this.setHeatmapLayerCallback)},e.prototype.componentDidUpdate=function(n){ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:Fy,eventMap:jy,prevProps:n,nextProps:this.props,instance:this.state.heatmapLayer})},e.prototype.componentWillUnmount=function(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),ve(this.registeredEvents),this.state.heatmapLayer.setMap(null))},e.prototype.render=function(){return null},e.contextType=ae,e})(f.PureComponent);var Uy={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},zy={register:function(t,e,n){t.registerPanoProvider(e,n)},links:function(t,e){t.setLinks(e)},motionTracking:function(t,e){t.setMotionTracking(e)},options:function(t,e){t.setOptions(e)},pano:function(t,e){t.setPano(e)},position:function(t,e){t.setPosition(e)},pov:function(t,e){t.setPov(e)},visible:function(t,e){t.setVisible(e)},zoom:function(t,e){t.setZoom(e)}};(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={streetViewPanorama:null},n.setStreetViewPanoramaCallback=function(){n.state.streetViewPanorama!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewPanorama)},n}return e.prototype.componentDidMount=function(){var n,i,r=(i=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&i!==void 0?i:null;this.registeredEvents=pe({updaterMap:zy,eventMap:Uy,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{streetViewPanorama:r}},this.setStreetViewPanoramaCallback)},e.prototype.componentDidUpdate=function(n){this.state.streetViewPanorama!==null&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:zy,eventMap:Uy,prevProps:n,nextProps:this.props,instance:this.state.streetViewPanorama}))},e.prototype.componentWillUnmount=function(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),ve(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},e.prototype.render=function(){return null},e.contextType=ae,e})(f.PureComponent);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={streetViewService:null},n.setStreetViewServiceCallback=function(){n.state.streetViewService!==null&&n.props.onLoad&&n.props.onLoad(n.state.streetViewService)},n}return e.prototype.componentDidMount=function(){var n=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:n}},this.setStreetViewServiceCallback)},e.prototype.componentWillUnmount=function(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},e.prototype.render=function(){return null},e.contextType=ae,e})(f.PureComponent);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={directionsService:null},n.setDirectionsServiceCallback=function(){n.state.directionsService!==null&&n.props.onLoad&&n.props.onLoad(n.state.directionsService)},n}return e.prototype.componentDidMount=function(){rt(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var n=new google.maps.DirectionsService;this.setState(function(){return{directionsService:n}},this.setDirectionsServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.directionsService!==null&&this.state.directionsService.route(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.directionsService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},e.prototype.render=function(){return null},e})(f.PureComponent);var By={onDirectionsChanged:"directions_changed"},$y={directions:function(t,e){t.setDirections(e)},map:function(t,e){t.setMap(e)},options:function(t,e){t.setOptions(e)},panel:function(t,e){t.setPanel(e)},routeIndex:function(t,e){t.setRouteIndex(e)}},gD=function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.state={directionsRenderer:null},n.setDirectionsRendererCallback=function(){n.state.directionsRenderer!==null&&(n.state.directionsRenderer.setMap(n.context),n.props.onLoad&&n.props.onLoad(n.state.directionsRenderer))},n}return e.prototype.componentDidMount=function(){var n=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=pe({updaterMap:$y,eventMap:By,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{directionsRenderer:n}},this.setDirectionsRendererCallback)},e.prototype.componentDidUpdate=function(n){this.state.directionsRenderer!==null&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:$y,eventMap:By,prevProps:n,nextProps:this.props,instance:this.state.directionsRenderer}))},e.prototype.componentWillUnmount=function(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),ve(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},e.prototype.render=function(){return p.jsx(p.Fragment,{})},e.contextType=ae,e}(f.PureComponent);(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={distanceMatrixService:null},n.setDistanceMatrixServiceCallback=function(){n.state.distanceMatrixService!==null&&n.props.onLoad&&n.props.onLoad(n.state.distanceMatrixService)},n}return e.prototype.componentDidMount=function(){rt(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var n=new google.maps.DistanceMatrixService;this.setState(function(){return{distanceMatrixService:n}},this.setDistanceMatrixServiceCallback)},e.prototype.componentDidUpdate=function(){this.state.distanceMatrixService!==null&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},e.prototype.componentWillUnmount=function(){this.state.distanceMatrixService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},e.prototype.render=function(){return null},e})(f.PureComponent);var Vy={onPlacesChanged:"places_changed"},Wy={bounds:function(t,e){t.setBounds(e)}};(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=f.createRef(),n.state={searchBox:null},n.setSearchBoxCallback=function(){n.state.searchBox!==null&&n.props.onLoad&&n.props.onLoad(n.state.searchBox)},n}return e.prototype.componentDidMount=function(){if(rt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var n=this.containerElement.current.querySelector("input");if(n!==null){var i=new google.maps.places.SearchBox(n,this.props.options);this.registeredEvents=pe({updaterMap:Wy,eventMap:Vy,prevProps:{},nextProps:this.props,instance:i}),this.setState(function(){return{searchBox:i}},this.setSearchBoxCallback)}}},e.prototype.componentDidUpdate=function(n){this.state.searchBox!==null&&(ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:Wy,eventMap:Vy,prevProps:n,nextProps:this.props,instance:this.state.searchBox}))},e.prototype.componentWillUnmount=function(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),ve(this.registeredEvents))},e.prototype.render=function(){return p.jsx("div",{ref:this.containerElement,children:f.Children.only(this.props.children)})},e.contextType=ae,e})(f.PureComponent);var Hy={onPlaceChanged:"place_changed"},Gy={bounds:function(t,e){t.setBounds(e)},restrictions:function(t,e){t.setComponentRestrictions(e)},fields:function(t,e){t.setFields(e)},options:function(t,e){t.setOptions(e)},types:function(t,e){t.setTypes(e)}};(function(t){Oe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.registeredEvents=[],n.containerElement=f.createRef(),n.state={autocomplete:null},n.setAutocompleteCallback=function(){n.state.autocomplete!==null&&n.props.onLoad&&n.props.onLoad(n.state.autocomplete)},n}return e.prototype.componentDidMount=function(){var n;rt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var i=(n=this.containerElement.current)===null||n===void 0?void 0:n.querySelector("input");if(i){var r=new google.maps.places.Autocomplete(i,this.props.options);this.registeredEvents=pe({updaterMap:Gy,eventMap:Hy,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{autocomplete:r}},this.setAutocompleteCallback)}},e.prototype.componentDidUpdate=function(n){ve(this.registeredEvents),this.registeredEvents=pe({updaterMap:Gy,eventMap:Hy,prevProps:n,nextProps:this.props,instance:this.state.autocomplete})},e.prototype.componentWillUnmount=function(){this.state.autocomplete!==null&&ve(this.registeredEvents)},e.prototype.render=function(){return p.jsx("div",{ref:this.containerElement,className:this.props.className,children:f.Children.only(this.props.children)})},e.defaultProps={className:""},e.contextType=ae,e})(f.PureComponent);function mD(){const[t,e]=f.useState(null),[n,i]=f.useState({lat:50.48856401456545,lng:30.471688255681993}),[r,s]=f.useState(null),o={lat:50.48856401456545,lng:30.471688255681993},[l,a]=f.useState(null),u={width:"100%",height:"400px"},c=f.useCallback(({lat:y,lng:E})=>{s({lat:y,lng:E})},[]),d=f.useCallback(y=>{y!==null&&a(y)},[]),h=f.useCallback(()=>{r&&new window.google.maps.DirectionsService().route({origin:r,destination:o,travelMode:window.google.maps.TravelMode.DRIVING},d)},[r,d]),g=f.useCallback(y=>{e(y),r&&i(r)},[r]),w=f.useCallback(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(y=>{s({lat:y.coords.latitude,lng:y.coords.longitude})},y=>{console.error("Error"+y)}):console.error("Error")},[]);return f.useEffect(()=>{w()},[w]),f.useEffect(()=>{t&&r&&(i(r),h())},[t,r]),p.jsxs("div",{className:"map",children:[p.jsx("div",{className:"map__title",children:"Адрес нашей компании"}),p.jsx(dA,{mapContainerStyle:u,center:n,zoom:10,onClick:y=>c(y.latLng.toJSON()),onLoad:g,children:l&&p.jsx(gD,{directions:l})})]})}function vD(){return p.jsxs("div",{className:"content contacts",children:[p.jsx(JO,{}),p.jsx(mD,{})]})}function yD(){const t=ye("delivery");return p.jsx("div",{className:"content delivery",children:t.map((e,n)=>p.jsxs("div",{children:[p.jsx("div",{className:"delivery__title",children:e.title}),p.jsxs("div",{className:"delivery__main",children:[p.jsx("div",{className:"delivery__img",children:p.jsx("img",{src:e.img,alt:""})}),p.jsxs("div",{className:"delivery__info",children:[p.jsx("div",{className:"delivery__subtitle",children:e.subtitle}),p.jsxs("div",{className:"delivery__text",children:[p.jsx("div",{className:"delivery__text-title",children:e.titleMain}),e.text,p.jsx("div",{className:"delivery__text-title",children:e.titleElse}),e.textElse]})]})]})]},n))})}function _D(){const t=ye("payment");return p.jsx("div",{className:"content payment",children:t.map((e,n)=>p.jsxs("div",{children:[p.jsx("div",{className:"payment__title",children:e.title}),p.jsxs("div",{className:"payment__main",children:[p.jsx("div",{className:"payment__img",children:p.jsx("img",{src:e.img,alt:""})}),p.jsxs("div",{className:"payment__info",children:[p.jsx("div",{className:"payment__info-title",children:e.titleMain}),p.jsx("p",{children:e.text}),p.jsx("p",{children:e.text1}),p.jsx("p",{children:e.text2}),p.jsx("p",{children:e.text3}),p.jsx("p",{children:e.text4})]}),p.jsxs("div",{className:"payment__info",children:[p.jsx("div",{className:"payment__info-title",children:e.titleElse}),e.textElse]}),p.jsx("div",{className:"payment__important",children:e.subtitle})]})]},n))})}function wD(){const t="basket",e=ye(t),n=ye("usersId"),[i,r]=f.useState(""),[s,o]=f.useState(""),[l,a]=f.useState(!1),[u,c]=f.useState("");console.log(s),f.useEffect(()=>{const B=n.map(Z=>Z.id).join(", ");r(B)},[n]);const d="basket",h=ye(d),g="order",w="authorization",y=ye("authorization");console.log(n);const[E,_]=f.useState(y),[m,v]=f.useState(!1);console.log(n);const C=Object.values(E||{});console.log(m),f.useEffect(()=>{if(n){const N=y.filter(B=>B.id===i);console.log(N),N.length>0?(v(!0),_(N[0].basket),c(N[0].name),o(N[0].phone)):v(!0)}},[i,y,e]),f.useEffect(()=>{const B=n.map(Z=>Z.id).join(", ");r(B)},[n]);const[x,S]=f.useState([]),[L,b]=f.useState({}),[k,T]=f.useState({});f.useEffect(()=>{const N=Object.entries(L),B=Array.from(N,([Z,ee])=>({key:Z,value:ee}));T(B)},[L]);const[M,I]=f.useState(!0);console.log(E),f.useEffect(()=>{S(e)},[e]);const O=N=>{He.database().ref(n.length===0?`${t}/${N.id}`:`${w}/${i}/basket/${N.id}`).remove().then(()=>{console.log(`Элемент с ID ${N.id} удален из Firebase.`),S(ee=>ee.filter(ge=>ge.id!==N.id))}).catch(ee=>{console.error(`Ошибка при удалении элемента с ID ${N.id}: ${ee}`)})};console.log(C);const W=N=>{console.log(N),b(B=>({...B,[N]:(B[N]||1)+1}))},$=N=>{b(B=>{const Z={...B};return Z[N]>0&&(Z[N]-=1),Z})},[H,z]=f.useState(!1);f.useEffect(()=>{if(!H&&C.length>0){const N={};C.forEach(B=>{N[B.id]=1}),console.log(N),b(N),z(!0)}if(!H&&x.length>0){const N={};x.forEach(B=>{N[B.id]=1}),console.log(N),b(N),z(!0)}if(m)if(C&&C.length>0){const N={};C.forEach(B=>{N[B.id]=L[B.id]||1}),console.log(N),b(N),v(!1)}else{const N={};x.forEach(B=>{N[B.id]=L[B.id]||1}),console.log(N),b(N),v(!1)}},[C,H,x]),console.log(L);const A=()=>{I(!1),He.database().ref(g);const N=He.database().ref(n.length===0?g:`${w}/${i}/order`);console.log(`orderCollectionRef1: ${N.toString()}`),N.once("value").then(B=>{const ee=`order${B.numChildren()+1}`,ge=N.child(ee);console.log(ge),console.log(`orderCollectionRef1: ${ge.toString()}`);const D=n.length===0?h:C;D.number=k,D.name=u,D.email=s,ge.set(D).then(()=>{console.log("Data from basket added to order successfully."),He.database().ref(n.length===0?d:`${w}/${i}/basket`).remove().then(()=>{console.log("Basket data removed successfully.")}).catch(Ne=>{console.error("Error removing basket data: ",Ne)})}).catch(re=>{console.error("Error adding data to the order: ",re)})})};function j(N){N.preventDefault(),u&&F(s)?A():a(!0)}function F(N){return/^\d{10}$/.test(N)}return p.jsx("div",{className:"content basket",children:M?x.length>0||C.length>0?p.jsxs("div",{children:[p.jsx("div",{className:"basket__title",children:"Ваша корзина"}),(x.length>0?x:C).map((N,B)=>p.jsx("div",{children:p.jsxs("div",{className:"basket__item",children:[p.jsxs("div",{className:"basket__main",children:[p.jsx("div",{className:"basket__img",children:p.jsx("img",{src:N.img,alt:""})}),p.jsx("div",{className:"basket__subtitle",children:N.title}),p.jsxs("div",{className:"basket__num",children:[p.jsx("button",{onClick:()=>$(N.id),children:"-"}),"Количество: ",L[N.id]||1,p.jsx("button",{onClick:()=>W(N.id),children:"+"})]})]}),p.jsxs("div",{className:"basket__price",children:["Цена: ",parseInt(N.price.replace(/\s+/g,""))*(L[N.id]||1)," грн."]}),p.jsx("button",{onClick:()=>O(N),className:"basket__dell",children:p.jsx("span",{children:"удалить"})})]})},B)),p.jsxs("div",{className:"basket__total",children:["Итоговая стоимость: ",(x.length>0?x:C).reduce((N,B)=>{const Z=parseInt(B.price.replace(/\s+/g,""))*(L[B.id]||1);return N+Z},0)," грн."]}),n.length===0?p.jsxs("form",{className:"contacts__left-block basket-left",onSubmit:j,children:[p.jsx("div",{className:"contacts__title",children:"Введите ваши данные для обратной связи с Вами!!!"}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Ваше имя"}),p.jsx("input",{type:"text",placeholder:"Ведите Ваше имя",value:u,name:"name",required:!0,onChange:N=>{c(N.target.value),a(!1)}})]}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Телефон"}),p.jsx("input",{type:"tel",placeholder:"067...",value:s,name:"email",required:!0,onChange:N=>{o(N.target.value),a(!1)}})]}),l?p.jsx("div",{className:"error",children:"неправильный телефон"}):null,p.jsx("button",{type:"submit",className:"basket__button",children:"Оформить заказ1"})]}):null,n.length===0?null:p.jsx("button",{onClick:A,className:"basket__button",children:"Оформить заказ"})]}):p.jsx("div",{className:"basket__title basket__title-margin",children:"Ваша корзина пуста"}):p.jsxs("div",{className:"basket__confirmation confirmation",children:[p.jsx("div",{className:"confirmation__title",children:"Ваш заказ принят!!!"}),p.jsx("div",{className:"confirmation__text",children:"Ожидайте наш звонок для подтверждение"})]})})}function Ky(){ye("basket");const{userId:t}=op(),e=ye("usersId");f.useState(""),f.useState(""),f.useState([]);const n="authorization",i=ye(n),[r,s]=f.useState(null);f.useEffect(()=>{s(t)},[]);const[o,l]=f.useState("");f.useEffect(()=>{const ie=e.map(G=>G.id).join(", ");console.log(ie),l(ie)},[e]),console.log(o),f.useEffect(()=>{if(i.length>0){const P=i[i.length-1].id;s(parseInt(P)+1)}else s(0)},[i]),console.log(r);const[a,u]=f.useState(i),c=Object.values(a||{});console.log(c),f.useEffect(()=>{if(e){const P=i.filter(ie=>ie.id===o);P.length>0&&u(P[0].confirmed)}},[o,i]),f.useEffect(()=>{const ie=e.map(G=>G.id).join(", ");l(ie)},[e]);const d=i.filter(P=>P.id===o);console.log(d);const h=i.map(P=>P.name),g=i.map(P=>P.id),w=i.map(P=>P.soname),y=i.map(P=>P.city),E=i.map(P=>P.email),_=i.map(P=>P.password),m=i.map(P=>P.phone),[v,C]=f.useState(h),[x,S]=f.useState(w),[L,b]=f.useState(y),[k,T]=f.useState(_),[M,I]=f.useState(E),[O,W]=f.useState(m);f.useState(g);const[$,H]=f.useState(!1),[z,A]=f.useState(!0);f.useEffect(()=>{},[z]);const j=(P,ie)=>{console.log(P),console.log(ie);const G=He.database(),oe=n,me=P;G.ref(`${oe}/${me}`).update(ie).then(()=>{console.log("Данные успешно обновлены на Firebase")}).catch(Ee=>{console.error(`Ошибка при обновлении данных на Firebase: ${Ee}`)})},[F,N]=f.useState([]);f.useEffect(()=>{N([{email:"",password:"",id:r,city:"",name:"",soname:"",phone:""}])},[r]);const B=async(P,ie,G)=>{const oe={...ie};switch(oe[P]=G,ie){case"name":C(oe);break;case"soname":S(oe);break;case"password":T(oe);break;case"phone":W(oe);break;case"city":b(oe);break;case"email":I(oe);break}},Z=()=>{H(!0)},ee=P=>{H(!1);const ie={...v[P]!==void 0&&{name:v[P]},...x[P]!==void 0&&{soname:x[P]},...k[P]!==void 0&&{password:k[P]},...O[P]!==void 0&&{phone:O[P]},...L[P]!==void 0&&{city:L[P]},...M[P]!==void 0&&{email:M[P]}};j(P,ie)},ge=(P,ie)=>{P.preventDefault(),D(ie)},D=P=>{H(!1),A(!1),F[0].id&&l(String(F[0].id));const ie={...v[P]!==void 0&&{name:v[P]},...x[P]!==void 0&&{soname:x[P]},...k[P]!==void 0&&{password:k[P]},...O[P]!==void 0&&{phone:O[P]},...L[P]!==void 0&&{city:L[P]},...M[P]!==void 0&&{email:M[P]},...d.length>0?{}:{id:String(F[0].id)}};j(P,ie)};console.log(c);const[re,Ne]=f.useState(2),X=()=>{Ne(P=>P+2)};return p.jsx("div",{className:"content cabinet",children:p.jsxs("div",{className:"cabinet__form",children:[d.length>0&&z?d.map((P,ie)=>p.jsxs("div",{className:"contacts__left-block",children:[p.jsx("div",{className:"contacts__title",children:"Личные данные"}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Имя"}),p.jsx("input",{type:"text",placeholder:P.name,value:v[P.id],name:`name_${P.id}`,className:$?"disabled":"",required:!0,onChange:G=>B(P.id,"name",G.target.value)})]}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Е-mail"}),p.jsx("input",{type:"email",required:!0,placeholder:P.email,value:M[P.id],name:`email_${P.id}`,className:$?"disabled":"",onChange:G=>B(P.id,"email",G.target.value)})]}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Фамилия"}),p.jsx("input",{type:"text",required:!0,placeholder:P.soname,value:x[P.id],name:`soname_${P.id}`,className:$?"disabled":"",onChange:G=>B(P.id,"soname",G.target.value)})]}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Телефон"}),p.jsx("input",{required:!0,type:"tel",placeholder:P.phone,value:O[P.id],name:`phone_${P.id}`,className:$?"disabled":"",onChange:G=>B(P.id,"phone",G.target.value)})]}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Город"}),p.jsx("input",{type:"text",required:!0,placeholder:P.city,value:L[P.id],name:`city_${P.id}`,className:$?"disabled":"",onChange:G=>B(P.id,"city",G.target.value)})]}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Пароль"}),p.jsx("input",{required:!0,type:"password",placeholder:P.password,value:k[P.id],name:`password_${P.id}`,className:$?"disabled":"",onChange:G=>B(P.id,"password",G.target.value)})]}),$?p.jsx("button",{onClick:G=>ee(P.id),className:"contacts__button",children:"Сохранить"}):p.jsx("button",{onClick:G=>Z(P.id),className:"contacts__button",children:"Изменить"})]},ie)):F.map((P,ie)=>p.jsx("form",{onSubmit:G=>ge(G,P.id),children:z?p.jsxs("div",{className:"contacts__left-block",children:[p.jsx("div",{className:"contacts__title",children:"Личные данные"}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Имя"}),p.jsx("input",{type:"text",required:!0,placeholder:P.name,value:v[P.id],name:`name_${P.id}`,className:"disabled",onChange:G=>B(P.id,"name",G.target.value)})]}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Е-mail"}),p.jsx("input",{type:"email",required:!0,placeholder:P.email,value:M[P.id],name:`email_${P.id}`,className:"disabled",onChange:G=>B(P.id,"email",G.target.value)})]}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Фамилия"}),p.jsx("input",{type:"text",required:!0,placeholder:P.soname,value:x[P.id],name:`soname_${P.id}`,className:"disabled",onChange:G=>B(P.id,"soname",G.target.value)})]}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Телефон"}),p.jsx("input",{type:"tel",required:!0,placeholder:P.phone,value:O[P.id],name:`phone_${P.id}`,className:"disabled",onChange:G=>B(P.id,"phone",G.target.value)})]}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Город"}),p.jsx("input",{type:"text",required:!0,placeholder:P.city,value:L[P.id],name:`city_${P.id}`,className:"disabled",onChange:G=>B(P.id,"city",G.target.value)})]}),p.jsxs("div",{className:"contacts__input",children:[p.jsx("label",{children:"Пароль"}),p.jsx("input",{type:"password",required:!0,placeholder:P.password,value:k[P.id],name:`password_${P.id}`,className:"disabled",onChange:G=>B(P.id,"password",G.target.value)})]}),p.jsx("button",{type:"submit",className:"contacts__button",children:"Зарегистрироваться"})]}):p.jsx("span",{className:"info-autho",children:"Пожалуйста войдите теперь под своим логином и паролем"})},ie)),p.jsxs("div",{className:"contacts__right-block",children:[c.length!==0?p.jsx("div",{className:"contacts__title",children:"Мои заказы"}):null,p.jsx("div",{className:"cabinet__table",children:c.slice(0,re).map((P,ie)=>p.jsxs("div",{children:[p.jsxs("div",{className:"cabinet__date",children:["Дата заказа: ",P.orderDate]},ie),p.jsx("div",{children:p.jsxs("table",{children:[p.jsxs("tr",{children:[p.jsx("th",{children:" "}),p.jsx("th",{children:"Товар"}),p.jsx("th",{children:"Група товара"}),p.jsx("th",{children:"Цена"})]}),Object.values(P).map((G,oe)=>p.jsx("tbody",{children:Object.values(G).map((me,Ee)=>p.jsxs("tr",{children:[me.img?p.jsx("td",{children:p.jsx("img",{src:me.img,alt:""})}):null,me.title?p.jsx("td",{children:me.title}):null,me.text?p.jsx("td",{children:me.text}):null,me.price?p.jsxs("td",{children:[me.price," грн."]}):null]},Ee))},oe))]})})]},ie))})]}),re<c.length&&p.jsx("button",{className:"contacts__button",id:"loadMore",onClick:X,children:"Загрузить еще"})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="firebasestorage.googleapis.com",sE="storageBucket",CD=2*60*1e3,SD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt extends fi{constructor(e,n,i=0){super(kd(e),`Firebase Storage: ${n} (${kd(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var et;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(et||(et={}));function kd(t){return"storage/"+t}function ag(){const t="An unknown error occurred, please check the error payload for server response.";return new tt(et.UNKNOWN,t)}function ED(t){return new tt(et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function xD(t){return new tt(et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function bD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tt(et.UNAUTHENTICATED,t)}function LD(){return new tt(et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kD(t){return new tt(et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function TD(){return new tt(et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ID(){return new tt(et.CANCELED,"User canceled the upload/download.")}function PD(t){return new tt(et.INVALID_URL,"Invalid URL '"+t+"'.")}function MD(t){return new tt(et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ND(){return new tt(et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sE+"' property when initializing the app?")}function RD(){return new tt(et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function OD(){return new tt(et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function AD(t){return new tt(et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lh(t){return new tt(et.INVALID_ARGUMENT,t)}function oE(){return new tt(et.APP_DELETED,"The Firebase app was deleted.")}function DD(t){return new tt(et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function To(t,e){return new tt(et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function so(t){throw new tt(et.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Xt.makeFromUrl(e,n)}catch{return new Xt(e,"")}if(i.path==="")return i;throw MD(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+r+o,"i"),a={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${c}/b/${r}/o${h}`,"i"),w={bucket:1,path:3},y=n===rE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",_=new RegExp(`^https?://${y}/${r}/${E}`,"i"),v=[{regex:l,indices:a,postModify:s},{regex:g,indices:w,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<v.length;C++){const x=v[C],S=x.regex.exec(e);if(S){const L=S[x.indices.bucket];let b=S[x.indices.path];b||(b=""),i=new Xt(L,b),x.postModify(i);break}}if(i==null)throw PD(e);return i}}class jD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t,e,n){let i=1,r=null,s=null,o=!1,l=0;function a(){return l===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function d(E){r=setTimeout(()=>{r=null,t(g,a())},E)}function h(){s&&clearTimeout(s)}function g(E,..._){if(u){h();return}if(E){h(),c.call(null,E,..._);return}if(a()||o){h(),c.call(null,E,..._);return}i<64&&(i*=2);let v;l===1?(l=2,v=0):v=(i+Math.random())*1e3,d(v)}let w=!1;function y(E){w||(w=!0,h(),!u&&(r!==null?(E||(l=2),clearTimeout(r),d(0)):E||(l=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function UD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){return t!==void 0}function BD(t){return typeof t=="object"&&!Array.isArray(t)}function lg(t){return typeof t=="string"||t instanceof String}function Qy(t){return ug()&&t instanceof Blob}function ug(){return typeof Blob<"u"&&!sk()}function qy(t,e,n,i){if(i<e)throw lh(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw lh(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function aE(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xr||(xr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,i,r,s,o,l,a,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new al(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const a=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===xr.NO_ERROR,a=s.getStatus();if(!l||$D(a,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===xr.ABORT;i(!1,new al(!1,null,c));return}const u=this.successCodes_.indexOf(a)!==-1;i(!0,new al(u,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const a=this.callback_(l,l.getResponse());zD(a)?s(a):s()}catch(a){o(a)}else if(l!==null){const a=ag();a.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,a)):o(a)}else if(r.canceled){const a=this.appDelete_?oE():ID();o(a)}else{const a=TD();o(a)}};this.canceled_?n(!1,new al(!1,null,!0)):this.backoffId_=FD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class al{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function WD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function HD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function KD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function QD(t,e,n,i,r,s,o=!0){const l=aE(t.urlParams),a=t.url+l,u=Object.assign({},t.headers);return GD(u,e),WD(u,n),HD(u,s),KD(u,i),new VD(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function YD(...t){const e=qD();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(ug())return new Blob(t);throw new tt(et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ZD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){if(typeof atob>"u")throw AD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Td{constructor(e,n){this.data=e,this.contentType=n||null}}function JD(t,e){switch(t){case $n.RAW:return new Td(lE(e));case $n.BASE64:case $n.BASE64URL:return new Td(uE(t,e));case $n.DATA_URL:return new Td(tj(e),nj(e))}throw ag()}function lE(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,o=t.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function ej(t){let e;try{e=decodeURIComponent(t)}catch{throw To($n.DATA_URL,"Malformed data URL.")}return lE(e)}function uE(t,e){switch(t){case $n.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw To(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case $n.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw To(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=XD(e)}catch(r){throw r.message.includes("polyfill")?r:To(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class cE{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw To($n.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=ij(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function tj(t){const e=new cE(t);return e.base64?uE($n.BASE64,e.rest):ej(e.rest)}function nj(t){return new cE(t).contentType}function ij(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n){let i=0,r="";Qy(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(Qy(this.data_)){const i=this.data_,r=ZD(i,e,n);return r===null?null:new bi(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new bi(i,!0)}}static getBlob(...e){if(ug()){const n=e.map(i=>i instanceof bi?i.data_:i);return new bi(YD.apply(null,n))}else{const n=e.map(o=>lg(o)?JD($n.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)r[s++]=o[l]}),new bi(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t){let e;try{e=JSON.parse(t)}catch{return null}return BD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function sj(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function fE(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t,e){return e}class Mt{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||oj}}let ll=null;function aj(t){return!lg(t)||t.length<2?t:fE(t)}function hE(){if(ll)return ll;const t=[];t.push(new Mt("bucket")),t.push(new Mt("generation")),t.push(new Mt("metageneration")),t.push(new Mt("name","fullPath",!0));function e(s,o){return aj(o)}const n=new Mt("name");n.xform=e,t.push(n);function i(s,o){return o!==void 0?Number(o):o}const r=new Mt("size");return r.xform=i,t.push(r),t.push(new Mt("timeCreated")),t.push(new Mt("updated")),t.push(new Mt("md5Hash",null,!0)),t.push(new Mt("cacheControl",null,!0)),t.push(new Mt("contentDisposition",null,!0)),t.push(new Mt("contentEncoding",null,!0)),t.push(new Mt("contentLanguage",null,!0)),t.push(new Mt("contentType",null,!0)),t.push(new Mt("metadata","customMetadata",!0)),ll=t,ll}function lj(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new Xt(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function uj(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const o=n[s];i[o.local]=o.xform(i,e[o.server])}return lj(i,t),i}function pE(t,e,n){const i=dE(e);return i===null?null:uj(t,i,n)}function cj(t,e,n,i){const r=dE(e);if(r===null||!lg(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),g=cg(h,n,i),w=aE({alt:"media",token:u});return g+w})[0]}function dj(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class gE{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){if(!t)throw ag()}function fj(t,e){function n(i,r){const s=pE(t,r,e);return mE(s!==null),s}return n}function hj(t,e){function n(i,r){const s=pE(t,r,e);return mE(s!==null),cj(s,r,t.host,t._protocol)}return n}function vE(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=LD():r=bD():n.getStatus()===402?r=xD(t.bucket):n.getStatus()===403?r=kD(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function pj(t){const e=vE(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=ED(t.path)),s.serverResponse=r.serverResponse,s}return n}function gj(t,e,n){const i=e.fullServerUrl(),r=cg(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new gE(r,s,hj(t,n),o);return l.errorHandler=pj(e),l}function mj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function vj(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=mj(null,e)),i}function yj(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let v="";for(let C=0;C<2;C++)v=v+Math.random().toString().slice(2);return v}const a=l();o["Content-Type"]="multipart/related; boundary="+a;const u=vj(e,i,r),c=dj(u,n),d="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+a+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+a+"--",g=bi.getBlob(d,i,h);if(g===null)throw RD();const w={name:u.fullPath},y=cg(s,t.host,t._protocol),E="POST",_=t.maxUploadRetryTime,m=new gE(y,E,fj(t,n),_);return m.urlParams=w,m.headers=o,m.body=g.uploadData(),m.errorHandler=vE(e),m}class _j{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw so("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw so("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw so("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw so("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw so("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wj extends _j{initXhr(){this.xhr_.responseType="text"}}function yE(){return new wj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){this._service=e,n instanceof Xt?this._location=n:this._location=Xt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Dr(e,n)}get root(){const e=new Xt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fE(this._location.path)}get storage(){return this._service}get parent(){const e=rj(this._location.path);if(e===null)return null;const n=new Xt(this._location.bucket,e);return new Dr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw DD(e)}}function Cj(t,e,n){t._throwIfRoot("uploadBytes");const i=yj(t.storage,t._location,hE(),new bi(e,!0),n);return t.storage.makeRequestWithTokens(i,yE).then(r=>({metadata:r,ref:t}))}function Sj(t){t._throwIfRoot("getDownloadURL");const e=gj(t.storage,t._location,hE());return t.storage.makeRequestWithTokens(e,yE).then(n=>{if(n===null)throw OD();return n})}function Ej(t,e){const n=sj(t._location.path,e),i=new Xt(t._location.bucket,n);return new Dr(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t){return/^[A-Za-z]+:\/\//.test(t)}function bj(t,e){return new Dr(t,e)}function _E(t,e){if(t instanceof dg){const n=t;if(n._bucket==null)throw ND();const i=new Dr(n,n._bucket);return e!=null?_E(i,e):i}else return e!==void 0?Ej(t,e):t}function Lj(t,e){if(e&&xj(e)){if(t instanceof dg)return bj(t,e);throw lh("To use ref(service, url), the first argument must be a Storage instance.")}else return _E(t,e)}function Yy(t,e){const n=e==null?void 0:e[sE];return n==null?null:Xt.makeFromBucketSpec(n,t)}function kj(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:k0(r,t.app.options.projectId))}class dg{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=rE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CD,this._maxUploadRetryTime=SD,this._requests=new Set,r!=null?this._bucket=Xt.makeFromBucketSpec(r,this._host):this._bucket=Yy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xt.makeFromBucketSpec(this._url,e):this._bucket=Yy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Dr(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new jD(oE());{const o=QD(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const Zy="@firebase/storage",Xy="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="storage";function Tj(t,e,n){return t=st(t),Cj(t,e,n)}function Ij(t){return t=st(t),Sj(t)}function Pj(t,e){return t=st(t),Lj(t,e)}function Mj(t=j0(),e){t=st(t);const i=fp(t,wE).getImmediate({identifier:e}),r=ik("storage");return r&&Nj(i,...r),i}function Nj(t,e,n,i={}){kj(t,e,n,i)}function Rj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new dg(n,i,r,e,zr)}function Oj(){ui(new Sn(wE,Rj,"PUBLIC").setMultipleInstances(!0)),_n(Zy,Xy,""),_n(Zy,Xy,"esm2017")}Oj();function Aj(){const t="cards",e=ye(t),n=ye("order");console.log(n);const[i,r]=f.useState([]);f.useEffect(()=>{r(n)},[n]),console.log(i);const[s,o]=f.useState([]),l=e.map(R=>R.title),a=e.map(R=>R.text),u=e.map(R=>R.group),c=e.map(R=>R.price),d=e.map(R=>R.describe),h=e.map(R=>R&&R.sizes&&Array.isArray(R.sizes)?R.sizes.map(Y=>Y):[]).flat(),[g,w]=f.useState(l),[y,E]=f.useState(a),[_,m]=f.useState(u),[v,C]=f.useState(c),[x,S]=f.useState(d),[L,b]=f.useState(h),[k,T]=f.useState(),[M,I]=f.useState(),[O,W]=f.useState({});console.log(k),console.log(M),console.log(O);const $=ye("authorization"),H=R=>{let Y=1;const K={};for(const fe in R)K[fe]={...R[fe],numbers:Y},Y++;return K};f.useEffect(()=>{const R=$.find(Y=>Y.order);console.log(R),R&&R.id&&(A(R.id),T(R.order))},[$]),f.useEffect(()=>{const R=H(k);console.log(R),I(R)},[k]),console.log(O);const[z,A]=f.useState("");console.log(z),ye("usersId"),console.log(z);const[j,F]=f.useState($);f.useState($),console.log(j);const N=Object.values(j||{}),B=Object.values(M||{});console.log(N),console.log(B);const[Z,ee]=f.useState($);console.log(Z),f.useEffect(()=>{const R=$.filter(Y=>Y.id===z);console.log(R),R.length>0&&F(R[0].order)},[z,$,k]);const[ge,D]=f.useState({});console.log(ge),f.useEffect(()=>{N.length>0&&D(N[0].number)},[$]);const[re,Ne]=f.useState(!1),[X,P]=f.useState();f.useState(null);const ie=(R,Y)=>{console.log(R),console.log(Y);const K=He.database(),fe=R;K.ref(`${t}/${fe}`).update(Y).then(()=>{console.log("Данные успешно обновлены на Firebase")}).catch(ze=>{console.error(`Ошибка при обновлении данных на Firebase: ${ze}`)})},[G,oe]=f.useState("");console.log(typeof G);const me=async(R,Y,K)=>{const fe={...Y};switch(console.log(R),fe[R]=K,Y){case"title":w(fe);break;case"group":m(fe);break;case"price":C(fe);break;case"describe":S(fe);break;case"sizes":b(fe);break;case"text":E(fe);break}},Ee=R=>{P(R)},Ie=R=>{P(!0);const Y={...g[R]!==void 0&&{title:g[R]},..._[R]!==void 0&&{group:_[R]},...v[R]!==void 0&&{price:v[R]},...x[R]!==void 0&&{describe:x[R]},...L[R]!==void 0&&{sizes:L[R]},...y[R]!==void 0&&{text:y[R]},...G!==void 0&&G!==""&&{img:G}};oe(""),console.log(Y),ie(R,Y)};f.useEffect(()=>{o(e.sort((R,Y)=>parseInt(Y.id)-parseInt(R.id)))},[e]);const Ze=R=>{console.log(s);const K=He.database().ref(`${t}/${R}`);console.log(K),K.remove().then(()=>{const fe=s.filter(ze=>ze.id!==R);o(fe)}).catch(fe=>{console.error("Ошибка: "+fe)})},[Ae,De]=f.useState({id:"",img:"",title:"",text:"",group:"",price:"",sizes:{1:"",2:"",3:"",4:""}}),ue=()=>{const Y=He.database().ref(t);Y.once("value").then(K=>{const fe=K.val()||{},ze=Object.keys(fe).map(ut=>ut.replace("card",""));console.log(ze);let Be=1;for(;ze.includes(Be.toString());)Be++;const ln=`${Be}`;o(ut=>[...ut,{id:ln,...Ae}]);const pi={...Ae,id:ln};Y.child(ln).set(pi).then(()=>{console.log(`Карточка с id ${ln} добавлена`)}).catch(ut=>{console.error(`Ошибка ${ln}: ${ut}`)}),De({id:"",img:"",title:"",text:"",group:"",price:"",sizes:{1:"",2:"",3:"",4:""}})}).catch(K=>{console.error("Ошибка при получении данных: "+K)})},[le,ot]=f.useState(1),ht=8,J=(le-1)*ht,Kt=J+ht,ar=s.slice(J,Kt),bn=Math.ceil(s.length/ht);f.useEffect(()=>{},[s,le]);const lr=R=>{ot(R)},Pe=()=>{const R=[...s].sort((Y,K)=>parseInt(Y.id)-parseInt(K.id));o(R)},Hr=()=>{const R=[...s].sort((Y,K)=>parseInt(K.id)-parseInt(Y.id));o(R)},[hi,ka]=f.useState([]),Gr=(R,Y)=>{const K=R.target.files[0];if(K){const fe=[...hi];fe[Y]=K,ka(fe)}};console.log(hi);const Ta=async(R,Y,K)=>{Y="images",K=R.name,console.log(R);const fe=Mj(),ze=Pj(fe,`${Y}/${K}`);try{await Tj(ze,R);const Be=await Ij(ze);console.log("URL загруженного изображения:",Be),oe(Be)}catch(Be){console.error("Ошибка при загрузке изображения: ",Be)}},Ia=R=>{const K=He.database().ref(z?`authorization/${z}/order`:"order"),fe=()=>{console.log(`Папка "order${R}" успешно удалена.`),K.once("value").then(ze=>{const Be=ze.val();if(Be&&typeof Be=="object"){const ln={};let pi=1;for(let ut=1;ut<=Object.keys(Be).length+1;ut++)ut!==R&&Be[`order${ut}`]&&(ln[`order${pi}`]=Be[`order${ut}`],pi++);return K.set(ln)}else return console.log("Данные отсутствуют или являются пустым объектом."),null}).then(()=>{console.log("Папки успешно переупорядочены после удаления.")}).catch(ze=>{console.error("Ошибка при удалении или обновлении данных: ",ze)})};K.child(`order${R}`).remove().then(()=>K.once("value")).then(ze=>{const Be=ze.val();if(Be&&typeof Be=="object"&&Object.keys(Be).length===0)return K.set({})}).then(fe).catch(ze=>{console.error(`Ошибка при удалении папки "order${R}": `,ze)}).then(()=>{A(""),console.log(`Заказ ${R} успешно удален.`)}).catch(ze=>{console.error("Ошибка при удалении заказа: ",ze)})},Pa=async R=>{try{const Y=He.database(),K=Y.ref(z?`authorization/${z}/order`:"order");let fe=1,ze;console.log(JSON.stringify(K));const Be=new Date().toLocaleDateString();fe=await(async un=>{for(;;){if(!(await Y.ref(z?`authorization/${z}/confirmed/order${un}`:`confirmed/order${un}`).once("value")).exists())return un;un++}})(fe),ze=Y.ref(z?`authorization/${z}/confirmed/order${fe}`:`confirmed/order${fe}`);const ut=(await K.once("value")).val();console.log(ut);const Ma={...ut,orderDate:`${Be}`};await ze.set(Ma),await K.child(`order${R}`).remove();const gi=(await K.once("value")).val();gi&&typeof gi=="object"&&Object.keys(gi).length===0&&await K.set({}),console.log(`Папка "order${R}" успешно удалена.`);const mi=(await K.once("value")).val();if(mi&&typeof mi=="object"){const un={};let Kr=1;for(let qn=1;qn<=Object.keys(mi).length+1;qn++)qn!==R&&mi[`order${qn}`]&&(un[`order${Kr}`]=mi[`order${qn}`],Kr++);await K.set(un)}else console.log("Данные отсутствуют или являются пустым объектом.");console.log("Папки успешно переупорядочены после удаления."),A(""),console.log(R),console.log(`Данные успешно перемещены в папку "order${fe}".`)}catch(Y){console.error("Ошибка: ",Y)}};return p.jsxs("div",{className:"content basket admin",children:[p.jsxs("div",{className:"",children:[i.length>0?p.jsx("div",{className:"basket__title",children:"Новые заказы"}):null,N.length>0?p.jsx("div",{className:"basket__title",children:"Новые заказы"}):null,(i.length>0&&N.length>0?i.concat(N):i.length>0?i:N).map((R,Y)=>p.jsxs("div",{className:"orders",children:[p.jsxs("div",{className:"orders__user",children:[R.name===""?null:p.jsxs("div",{children:["Имя клиента: ",R.name]}),R.email===""?null:p.jsxs("div",{children:["Номер телефона: ",R.email]}),console.log(i.concat(N))]}),Object.values(R).map((K,fe)=>p.jsx("div",{children:!K.img||!K.title||!K.text?null:p.jsxs("div",{className:"orders__item",children:[console.log(K),p.jsx("div",{className:"orders__img",children:p.jsx("img",{src:K.img,alt:""})}),p.jsxs("div",{className:"orders__text",children:[p.jsxs("span",{children:["Товар: ",p.jsx("span",{children:K.title})]}),p.jsxs("span",{children:["Категория: ",p.jsx("span",{children:K.text})]}),p.jsxs("span",{children:["Количество: ",p.jsx("span",{children:R.number[fe].value})]}),p.jsxs("span",{children:["Цена за один: ",p.jsx("span",{children:K.price})," грн."]}),p.jsxs("span",{children:["Цена общая: ",p.jsxs("span",{children:[parseInt(K.price.replace(/\s+/g,""))*R.number[fe].value," грн."]})]}),console.log(typeof K.price)]})]})},fe)),p.jsxs("div",{className:"admin__buttons-bl",children:[p.jsx("button",{onClick:()=>Pa(Y+1),className:"admin__button orders__button",children:"Принять заказ"}),p.jsx("button",{onClick:()=>Ia(Y+1),className:"admin__button orders__button",children:"Отклонить заказ"})]})]},Y))]}),p.jsxs("div",{className:"admin__top",children:[p.jsxs("div",{className:"admin__top-left",children:[p.jsx("div",{className:"basket__title",children:"Админ панель"}),p.jsx("button",{className:"admin__button admin__red",onClick:ue,children:"Добавить новую карточку"})]}),p.jsxs("div",{className:"admin__top-right",children:[p.jsx("button",{className:"admin__button",onClick:Pe,children:"Сортировка по возрастанию"}),p.jsx("button",{className:"admin__button",onClick:Hr,children:"Сортировка по убыванию"})]})]}),ar.map((R,Y)=>p.jsx("div",{className:"admin__box",children:p.jsxs("div",{className:`basket__item ${X===R.id?"active":""}`,children:[p.jsxs("div",{className:"basket__main",children:[p.jsxs("div",{className:"basket__img",children:[hi[R.id]?p.jsx("img",{src:URL.createObjectURL(hi[R.id]),alt:""}):p.jsx("img",{src:R.img,alt:""}),p.jsx("input",{type:"file",id:Y,accept:R.img,className:re?"disabled":"",name:"image",onChange:K=>Gr(K,R.id)}),p.jsx("button",{className:"basket__download",onClick:()=>Ta(hi[R.id]),children:"download"})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"admin__number",children:[p.jsx("span",{children:"Номер"}),R.id]}),p.jsxs("div",{className:"basket__subtitle flex-box",children:[p.jsx("label",{children:"Заговолок:"}),p.jsx("input",{type:"text",placeholder:R.title,value:g[R.id],name:`title_${R.id}`,className:re?"disabled":"",onChange:K=>me(R.id,"title",K.target.value)})]}),p.jsxs("div",{className:"basket__subtitle basket__group flex-box",children:[p.jsx("label",{children:"Подзаголовок:"}),p.jsx("input",{type:"text",placeholder:R.text,value:y[R.id],name:`text_${R.id}`,className:re[Y]?"disabled":"",onChange:K=>me(R.id,"text",K.target.value)})]}),p.jsxs("div",{className:"basket__subtitle basket__group flex-box",children:[p.jsx("label",{children:"Група:"}),p.jsx("input",{type:"text",placeholder:R.group,value:_[R.id],name:`group_${R.id}`,className:re?"disabled":"",onChange:K=>me(R.id,"group",K.target.value)})]}),p.jsxs("div",{className:"basket__subtitle basket__group flex-box",children:[p.jsx("label",{children:"Цена:"}),p.jsx("input",{type:"number",placeholder:R.price,value:v[R.id],name:`price_${R.id}`,className:re?"disabled":"",onChange:K=>me(R.id,"price",K.target.value)})]}),p.jsxs("div",{className:"basket__subtitle basket__group flex-box",children:[p.jsx("label",{children:"Описание:"}),p.jsx("textarea",{placeholder:R.describe,value:x[R.id],name:`describe_${R.id}`,className:re?"disabled":"",onChange:K=>me(R.id,"describe",K.target.value)})]})]})]}),p.jsxs("div",{className:"admin__buttons",children:[p.jsx("button",{onClick:K=>Ie(R.id),className:"admin__change save",children:"Сохранить"}),p.jsx("button",{onClick:K=>Ee(R.id),className:"admin__change change",children:"Изменить"}),p.jsx("button",{onClick:K=>Ze(R.id),className:"admin__del",children:"Удалить"})]})]})},Y)),p.jsx("div",{className:"pagination",children:Array.from({length:bn},(R,Y)=>p.jsx("button",{onClick:()=>lr(Y+1),className:le===Y+1?"active":"",children:Y+1},Y))})]})}const Dj=f.createContext();function jj({children:t}){const[e,n]=f.useState([]),i=r=>{n(r)};return p.jsx(Dj.Provider,{value:{count:e,updateСount:i},children:t})}function Fj(){return p.jsx(jj,{children:p.jsxs("div",{className:"App",children:[p.jsx(HO,{}),p.jsxs("div",{className:"container-wrap",children:[p.jsx(kn,{children:p.jsx(cn,{exact:!0,path:"/",element:p.jsx(YR,{})})}),p.jsx(kn,{children:p.jsx(cn,{path:"/Cabinet/:userId",element:p.jsx(Ky,{})})}),p.jsx(kn,{children:p.jsx(cn,{exact:!0,path:"/AdminPanel",element:p.jsx(Aj,{})})}),p.jsx(kn,{children:p.jsx(cn,{exact:!0,path:"/Cards/:itemId",element:p.jsx(QO,{})})}),p.jsx(kn,{children:p.jsx(cn,{exact:!0,path:"/CardsPage/:itemId",element:p.jsx(ZO,{})})}),p.jsx(kn,{children:p.jsx(cn,{exact:!0,path:"/Basket",element:p.jsx(wD,{})})}),p.jsx(kn,{children:p.jsx(cn,{exact:!0,path:"/Cabinet",element:p.jsx(Ky,{})})}),p.jsx(kn,{children:p.jsx(cn,{exact:!0,path:"/Delivery",element:p.jsx(yD,{})})}),p.jsx(kn,{children:p.jsx(cn,{exact:!0,path:"/Contacts",element:p.jsx(vD,{})})}),p.jsx(kn,{children:p.jsx(cn,{exact:!0,path:"/Payment",element:p.jsx(_D,{})})})]}),p.jsx(kn,{children:p.jsx(cn,{exact:!0,path:"/About",element:p.jsx(XO,{})})}),p.jsx(KO,{})]})})}function Nt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Jy=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Id=function(){return Math.random().toString(36).substring(7).split("").join(".")},wu={INIT:"@@redux/INIT"+Id(),REPLACE:"@@redux/REPLACE"+Id(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Id()}};function Uj(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function CE(t,e,n){var i;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Nt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Nt(1));return n(CE)(t,e)}if(typeof t!="function")throw new Error(Nt(2));var r=t,s=e,o=[],l=o,a=!1;function u(){l===o&&(l=o.slice())}function c(){if(a)throw new Error(Nt(3));return s}function d(y){if(typeof y!="function")throw new Error(Nt(4));if(a)throw new Error(Nt(5));var E=!0;return u(),l.push(y),function(){if(E){if(a)throw new Error(Nt(6));E=!1,u();var m=l.indexOf(y);l.splice(m,1),o=null}}}function h(y){if(!Uj(y))throw new Error(Nt(7));if(typeof y.type>"u")throw new Error(Nt(8));if(a)throw new Error(Nt(9));try{a=!0,s=r(s,y)}finally{a=!1}for(var E=o=l,_=0;_<E.length;_++){var m=E[_];m()}return y}function g(y){if(typeof y!="function")throw new Error(Nt(10));r=y,h({type:wu.REPLACE})}function w(){var y,E=d;return y={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(Nt(11));function v(){m.next&&m.next(c())}v();var C=E(v);return{unsubscribe:C}}},y[Jy]=function(){return this},y}return h({type:wu.INIT}),i={dispatch:h,subscribe:d,getState:c,replaceReducer:g},i[Jy]=w,i}function zj(t){Object.keys(t).forEach(function(e){var n=t[e],i=n(void 0,{type:wu.INIT});if(typeof i>"u")throw new Error(Nt(12));if(typeof n(void 0,{type:wu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Nt(13))})}function Bj(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var r=e[i];typeof t[r]=="function"&&(n[r]=t[r])}var s=Object.keys(n),o;try{zj(n)}catch(l){o=l}return function(a,u){if(a===void 0&&(a={}),o)throw o;for(var c=!1,d={},h=0;h<s.length;h++){var g=s[h],w=n[g],y=a[g],E=w(y,u);if(typeof E>"u")throw u&&u.type,new Error(Nt(14));d[g]=E,c=c||E!==y}return c=c||s.length!==Object.keys(a).length,c?d:a}}const $j=[{id:"28",title:"Бойовики",size:"big",img:"https://i.ibb.co/G9GJrGC/tile-big.png"}],Vj=[{id:"10752",title:"Військові",img:"https://i.ibb.co/54Z2j8p/tile-ar.png"},{id:"37",title:"Триллер",img:"https://i.ibb.co/wQDVnTs/tile-ar1.png"}],Wj=[{id:"37",title:"Вестерн",img:"https://i.ibb.co/JrM6ydk/tile-s1.png"},{id:"18",title:"Драми",img:"https://i.ibb.co/R9nHZZW/Rectangle-18.png"},{id:"35",title:"Комедії",img:"https://i.ibb.co/W5wDHS3/Rectangle-19.png"},{id:"80",title:"Кримінали",img:"https://i.ibb.co/fCPFZbr/kriminal.jpg"},{id:"10751",title:"Мелодрами",img:"https://i.ibb.co/xM6MJNb/Rectangle-21.png"},{id:"53",title:"Трилери",img:"https://i.ibb.co/wY00JGx/Rectangle-22.png"},{id:"27",title:"Ужаси",img:"https://i.ibb.co/hCCTQMF/Rectangle-23.png"},{id:"14",title:"Фантастика",img:"https://i.ibb.co/7GRS23s/Rectangle-24.png"},{id:"10402",title:"Музичні фільми",img:"https://i.ibb.co/7JvyhJF/music.jpg"},{id:"16",title:"Анімація",img:"https://i.ibb.co/4FRdr4V/anime.jpg"},{id:"12",title:"Пригоди",img:"https://i.ibb.co/q5T9jk3/pricl.jpg"},{id:"99",title:"Документальний фільм",img:"https://i.ibb.co/mt88w78/ocum.jpg"},{id:"36",title:"Історичний фільм",img:"https://i.ibb.co/L1mKfgg/historical.jpg"},{id:"9648",title:"Містика",img:"https://i.ibb.co/8MN5cRT/mistic.jpg"},{id:"10749",title:"Фільмы про кохання",img:"https://i.ibb.co/bJzWdp6/love.jpg"}],e_={sectionBig:$j,sectionMiddle:Vj,sectionSmall:Wj};function Hj(t={data:e_,todos1:[]},e){switch(console.log(e.personId),e.type){case KR:return{...t,data:e_,todos1:[...t.todos1,...e.todos1]};case QR:return{...t,personId:e.personId};default:return t}}const Gj=Bj({todos:Hj}),SE=CE(Gj);console.log(SE.getState());Pd.createRoot(document.getElementById("root")).render(p.jsx(nt.StrictMode,{children:p.jsx(GR,{store:SE,children:p.jsx(WL,{children:p.jsx(Fj,{})})})}));
